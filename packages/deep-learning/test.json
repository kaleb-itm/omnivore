[
  {
    "description": "Another new release of Git is here! Take a look at some of our highlights on what's new in Git 2.36.",
    "title": "Highlights from Git 2.36",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n  <div data-dark-theme=\"dark_dimmed\" data-light-theme=\"light\" data-color-mode=\"dark\">\n        <div>\n        <p>Another new release of Git is here! Take a look at some of our highlights on what's new in Git 2.36.</p>      </div>\n                <div>\n              \n              <p><img decoding=\"async\" loading=\"lazy\" alt=\"Highlights from Git 2.36\" height=\"850\" width=\"1600\" src=\"https://proxy-prod.omnivore-image-cache.app/1600x850,s5v2z5FJlLnQE7HWKIODEaBlYgto5ke6qn65brxaEh-A/https://github.blog/wp-content/uploads/2022/04/git-2.36.png?resize=1600%2C850\" srcset=\"https://proxy-prod.omnivore-image-cache.app/800x0,sRIp2-KlGETZDzTI2hZOagVHfAbMaSD1sQhKU7f90M2s/https://github.blog/wp-content/uploads/2022/04/git-2.36.png?resize=800%2C425 800w,https://proxy-prod.omnivore-image-cache.app/1600x0,sdVn5B79fYm1RUtSAgLVzBtKFpstVUSwnfr7F4s7InMo/https://github.blog/wp-content/uploads/2022/04/git-2.36.png?resize=1600%2C850 1600w,https://proxy-prod.omnivore-image-cache.app/3200x0,sO9tUyOEDXhS_y9yC4N4AzY7Std4VzIsTmNgR1pZE3h0/https://github.blog/wp-content/uploads/2022/04/git-2.36.png?resize=3200%2C1700 3200w,\">          </p></div>\n            </div>\n  \n  \n  <div>\n      \n  \n  \n  <main id=\"post-64204\" role=\"main\">\n    \n  <p>The open source Git project just <a href=\"https://lore.kernel.org/git/xmqqh76qz791.fsf@gitster.g/T/#u\">released Git 2.36,</a> with features and bug fixes from over 96 contributors,\n          26 of them new. We last caught up with you on the latest in Git back <a href=\"https://github.blog/2022-01-24-highlights-from-git-2-35/\">when 2.35 was released</a>.</p>\n  <p>To celebrate this most recent release, here’s GitHub’s look at some of the most interesting features and changes introduced since last time.</p>\n  <h2>Review merge conflict resolution with –remerge-diff</h2>\n  <p>Returning readers may remember our coverage of <a href=\"https://github.blog/2021-08-16-highlights-from-git-2-33/\">merge <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">ort</span></code></a>, the from-scratch rewrite of Git’s <a href=\"https://git-scm.com/docs/merge-strategies#Documentation/merge-strategies.txt-recursive\"><code class=\"hljs language-ebnf language-fortran\"><span class=\"hljs-attribute\">recursive</span></code></a> merge engine.</p>\n  <p>This release brings another new feature powered by <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">ort</span></code>, which is the <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--remerge-diff</span></code> option. To explain what <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--remerge-diff</span></code> is and why you might be excited about it, let’s take a step back and talk about <code class=\"hljs language-dart language-ebnf\">git <span class=\"hljs-keyword\">show</span></code>.</p>\n  <p>When given a commit <code class=\"hljs language-dart language-ebnf\">git <span class=\"hljs-keyword\">show</span></code> will print out that commit’s log message as well as its diff. But it has slightly different behavior when given a merge commit, especially one that had merge conflicts. If you’ve ever passed a conflicted merge to <code class=\"hljs language-dart language-ebnf\">git <span class=\"hljs-keyword\">show</span></code>, you might be familiar with this output:</p>\n  <p><img data-recalc-dims=\"1\" sizes=\"(max-width: 1000px) 100vw, 1000px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1884x0,sFSsswpZWxT_81D1gnP4QKMwL0BGog8bzbnDaoKGi-KU/https://github.blog/wp-content/uploads/2022/04/git-1.png?resize=1024%2C472?w=1884 1884w,https://proxy-prod.omnivore-image-cache.app/300x0,sIB0bCtYuWGmCwfGc7g2uoLhNi9NKAdI9L39DEyFZa0w/https://github.blog/wp-content/uploads/2022/04/git-1.png?resize=1024%2C472?w=300 300w,https://proxy-prod.omnivore-image-cache.app/768x0,sZc0uCG9xZPljFZC159uMSAGQ3YMIryKEIQuUER0uHsM/https://github.blog/wp-content/uploads/2022/04/git-1.png?resize=1024%2C472?w=768 768w,https://proxy-prod.omnivore-image-cache.app/1024x0,sUsXLOnqk3MoI2PJ4fM5VN6zrMKNCFe2m6rut7vDOi9w/https://github.blog/wp-content/uploads/2022/04/git-1.png?resize=1024%2C472?w=1024 1024w,https://proxy-prod.omnivore-image-cache.app/1536x0,sYE46ME73Zfmkkb89mvEUUbE2KCUL9KP6dO6I7jo8UE8/https://github.blog/wp-content/uploads/2022/04/git-1.png?resize=1024%2C472?w=1536 1536w,\" height=\"472\" width=\"1024\" alt=\"\" src=\"https://proxy-prod.omnivore-image-cache.app/1024x472,sSfH5yIKRq1_sTUJYR1Al-t1GUMW491jhvyy34o2gBRk/https://github.blog/wp-content/uploads/2022/04/git-1.png?resize=1024%2C472\"></p>\n  <p>If you look closely, you might notice that there are actually two columns of diff markers (the <code class=\"hljs language-diff\"><span class=\"hljs-addition\">+</span></code> and <code class=\"hljs language-diff language-haml\"><span class=\"hljs-deletion\">-</span></code> characters to indicate lines added and removed). These come from the output of <code class=\"hljs language-dos language-ebnf\">git diff-<span class=\"hljs-built_in\">tree</span> -cc</code>, which is showing us the diff between each parent and the post-image of the given commit simultaneously.</p>\n  <p>In this particular example, the conflict occurs because one side has an extra argument in the <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">dwim_ref</span><span class=\"hljs-params\">()</span></span></code> call, and the other includes an updated comment to use reflect renaming a variable from <code class=\"hljs language-undefined\">sha1</code> to <code class=\"hljs language-ebnf language-pgsql\"><span class=\"hljs-attribute\">oid</span></code>. The left-most markers show the latter resolution, and the right-most markers show the former.</p>\n  <p>But this output can be understandably difficult to interpret. In Git 2.36, <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--remerge-diff</span></code> takes a different approach. Instead of showing you the diffs between the merge resolution and each parent simultaneously, <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--remerge-diff</span></code> shows you the diff between the file with merge conflicts, and the resolution.</p>\n  <p><img data-recalc-dims=\"1\" sizes=\"(max-width: 1000px) 100vw, 1000px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1884x0,s-iCp0iJhsPRkAFOze_WbP1BphEVD9r-mIRJq2vrV5gI/https://github.blog/wp-content/uploads/2022/04/git-2.png?resize=1024%2C472?w=1884 1884w,https://proxy-prod.omnivore-image-cache.app/300x0,syMtdRAxCQpm_pGw-MK-mWrtU-Y7BbLqgYYpaZEllBPk/https://github.blog/wp-content/uploads/2022/04/git-2.png?resize=1024%2C472?w=300 300w,https://proxy-prod.omnivore-image-cache.app/768x0,slICjHM0ijXnZDTNmgygFX5wQEbZgCBdtIay0cKoovCw/https://github.blog/wp-content/uploads/2022/04/git-2.png?resize=1024%2C472?w=768 768w,https://proxy-prod.omnivore-image-cache.app/1024x0,s_veYOLd83PvPBnPLUU-RLihCxCTaNYkLslXFkiS2RHI/https://github.blog/wp-content/uploads/2022/04/git-2.png?resize=1024%2C472?w=1024 1024w,https://proxy-prod.omnivore-image-cache.app/1536x0,sSvVzGt7r2-OMiCl00EPQ8MqJArBE10ki_iBb_qwPRYg/https://github.blog/wp-content/uploads/2022/04/git-2.png?resize=1024%2C472?w=1536 1536w,\" height=\"472\" width=\"1024\" alt=\"\" src=\"https://proxy-prod.omnivore-image-cache.app/1024x472,szXzfNCE1KdDESx534SjBu_qH7ye2onXFzjjlLcsH1DA/https://github.blog/wp-content/uploads/2022/04/git-2.png?resize=1024%2C472\" loading=\"lazy\"></p>\n  <p>The above shows the output of <code class=\"hljs language-dart language-ebnf\">git <span class=\"hljs-keyword\">show</span></code> with <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--remerge-diff</span></code> on the same conflicted merge commit as before. Here, we can see the <a href=\"https://git-scm.com/docs/git-config#Documentation/git-config.txt-mergeconflictStyle\"><code class=\"hljs language-undefined\">diff3</code>-style</a> conflicts (shown in red, since the merge commit <em>removes</em> the conflict markers during resolution) along with the resolution. By more clearly indicating which parts of the conflict were left as-is, we can more easily see how the given commit resolved its conflicts, instead of trying to weave-together the simultaneous diff output from <code class=\"hljs language-dos language-ebnf\">git diff-<span class=\"hljs-built_in\">tree</span> -cc</code>.</p>\n  <p>Reconstructing these merges is made possible using <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">ort</span></code>. The <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">ort</span></code> engine is significantly faster than its predecessor, <code class=\"hljs language-ebnf language-fortran\"><span class=\"hljs-attribute\">recursive</span></code>, and can reconstruct all conflicted merge in linux.git in about 3 seconds (as compared to <code class=\"hljs language-dos language-ebnf\">diff-<span class=\"hljs-built_in\">tree</span> -cc</code>, which takes more than 30 seconds to perform the same operation<br>\n  [<a href=\"https://lore.kernel.org/git/pull.1103.git.1640109948.gitgitgadget@gmail.com/\">source</a>\n          ]).</p>\n  <p>Give it a whirl in your Git repositories on 2.36 by running <code class=\"hljs language-maxima language-pgsql\">git <span class=\"hljs-built_in\">show</span> --remerge-<span class=\"hljs-built_in\">diff</span></code> on some merge conflicts in your history.</p>\n  <p>[<a href=\"https://github.com/git/git/compare/34230514b83f55ea0f4531e8486533ac5c3e2ffe...0dec322d31db3920872f43bdd2a7ddd282a5be67\">source</a>\n          ]</p>\n  <h2>More flexible fsync configuration</h2>\n  <p>If you have ever looked around in your repository’s <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.git</span></code> directory, you’ll notice a variety of files: objects, references, reflogs, packfiles, configuration, and the like. Git writes these objects to keep track of the state of your repository, creating new object files when you make new commits, update references, repack your repository, and so on.</p>\n  <p>Most likely, you haven’t had to think too hard about how these files are written and updated. If you’re curious about these details, then read on! When any application writes changes to your filesystem, those changes aren’t immediately persisted, since writing to the external storage medium is <a href=\"https://gist.github.com/jboner/2841832\">significantly slower</a> than updating your filesystem’s in-memory caches.</p>\n  <p>Instead, changes are staged in <a href=\"https://en.wikipedia.org/wiki/Page_cache\">memory</a> and periodically flushed to disk at which point the changes are (usually, though disks and controllers can have their own write caches, too) written to the physical storage medium.</p>\n  <p>Aside from following standard best-practices (like writing new files to a temporary location and then atomically moving them into place), Git has had a somewhat limited set of configuration available to tune how and when it calls <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">fsync</span></code>, mostly limited to <a href=\"https://git-scm.com/docs/git-config/2.36.0#Documentation/git-config.txt-corefsyncObjectFiles\"><code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">core</span><span class=\"hljs-selector-class\">.fsyncObjectFiles</span></code></a>, which, when set, causes Git to call <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">fsync</span><span class=\"hljs-params\">()</span></span></code> when creating new <a href=\"https://git-scm.com/book/en/v2/Git-Internals-Git-Objects\">loose object files</a>. (Git has had non-configurable <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">fsync</span><span class=\"hljs-params\">()</span></span></code> calls scattered throughout its codebase for things like writing packfiles, the commit-graph, multi-pack index, and so on).</p>\n  <p>Git 2.36 introduces a significantly more flexible set of configuration options to tune how and when Git will explicitly <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">fsync</span></code> lots of different kinds of files, not just if it <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">fsync</span></code>s loose objects.</p>\n  <p>At the heart of this new change are two new configuration variables:<br><a href=\"https://git-scm.com/docs/git-config/2.36.0#Documentation/git-config.txt-corefsync\"><code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">core</span><span class=\"hljs-selector-class\">.fsync</span></code></a> and <a href=\"https://git-scm.com/docs/git-config/2.36.0#Documentation/git-config.txt-corefsyncMethod\"><code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">core</span><span class=\"hljs-selector-class\">.fsyncMethod</span></code></a>. The former lets you pick a comma-separated list of which parts of Git’s internal data structures you want to be explicitly flushed after writing. The full list can be found in the documentation, but you can pick from things like <code class=\"hljs language-ebnf language-fortran\"><span class=\"hljs-attribute\">pack</span></code> (to fsync files in <code class=\"hljs language-awk language-gams\"><span class=\"hljs-variable\">$GIT_DIR</span><span class=\"hljs-regexp\">/objects/</span>pack</code>) or <code class=\"hljs language-ceylon language-cs\">loose-<span class=\"hljs-keyword\">object</span></code> (to fsync loose objects), to <code class=\"hljs language-angelscript language-applescript\"><span class=\"hljs-built_in\">ref</span>erence</code> (to fsync references in the <code class=\"hljs language-gams language-angelscript\"><span class=\"hljs-meta\"><span class=\"hljs-meta-keyword\">$GIT</span>_DIR/refs</span></code> directory). There are also aggregate options like <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">objects</span></code> (which implies both <code class=\"hljs language-ceylon language-cs\">loose-<span class=\"hljs-keyword\">object</span></code> and <code class=\"hljs language-ebnf language-fortran\"><span class=\"hljs-attribute\">pack</span></code>), along with others like <code class=\"hljs language-ebnf language-vbscript\"><span class=\"hljs-attribute\">derived-metadata</span></code>, <code class=\"hljs language-ebnf language-pgsql\"><span class=\"hljs-attribute\">committed</span></code>, and <code class=\"hljs language-ada language-ebnf\"><span class=\"hljs-keyword\">all</span></code>.</p>\n  <p>You can also tune how Git ensures the durability of components included in your <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">core</span><span class=\"hljs-selector-class\">.fsync</span></code> configuration by setting the <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">core</span><span class=\"hljs-selector-class\">.fsyncMethod</span></code> to either <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">fsync</span></code> (which calls <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">fsync</span><span class=\"hljs-params\">()</span></span></code>, or issues a special <a href=\"https://man7.org/linux/man-pages/man2/fcntl.2.html\"><code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">fcntl</span><span class=\"hljs-params\">()</span></span></code></a> on macOS), or <code class=\"hljs language-ebnf language-fortran\"><span class=\"hljs-attribute\">writeout-only</span></code>, which schedules the written data for flushing, though does not guarantee that metadata like directory entries are updated as part of the flush operation.</p>\n  <p>Most users won’t need to change these defaults. But for server operators who have many Git repositories living on hardware that may suddenly lose power, having these new knobs to tune will provide new opportunities to enhance the durability of written data.</p>\n  <p>[<a href=\"https://github.com/git/git/compare/a68dfadae5e95c7f255cf38c9efdcbc2e36d1931...b9f5d0358d2e882d47f496c1a5589f6cebc25578\">source</a>, <a href=\"https://github.com/git/git/compare/eb804cd405618ef78b772072685c39392aea4ac1...bc22d845c4328f5bd896d019b3729f776ad4be4c\">source</a>, <a href=\"https://github.com/git/git/compare/da95e25656690e4b585b73677e9db746bd796a67...9a4987677d3f65e8cd93b9e77216f0f1026cd9b2\">source</a>\n          ]</p>\n  <h2>Stricter repository ownership checks</h2>\n  <p>If you haven’t seen <a href=\"https://github.blog/2022-04-12-git-security-vulnerability-announced/\">our blog post from last week</a> announcing the security patches for versions 2.35 and earlier, let me give you a brief recap.</p>\n  <p>Beginning in Git 2.35.2, Git changed its default behavior to prevent you from executing <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">git</span></code> commands in a repository owned by a different user than the current one. This is designed to prevent <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">git</span></code> invocations from unintentionally executing commands which the repository owner configured.</p>\n  <p>You can bypass this check by setting the new <a href=\"https://git-scm.com/docs/git-config/#Documentation/git-config.txt-safedirectory\"><code class=\"hljs language-css language-livecodeserver\"><span class=\"hljs-selector-tag\">safe</span><span class=\"hljs-selector-class\">.directory</span></code> configuration</a> to include trusted repositories owned by other users. If you can’t upgrade immediately, our <a href=\"https://github.blog/2022-04-12-git-security-vulnerability-announced/\">blog post</a> outlines some steps you can take to mitigate your risk, though the safest thing you can do is upgrade to the latest version of Git.</p>\n  <p>Since publishing <a href=\"https://github.blog/2022-04-12-git-security-vulnerability-announced/\">that blog post</a>, the <code class=\"hljs language-css language-livecodeserver\"><span class=\"hljs-selector-tag\">safe</span><span class=\"hljs-selector-class\">.directory</span></code> option now interprets the value <code class=\"hljs language-gams language-stata\"><span class=\"hljs-comment\">*</span></code> to consider all Git repositories as safe, regardless of their owner.  You can set this in your <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--global</span></code> config to opt-out of the new behavior in situations where it makes sense.</p>\n  <p>[<a href=\"https://github.com/git/git/compare/ab1f2765f78e75ee51dface57e1071b3b7f42b09...53ef17d3ee0f7fcb151f428ee3bd736b8046825f\">source</a>\n          ]</p>\n  <h2>Tidbits</h2>\n  <p>Now that we have looked at some of the bigger features in detail, let’s turn to a handful of smaller topics from this release.</p>\n  <ul><li>If you’ve ever spent time poking around in the internals of one of your Git repositories, you may have come across the <code class=\"hljs language-stata language-vim\">git <span class=\"hljs-keyword\">cat</span>-<span class=\"hljs-keyword\">file</span></code> command. Reminiscent of <code class=\"hljs language-ebnf language-matlab\"><span class=\"hljs-attribute\">cat</span></code>, this command is useful for printing out the raw contents of Git objects in your repository. <code class=\"hljs language-stata language-vim\"><span class=\"hljs-keyword\">cat</span>-<span class=\"hljs-keyword\">file</span></code> has a handful of other modes that go beyond just printing the contents of an object. Instead of printing out one object at a time, it can accept a stream of objects (via stdin) when passed the <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--batch</span></code> or <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--batch-check</span></code> command-line arguments. These two similarly-named options have slightly different outputs: <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--batch</span></code> instructs <code class=\"hljs language-stata language-vim\"><span class=\"hljs-keyword\">cat</span>-<span class=\"hljs-keyword\">file</span></code> to just print out each object’s contents, while <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--batch-check</span></code> is used to print out information about the object itself, like its type and size<sup id=\"fnref-64204-1\"><a title=\"Read footnote.\" href=\"#fn-64204-1\">1</a></sup>.\n  <p>But what if you want to dynamically switch between the two? Before, the only way was to run two separate copies of the <code class=\"hljs language-stata language-vim\"><span class=\"hljs-keyword\">cat</span>-<span class=\"hljs-keyword\">file</span></code> command in the same repository, one in <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--batch</span></code> mode and the other in <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--batch-check</span></code> mode. In Git 2.36, you no longer need to do this.  You can instead run a single <code class=\"hljs language-stata language-vim\">git <span class=\"hljs-keyword\">cat</span>-<span class=\"hljs-keyword\">file</span></code> command with the new <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--batch-command</span></code> mode. This mode lets you ask for the type of output you want for each object. Its input looks either like <code class=\"hljs language-applescript language-xml\"><span class=\"hljs-built_in\">contents</span> &lt;object&gt;</code>, or <code class=\"hljs language-pgsql language-routeros\"><span class=\"hljs-keyword\">info</span> &lt;<span class=\"hljs-keyword\">object</span>&gt;</code>, which correspond to the output you’d get from <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--batch</span></code>, or <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--batch-check</span></code>, respectively.</p>\n  <p>For server operators who may have long-running <code class=\"hljs language-stata language-vim\"><span class=\"hljs-keyword\">cat</span>-<span class=\"hljs-keyword\">file</span></code> commands intended to service multiple requests, <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--batch-command</span></code> accepts a new <code class=\"hljs language-arduino language-ebnf\"><span class=\"hljs-built_in\">flush</span></code> command, which flushes the output buffer upon receipt.</p>\n  <p>[<a href=\"https://github.com/git/git/compare/47be28e51e6a3b390e694d868b7da04181e99e96...440c705ea63253642c8f4761f80eb7a97a62b614\">source</a>, <a href=\"https://github.com/git/git/compare/07135d6be732aca61dfa77d03a3aa06120767c03...473fa2df08d9c6e2a4ff81ddc74f53f4b94a7983\">source</a>\n          ]</p>\n  </li>\n  <li>\n  <p>Speaking of Git internals, if you’ve ever needed to script around the contents of a tree object in your repository, then there’s no doubt that <code class=\"hljs language-dos language-ebnf\">git ls-<span class=\"hljs-built_in\">tree</span></code> has come in handy.</p>\n  <p>If you aren’t familiar with <code class=\"hljs language-dos language-ebnf\">ls-<span class=\"hljs-built_in\">tree</span></code>, the gist is that it allows you to list the contents of a tree objects, optionally recursing through nested sub-trees. Its output looks something like this:</p>\n  <pre><code class=\"hljs language-llvm language-armasm\">$ git ls-tree HEAD -- <span class=\"hljs-keyword\">builtin</span>/\n  <span class=\"hljs-number\">100644</span> blob <span class=\"hljs-number\">3</span>ffb<span class=\"hljs-number\">86</span>a<span class=\"hljs-number\">43384</span>f<span class=\"hljs-number\">21</span>cad<span class=\"hljs-number\">4</span>fdcc<span class=\"hljs-number\">0</span>d<span class=\"hljs-number\">8549e37</span>dba<span class=\"hljs-number\">12227</span>  <span class=\"hljs-keyword\">builtin</span>/<span class=\"hljs-keyword\">add</span>.<span class=\"hljs-keyword\">c</span>\n  <span class=\"hljs-number\">100644</span> blob <span class=\"hljs-number\">0</span>f<span class=\"hljs-number\">4111</span>bafa<span class=\"hljs-number\">0</span>b<span class=\"hljs-number\">0810</span>ae<span class=\"hljs-number\">29903509</span>a<span class=\"hljs-number\">0</span>af<span class=\"hljs-number\">74073013</span>ff  <span class=\"hljs-keyword\">builtin</span>/am.<span class=\"hljs-keyword\">c</span>\n  <span class=\"hljs-number\">100644</span> blob <span class=\"hljs-number\">58</span>ff<span class=\"hljs-number\">977</span>a<span class=\"hljs-number\">2314e2878</span>ee<span class=\"hljs-number\">0</span><span class=\"hljs-keyword\">c</span><span class=\"hljs-number\">7</span>d<span class=\"hljs-number\">3</span>bcd<span class=\"hljs-number\">9874</span>b<span class=\"hljs-number\">71</span>bfdeef  <span class=\"hljs-keyword\">builtin</span>/annotate.<span class=\"hljs-keyword\">c</span>\n  <span class=\"hljs-number\">100644</span> blob <span class=\"hljs-number\">3</span>f<span class=\"hljs-number\">099</span>b<span class=\"hljs-number\">960565</span>ff<span class=\"hljs-number\">2944209</span>ba<span class=\"hljs-number\">514</span>ea<span class=\"hljs-number\">7274</span>dad<span class=\"hljs-number\">852</span>f<span class=\"hljs-number\">5</span>  <span class=\"hljs-keyword\">builtin</span>/apply.<span class=\"hljs-keyword\">c</span>\n  <span class=\"hljs-number\">100644</span> blob <span class=\"hljs-number\">7176</span>b<span class=\"hljs-number\">041</span>b<span class=\"hljs-number\">6</span>d<span class=\"hljs-number\">85</span>b<span class=\"hljs-number\">5760</span><span class=\"hljs-keyword\">c</span><span class=\"hljs-number\">91</span>f<span class=\"hljs-number\">94</span>fcdde<span class=\"hljs-number\">551</span>a<span class=\"hljs-number\">38</span>d<span class=\"hljs-number\">147</span>f  <span class=\"hljs-keyword\">builtin</span>/archive.<span class=\"hljs-keyword\">c</span>\n  [...\n          ]\n  </code></pre>\n  <p>Previously, the customizability of <code class=\"hljs language-dos language-ebnf\">ls-<span class=\"hljs-built_in\">tree</span></code>‘s output was somewhat limited. You could restrict the output to just the filenames with <code class=\"hljs language-fortran language-irpf90\">--<span class=\"hljs-keyword\">name</span>-<span class=\"hljs-keyword\">only</span></code>, print absolute paths with <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--full-name</span></code>, or abbreviate the object IDs with <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--abbrev</span></code>, but that was about it.</p>\n  <p>In Git 2.36, you have a lot more control about how <code class=\"hljs language-dos language-ebnf\">ls-<span class=\"hljs-built_in\">tree</span></code>‘s should look. There’s a new <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--object-only</span></code> option to complement <code class=\"hljs language-fortran language-irpf90\">--<span class=\"hljs-keyword\">name</span>-<span class=\"hljs-keyword\">only</span></code>. But if you really want to customize its output, the new <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--format</span></code> option is your best bet. You can select from any combination and order of the each entry’s mode, type, name, and size.</p>\n  <p>Here’s a fun example of where something like this might come in handy. Let’s say you’re interested in the distribution of file-sizes of blobs in your repository. Before, to get a list of object sizes, you would have had to do either:</p>\n  <pre><code class=\"hljs language-stata language-vim\">$ git <span class=\"hljs-keyword\">ls</span>-tree ... | awk '{ <span class=\"hljs-keyword\">print</span> <span class=\"hljs-variable\">$3</span>\n          }' | git <span class=\"hljs-keyword\">cat</span>-<span class=\"hljs-keyword\">file</span> --batch-check='%(objectsize)'\n  </code></pre>\n  <p>or (ab)use the <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--long</span></code> format and pull out the file sizes of blobs:</p>\n  <pre><code class=\"hljs language-stata language-dart\">$ git <span class=\"hljs-keyword\">ls</span>-tree -<span class=\"hljs-keyword\">l</span> | awk '{ <span class=\"hljs-keyword\">print</span> <span class=\"hljs-variable\">$4</span>\n          }'\n  </code></pre>\n  <p>but now you can ask for just the file sizes directly, making it much more convenient to script around them:</p>\n  <pre><code class=\"hljs language-angelscript language-yaml\">$ dist () {\n   ruby -lne <span class=\"hljs-string\">'print 10 ** (Math.log10($_.to_i).ceil)'</span> | sort -n | uniq -c\n          }\n  $ git ls-tree --format=<span class=\"hljs-string\">'%(objectsize)'</span> HEAD:builtin/ | dist\n    <span class=\"hljs-number\">8</span> <span class=\"hljs-number\">1000</span>\n   <span class=\"hljs-number\">59</span> <span class=\"hljs-number\">10000</span>\n   <span class=\"hljs-number\">53</span> <span class=\"hljs-number\">100000</span>\n    <span class=\"hljs-number\">2</span> <span class=\"hljs-number\">1000000</span>\n  </code></pre>\n  <p>…showing us that we have 8 files that are between 1-10 KiB in size,\n          59 files between 10-100 KiB,\n          53 files between 100 KiB and 1 MiB, and 2 files larger than 1 MiB.</p>\n  <p>[<a href=\"https://github.com/git/git/compare/3ff8cbfe8a333f55931fa9b588f106e060a67079...9c4d58ff2c385f49585197c8650356955e1fa02e\">source</a>, <a href=\"https://github.com/git/git/compare/95acb13a550cbc07a5ef38ffceb5678fac61acff...350296cc78912c245847ec65e55143053450cce1\">source</a>, <a href=\"https://github.com/git/git/compare/07330a41d66a2c9589b585a3a24ecdcf19994f19...5e65dac9c88d02f569cc87cdf630ecb5a780c6a6\">source</a>, <a href=\"https://github.com/git/git/compare/bf23fe5c37d62f37267d31d4afa1a1444f70cdac...acd34fd5f60ab01e871dfa3a3bb8b81828ac181d\">source</a>\n          ]</p>\n  </li>\n  <li>\n  <p>If you’ve ever tried to track down a bug using Git, then you’re familiar with the <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git bisect</span></code> command. If you haven’t, here’s a quick primer. <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git bisect</span></code> takes two revisions of your repository, one corresponding to a known “good” state, and another corresponding to some broken state. The idea is then to run a <a href=\"https://en.wikipedia.org/wiki/Binary_search_algorithm\">binary search</a> between those two points in history to find the first commit which transitioned the good state to the broken state.</p>\n  <p>If you aren’t a frequent bisect user, you may not have heard of the <code class=\"hljs language-dockerfile language-applescript\">git bisect <span class=\"hljs-keyword\">run</span></code> command. Instead of requiring you to classify whether each point along the search is good or bad, you can supply a script which Git will execute for you, using its <a href=\"https://en.wikipedia.org/wiki/Exit_status\">exit status</a> to classify each revision for you.</p>\n  <p>This can be useful when trying to figure out which commit broke the build, which you can do by running:</p>\n  <pre><code class=\"hljs language-armasm language-mipsasm\">$ git <span class=\"hljs-keyword\">bisect </span>start &lt;<span class=\"hljs-keyword\">bad&gt; </span>&lt;good&gt;\n  $ git <span class=\"hljs-keyword\">bisect </span>run make\n  </code></pre>\n  <p>which will run <code class=\"hljs language-ebnf language-gauss\"><span class=\"hljs-attribute\">make</span></code> along the binary search between <code class=\"hljs language-apache language-xml\"><span class=\"hljs-section\">&lt;bad&gt;</span></code> and <code class=\"hljs language-apache language-xml\"><span class=\"hljs-section\">&lt;good&gt;</span></code>, outputting the first commit which broke compilation.</p>\n  <p>But what about automating more complicated tests? It can often be useful to write a one-off shell script which runs some test for you, and then hand that off to <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git bisect</span></code>. Here, you might do something like:</p>\n  <pre><code class=\"hljs language-stata language-shell\">$ vi <span class=\"hljs-keyword\">test</span>.<span class=\"hljs-keyword\">sh</span>\n  # <span class=\"hljs-keyword\">type</span> <span class=\"hljs-keyword\">type</span> <span class=\"hljs-keyword\">type</span>\n  $ git bisect <span class=\"hljs-keyword\">run</span> <span class=\"hljs-keyword\">test</span>.<span class=\"hljs-keyword\">sh</span>\n  </code></pre>\n  <p>See the problem? We forgot to mark <code class=\"hljs language-stata language-cmake\"><span class=\"hljs-keyword\">test</span>.<span class=\"hljs-keyword\">sh</span></code> as <a href=\"https://en.wikipedia.org/wiki/File-system_permissions#Permissions\">executable</a>! In previous versions of Git, <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git bisect</span></code> would incorrectly carry on the search, classifying each revision as broken. In Git 2.36, <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git bisect</span></code> will detect that you forgot to mark the script as executable, and halt the search early.</p>\n  <p>[<a href=\"https://github.com/git/git/compare/967176465a62fe3f71008e20c5959c12542ef2b0...48af1fdee374e205c9774c163fbd4683d1110d11\">source</a>\n          ]</p>\n  </li>\n  <li>\n  <p>When you run <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git fetch</span></code>, your Git client communicates with the remote to carry out a process called <a href=\"https://git-scm.com/docs/pack-protocol/2.2.3#_packfile_negotiation\">negotiation</a> to determine which objects the server needs to send to complete your request. Roughly speaking, your client and the server mutually advertise what they have at the tips of each <a href=\"https://git-scm.com/book/en/v2/Git-Internals-Git-References\">reference</a>, then your client lists which objects it wants, and the server sends back all objects <em>between</em> the requested objects and the ones you already have.</p>\n  <p>This works well because Git always expects to maintain <a href=\"https://en.wikipedia.org/wiki/Closure_(mathematics)\">closure</a> over reachable objects<sup id=\"fnref-64204-2\"><a title=\"Read footnote.\" href=\"#fn-64204-2\">2</a></sup>, meaning that if you have some reachable object in your repository, you also have all of its ancestors.</p>\n  <p>In other words, it’s fine for the Git server to omit objects you already have, since the combination of the objects it sends along with the ones you already have should be sufficient to assemble the branches and tags your client asked for.</p>\n  <p>But if your repository is corrupt, then you may need the server to send you objects which are reachable from ones you already have, in which case it isn’t good enough for the server to just send you the objects between what you have and want. In the past, getting into a situation like this may have led you to re-clone your entire repository.</p>\n  <p>Git 2.36 ships with a new option to <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git fetch</span></code> which makes it easier to recover from certain kinds of repository corruption. By passing the new  <code class=\"hljs language-ada language-angelscript\"><span class=\"hljs-comment\">--refetch</span></code> option, you can instruct <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git fetch</span></code> to fetch <em>all</em> objects from the remote, regardless of which objects you already have, which is useful when the contents of your <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">objects</span></code> directory are suspect.</p>\n  <p>[<a href=\"https://github.com/git/git/compare/1b54f5b89ac2efb5256b1870fabef28ea55e2f20...4963d3e41fa454500760fe6f8fb1bab890c1c3eb\">source</a>\n          ]</p>\n  </li>\n  <li>\n  <p><a href=\"https://github.blog/2022-01-24-highlights-from-git-2-35/\">Returning readers</a> may remember our earlier discussions about <a href=\"https://github.blog/2021-11-10-make-your-monorepo-feel-small-with-gits-sparse-index/\">the sparse index</a> and <a href=\"https://github.blog/2020-01-17-bring-your-monorepo-down-to-size-with-sparse-checkout/\">sparse checkouts</a>, which make it possible to only have part of your repository checked out at a time.</p>\n  <p>Over the last handful of releases, more and more commands have become compatible with the sparse index. This release is no exception, with four more Git commands joining the pack. Git 2.36 brings sparse index support to <code class=\"hljs language-ebnf language-excel\"><span class=\"hljs-attribute\">git clean</span></code>, <code class=\"hljs language-axapta language-delphi\">git checkout-<span class=\"hljs-keyword\">index</span></code>, <code class=\"hljs language-n1ql language-pgsql\">git <span class=\"hljs-keyword\">update</span>-<span class=\"hljs-keyword\">index</span></code>, and <code class=\"hljs language-applescript language-arduino\">git <span class=\"hljs-built_in\">read</span>-tree</code>.</p>\n  <p>If you haven’t used these commands, there’s no need to worry: adding support to these <a href=\"https://git-scm.com/book/en/v2/Git-Internals-Plumbing-and-Porcelain\">plumbing</a> commands is designed to lay the ground work for building a sparse index-aware <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git stash</span></code>. In the meantime, sparse index support already exists in the commands that you are most likely already familiar with, like <code class=\"hljs language-ebnf language-fortran\"><span class=\"hljs-attribute\">git status</span></code>, <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git commit</span></code>, <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git checkout</span></code>, and more.</p>\n  <p>As an added bonus, <code class=\"hljs language-ebnf language-gauss\"><span class=\"hljs-attribute\">git sparse-checkout</span></code> (which is used to enable the sparse checkout feature and dictate which parts of your repository you want checked out) gained support for the command-line completion Git ships in its <a href=\"https://github.com/git/git/tree/v2.36.0/contrib\"><code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">contrib</span></code> directory</a>.</p>\n  <p>[<a href=\"https://github.com/git/git/compare/708cbef33a2c905c920e94b70d0946f9f4ff3a4e...b9ca5e26579ceb820103b49648c01187a4a0dddd\">source</a>, <a href=\"https://github.com/git/git/compare/430883a70c79614e52279f2800a9a383ffc68fe5...f27c170f645e6b8ed642c49c503964893ee26a4f\">source</a>, <a href=\"https://github.com/git/git/compare/b80121027d1247a0754b3cc46897fee75c050b44...48803821b1712687d6e06e9d7a0e911eabecf4d1\">source</a>\n          ]</p>\n  </li>\n  <li>\n  <p>Returning readers may remember our <a href=\"https://github.blog/2020-12-21-get-up-to-speed-with-partial-clone-and-shallow-clone/\">previous coverage on partial clones</a>, a relatively new feature in Git which allows you to initialize your clones by downloading just some of the objects in your repository.</p>\n  <p>If you used this feature in the past with <code class=\"hljs language-bash language-ebnf\">git <span class=\"hljs-built_in\">clone</span></code>‘s <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--recurse-submodules</span></code> flag, the partial clone filter was only applied to the top-level repository, cloning all of the objects in the submodules.</p>\n  <p>This has been fixed in the latest release, where the <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--filter</span></code> specification you use in your top-level clone is applied recursively to any submodules your repository might contain, too.</p>\n  <p>[<a href=\"https://github.com/git/git/compare/d21d5ddfe675f9dbcdbb94ab01776115a2d1fdde...f05da2b48b48a46db65fc768b3ffecaf996dd655\">source</a>, <a href=\"https://github.com/git/git/compare/77da6db57f90bb0478df4d2a111363c80f0c0748...5da9560ebc8a089807920a7548141e4e5b60a4dc\">source</a>\n          ]</p>\n  </li>\n  <li>\n  <p>While we’re talking about partial clones, now is a good time to mention partial <em>bundles</em>, which are new in Git 2.36. You may not have heard of <a href=\"https://git-scm.com/book/en/v2/Git-Tools-Bundling\">Git bundles</a>, which is a different way of transferring around parts of your repository.</p>\n  <p>Roughly speaking, a bundle combines the data in a <a href=\"https://git-scm.com/book/en/v2/Git-Internals-Packfiles\">packfile</a>, along with a list of references that are contained in the bundle. This allows you to capture information about the state of your repository into a single file that you can share. For example, the Git project uses bundles to <a href=\"https://github.com/git/git/blob/v2.36.0/Documentation/howto/coordinate-embargoed-releases.txt#L59-L65\">share embargoed security releases with various Linux distribution maintainers</a>. This allows us to send all of the objects which comprise a new release, along with the tags that point at them in a single file over email.</p>\n  <p>In previous releases of Git, it was impossible to prepare a filtered bundle which you could apply to a partial clone. In Git 2.36, you can now prepare filtered bundles, whose contents are unpacked as if they arrived during a partial clone<sup id=\"fnref-64204-3\"><a title=\"Read footnote.\" href=\"#fn-64204-3\">3</a></sup>. You can’t yet initialize a new clone from a partial bundle, but you can use it to fetch objects into a bare repository:</p>\n  <pre><code class=\"hljs language-routeros language-jboss-cli\">$ git bundle create <span class=\"hljs-attribute\">--filter</span>=blob:none <span class=\"hljs-built_in\">..</span>/partial.bundle v2.36.0\n  $ cd <span class=\"hljs-built_in\">..</span>\n  $ git init --bare example.repo\n  $ git fetch <span class=\"hljs-attribute\">--filter</span>=blob:none <span class=\"hljs-built_in\">..</span>/partial.bundle <span class=\"hljs-string\">'refs/tags /*:refs/tags/*'</span>\n  [ <span class=\"hljs-built_in\">..</span>. ]\n  <span class=\"hljs-keyword\">From</span> <span class=\"hljs-built_in\">..</span>/example.bundle\n  * [new tag]             v2.36.0 -&gt; v2.36.0\n  </code></pre>\n  <p>[<a href=\"https://github.com/git/git/compare/b6763af74ba55570deae38ce118c1d803d7b825c...86fdd94d723b7fa1870a64e8080d3540a434f29b\">source</a>, <a href=\"https://github.com/git/git/compare/1041d58b4d9c587b2b6c76c3dfb14fbe78ccf196...5cb28270a1ff94a0a23e67b479bbbec3bc993518\">source</a>]</p>\n  </li>\n  <li>\n  <p>Lastly, let’s discuss a bug fix concerning Git’s <a href=\"https://github.blog/2021-04-29-scaling-monorepo-maintenance/\">multi-pack reachability bitmaps</a>. If you have started to use this new feature, you may have noticed a handful of new files in your <code class=\"hljs language-asciidoc language-awk\"><span class=\"hljs-title\">.git/objects/pack</span></code> directory:</p>\n  <pre><code class=\"hljs language-fortran language-irpf90\">$ ls .git/objects/<span class=\"hljs-built_in\">pack</span>/multi-<span class=\"hljs-built_in\">pack</span>-<span class=\"hljs-built_in\">index</span>*\n  .git/objects/<span class=\"hljs-built_in\">pack</span>/multi-<span class=\"hljs-built_in\">pack</span>-<span class=\"hljs-built_in\">index</span>\n  .git/objects/<span class=\"hljs-built_in\">pack</span>/multi-<span class=\"hljs-built_in\">pack</span>-<span class=\"hljs-built_in\">index</span>-<span class=\"hljs-number\">3</span>3cd13fb5d4166389dbbd51cabdb04b9df882582.bitmap\n  .git/objects/<span class=\"hljs-built_in\">pack</span>/multi-<span class=\"hljs-built_in\">pack</span>-<span class=\"hljs-built_in\">index</span>-<span class=\"hljs-number\">3</span>3cd13fb5d4166389dbbd51cabdb04b9df882582.rev\n  </code></pre>\n  <p>In order, these are: the <a href=\"https://git-scm.com/docs/multi-pack-index\">multi-pack index</a> (MIDX) itself, the reachability bitmap data, and the reverse-index which tells Git which bits correspond to what objects in your repository.</p>\n  <p>These are all associated back to the MIDX via the MIDX’s <a href=\"https://en.wikipedia.org/wiki/Checksum\">checksum</a>, which is how Git knows that the three belong together. This release fixes a bug where the <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.rev</span></code> file could fall out-of-sync with the MIDX and its bitmap, leading Git to report incorrect results when using a multi-pack bitmap. This happens when changing the object order of the MIDX without changing the set of objects tracked by the MIDX.</p>\n  <p>If your <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.rev</span></code> file has a modification time that is significantly older than the MIDX and <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.bitmap</span></code>, you may have been bitten by this bug<sup id=\"fnref-64204-4\"><a title=\"Read footnote.\" href=\"#fn-64204-4\">4</a></sup>. Luckily this bug can be resolved by dropping and regenerating your bitmaps<sup id=\"fnref-64204-5\"><a title=\"Read footnote.\" href=\"#fn-64204-5\">5</a></sup>. To prevent a MIDX bitmap and its <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.rev</span></code> file from falling out of sync again, the contents of the <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.rev</span></code> are now included in the MIDX itself, forcing the MIDX’s checksum to change whenever the object order changes.</p>\n  <p>[<a href=\"https://github.com/git/git/compare/90b7153806af46ca62b85a92a2810015be2453d4...f8b60cf99b0ab10d915c7bfd4802a1af45d0d439\">source</a>]</p>\n  </li>\n  </ul><h2>The rest of the iceberg</h2>\n  <p>That’s just a sample of changes from the latest release. For more, check out the <a href=\"https://github.com/git/git/blob/v2.36.0/Documentation/RelNotes/2.36.0.txt\">release notes for 2.36</a>, or <a href=\"https://github.com/git/git/tree/v2.36.0/Documentation/RelNotes\">any previous version</a> in the Git repository.</p>\n  <div>\n  <hr><ol><li id=\"fn-64204-1\">\n  You can ask for other attributes, too, like <code class=\"hljs language-gcode language-haml\"><span class=\"hljs-meta\">%</span><span class=\"hljs-comment\">(objectsize:disk)</span></code> which shows how many bytes it takes Git to store the object on disk (which can be smaller than <code class=\"hljs language-gcode language-haml\"><span class=\"hljs-meta\">%</span><span class=\"hljs-comment\">(objectsize)</span></code> if, for example, the object is stored as a <a href=\"https://git-scm.com/book/en/v2/Git-Internals-Packfiles\">delta</a> against some other, similar object).&nbsp;<a title=\"Return to main content.\" href=\"#fnref-64204-1\">↩</a>\n  </li>\n  <li id=\"fn-64204-2\">\n  This isn’t quite true, because of things like <a href=\"https://git-scm.com/docs/shallow\">shallow</a> and <a href=\"https://git-scm.com/docs/partial-clone\">partial clones</a>, along with <a href=\"https://git-scm.com/docs/git-replace\">grafts</a>, but the assumption is good enough for our purposes here. What matters it that outside of scenarios where we expect to be missing objects, the only time we don’t have a reachability closure is when the repository itself is corrupt.&nbsp;<a title=\"Return to main content.\" href=\"#fnref-64204-2\">↩</a>\n  </li>\n  <li id=\"fn-64204-3\">\n  In Git parlance, this would be a packfile from a <a href=\"https://git-scm.com/docs/partial-clone\">promisor remote</a>.&nbsp;<a title=\"Return to main content.\" href=\"#fnref-64204-3\">↩</a>\n  </li>\n  <li id=\"fn-64204-4\">\n  This isn’t entirely fool-proof, since it’s possible  way of detecting that this bug occurred, since it’s possible your bitmaps were rewritten after first falling out-of-sync. When this happens, it’s possible that the corrupt bitmaps are propagated forward when generating new bitmaps. You can use <code class=\"hljs language-applescript language-armasm\">git rev-<span class=\"hljs-built_in\">list</span> <span class=\"hljs-comment\">--test-bitmap HEAD</span></code> to check if your bitmaps are OK.&nbsp;<a title=\"Return to main content.\" href=\"#fnref-64204-4\">↩</a>\n  </li>\n  <li id=\"fn-64204-5\">\n  By first running <code class=\"hljs language-fortran language-irpf90\">rm -f .git/objects/<span class=\"hljs-built_in\">pack</span>/multi-<span class=\"hljs-built_in\">pack</span>-<span class=\"hljs-built_in\">index</span>*</code>, and then<br><code class=\"hljs language-delphi language-fortran\">git repack -d --<span class=\"hljs-keyword\">write</span>-midx --<span class=\"hljs-keyword\">write</span>-bitmap-<span class=\"hljs-keyword\">index</span></code>.&nbsp;<a title=\"Return to main content.\" href=\"#fnref-64204-5\">↩</a>\n  </li>\n  </ol></div>\n        \n    </main>\n    </div>\n  \n    <section>\n      <h2>\n        Related content    </h2>\n      \n    </section>\n  </div></div>",
    "labels": "git"
  },
  {
    "description": "C# async and await keywords simplify a lot asynchronous programming but do you really understand what is happening at runtime?",
    "title": "C# async await explained - NDepend",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n  \n          <article id=\"post-4774\">\n      \n      \n  \n      <div>\n          <p><a href=\"https://blog.ndepend.com/wp-content/uploads/C-async-await-explained.png\"><img sizes=\"(max-width: 861px) 100vw, 861px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/861x0,sv5WWc_oLRT943dBFNnf3bSP9sX0O01jgpwwfjfZ1dh0/https://blog.ndepend.com/wp-content/uploads/C-async-await-explained.png 861w,https://proxy-prod.omnivore-image-cache.app/300x0,sYvDhA-BcDdxdzGvBPikpHpg5ZJmxy7nhPVRK1QZPBng/https://blog.ndepend.com/wp-content/uploads/C-async-await-explained-300x103.png 300w,https://proxy-prod.omnivore-image-cache.app/768x0,sZVm5kZqzt3kNRAcDWN5O7qRtuN5xKdh_6QDLFveQA1I/https://blog.ndepend.com/wp-content/uploads/C-async-await-explained-768x265.png 768w,\" height=\"297\" width=\"861\" alt=\"C# async await explained\" src=\"https://proxy-prod.omnivore-image-cache.app/861x297,shO-5mTkApimxI7NMcnBbkmhRCqs5HvtjNUQldIMCbP0/https://blog.ndepend.com/wp-content/uploads/C-async-await-explained.png\"></a></p>\n  <p>In 2013, C#5 was released. This version introduced two new keywords <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> and <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code>. At that time CPU clock speed reached an upper limit imposed by physical laws. But chip makers started to deliver CPU with several cores that can run tasks in parallel. Thus C# needed a away to ease asynchronous programming.</p>\n  <p>The&nbsp;<code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> and <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keywords make asynchronous programming <em>almost</em> too easy. Many programmers use them often without really understanding what’s happening at runtime. This s a great thing, they can focus more on the business of their applications and less on asynchronous details. But some disconcerting behaviors might (and will) happen. Thus it is preferable that one understands the logic behind <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> and <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code>&nbsp;and what can influence it. This is the goal of the present article.</p>\n  <h2>Calling an async method</h2>\n  <p>Here is a small C# program that illustrates the <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> and <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keywords. Two tasks A and B runs simultaneously. Task A runs within a method marked as <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code>, while B is executed after calling the <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> method.</p>\n  \n          <div data-settings=\"minimize scroll-mouseover\" id=\"crayon-625fbd8dbf2d6316400338\">\n                  <table>\n                      <tbody><tr>\n                  <td data-settings=\"show\">\n                      <div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p></div>\n                  </td>\n                          <td><div><p><span>class</span><span> </span><span>Program</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp; </span><span>static</span><span> </span><span>async</span><span> </span><span>Task </span><span>Main</span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\"Start Program\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Task</span><span>&lt;</span><span>int</span><span>&gt;</span><span> </span><span>taskA</span><span> </span>=<span> </span><span>MethodAAsync</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>for</span><span> </span><span>(</span><span>int</span><span> </span><span>i</span><span> </span>=<span> </span><span>0</span><span>;</span><span> </span><span>i</span><span> </span><span>&lt;</span><span> </span><span>5</span><span>;</span><span> </span><span>i</span>++<span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\" B{i}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>Task</span><span>.</span><span>Delay</span><span>(</span><span>50</span><span>)</span><span>.</span><span>Wait</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>\"Wait for taskA termination\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>await</span><span> </span><span>taskA</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\"The result of taskA is {taskA.Result}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>ReadKey</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp; </span><span>}</span></p><p><span>&nbsp;&nbsp; </span><span>static</span><span> </span><span>async</span><span> </span><span>Task</span><span>&lt;</span><span>int</span><span>&gt;</span><span> </span><span>MethodAAsync</span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>for</span><span> </span><span>(</span><span>int</span><span> </span><span>i</span><span> </span>=<span> </span><span>0</span><span>;</span><span> </span><span>i</span><span> </span><span>&lt;</span><span> </span><span>5</span><span>;</span><span> </span><span>i</span>++<span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\" A{i}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>await</span><span> </span><span>Task</span><span>.</span><span>Delay</span><span>(</span><span>100</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int</span><span> </span><span>result</span><span> </span>=<span> </span><span>123</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\" A returns result {result}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>result</span><span>;</span></p><p><span>&nbsp;&nbsp; </span><span>}</span></p><p><span>&nbsp;&nbsp; </span><span>// Convenient helper to print colorful threadId on console</span></p><p><span>&nbsp;&nbsp; </span><span>static</span><span> </span><span>void</span><span> </span><span>ConsoleWriteLine</span><span>(</span><span>string</span><span> </span><span>str</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int</span><span> </span><span>threadId</span><span> </span>=<span> </span><span>Thread</span><span>.</span><span>CurrentThread</span><span>.</span><span>ManagedThreadId</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>ForegroundColor</span><span> </span>=<span> </span><span>threadId</span><span> </span>==<span> </span><span>1</span><span> </span><span>?</span><span> </span><span>ConsoleColor</span><span>.</span><span>White</span><span> </span><span>:</span><span> </span><span>ConsoleColor</span><span>.</span><span>Cyan</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>$</span><span>\"{str}{new string(' ', 26 - str.Length)}&nbsp;&nbsp; Thread {threadId}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp; </span><span>}</span></p><p><span>}</span></p></div></td>\n                      </tr>\n                  </tbody></table>\n              </div>\n  \n  <p>Here is the result:</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/C-async-await-on-console.png\"><img sizes=\"(max-width: 304px) 100vw, 304px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/304x0,s4iXEJBUX5yHbnHujWVSyzdZsCziTdoNmNP4UJLDMiVA/https://blog.ndepend.com/wp-content/uploads/C-async-await-on-console.png 304w,https://proxy-prod.omnivore-image-cache.app/300x0,s-20fDE3J5577a8qDQkm_qw-7eSPTsGehT_Q-EdvnRqM/https://blog.ndepend.com/wp-content/uploads/C-async-await-on-console-300x228.png 300w,\" height=\"231\" width=\"304\" alt=\"C# async await on console\" src=\"https://proxy-prod.omnivore-image-cache.app/304x231,sGFkYodWsRnRfbE0Y7uShL41IjVW-AvQn44ttoKVpHPk/https://blog.ndepend.com/wp-content/uploads/C-async-await-on-console.png\" loading=\"lazy\"></a></p>\n  <p>Here are some remarks:</p>\n  <ul>\n  <li>In the async method <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">MethodAAsync</span><span class=\"hljs-params\">()</span></span></code>, <code class=\"hljs language-ada language-angelscript\"><span class=\"hljs-keyword\">Task</span>.<span class=\"hljs-keyword\">Delay</span>(<span class=\"hljs-number\">100</span>)</code> simulates a computation intensive task or an I/O bound task. It is used just for example purposes.</li>\n  <li>In the async method <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">MethodAAsync</span><span class=\"hljs-params\">()</span></span></code> ,once the keyword <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> is meet for the first time the remaining of the task is actually executed by some random threads obtained from the runtime thread pool.</li>\n  <li>As a consequence the call to the async method <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">MethodAAsync</span><span class=\"hljs-params\">()</span></span></code> is not blocking the main thread. First it prints A0 on the console and then returns to run the task B synchronously while the task A continues on other threads.</li>\n  <li>This is why the async method&nbsp;<code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">MethodAAsync</span><span class=\"hljs-params\">()</span></span></code> returns a <code class=\"hljs language-arduino language-gradle\"><span class=\"hljs-built_in\">Task</span>&lt;<span class=\"hljs-keyword\">int</span>&gt;</code> named <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">taskA</span></code>. This task represents the remaining course of <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">MethodAAsync</span><span class=\"hljs-params\">()</span></span></code> that will print A1, A2, A3, A4 and then returns an integer result.</li>\n  <li>Thread 1 and then Thread 4 and 7 are involved to run task A. Each time the keyword <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> is executed, one cannot predict the pool thread that will be used to run the code remaining. Keep in mind that this behavior results from running within a console application context where there is no <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">SynchornizationContext</span></code>&nbsp;(this will be explained in a later section).</li>\n  <li>Similarly, in the main method the code after <code class=\"hljs language-abnf language-coffeescript\">await taskA<span class=\"hljs-comment\">;</span></code>&nbsp; is executed on a random pool thread. Here it appears to be the same thread that executed the last part of <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">MethodAAsync</span><span class=\"hljs-params\">()</span></span></code>.</li>\n  </ul>\n  <p>It is important to note that only the keyword <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> does mysterious things here. <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> is just here to decorate a method to tell the C# compiler that this method contains at least one <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keyword. The C# compiler could be smart enough to detect that a method contains an <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keyword. However <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> was introduced both for readability and for backward compatibility to avoid breaking existing code that used <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> as a variable name:</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/C-async-keyword-just-a-decorator.png\"><img sizes=\"(max-width: 757px) 100vw, 757px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/757x0,sYAYgNDib4IrYE9wEHqOOyWt4AWZ6uhILACBJ09cbqoc/https://blog.ndepend.com/wp-content/uploads/C-async-keyword-just-a-decorator.png 757w,https://proxy-prod.omnivore-image-cache.app/300x0,s3N9mTk6kbDCMxviAx5TOmAkX0-64ySVKpz6tyb-H2UI/https://blog.ndepend.com/wp-content/uploads/C-async-keyword-just-a-decorator-300x181.png 300w,\" height=\"457\" width=\"757\" alt=\"C# async keyword just a decorator\" src=\"https://proxy-prod.omnivore-image-cache.app/757x457,svVIdcdIU7zTucZdXJuQrfe-hlRzBVaUys_iYguwg7PA/https://blog.ndepend.com/wp-content/uploads/C-async-keyword-just-a-decorator.png\" loading=\"lazy\"></a></p>\n  <p>Consequently, an <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> method with no&nbsp;<code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keyword is executed synchronously. A warning is emitted in this situation.</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/C-async-method-with-no-await-is-synchronous.png\"><img sizes=\"(max-width: 551px) 100vw, 551px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/551x0,seR22gAyrLmeu533ImSl24spNrZQI9vYsNKx9y4PPPMI/https://blog.ndepend.com/wp-content/uploads/C-async-method-with-no-await-is-synchronous.png 551w,https://proxy-prod.omnivore-image-cache.app/300x0,s4uU8TWIWqYpWWUwPjbGr_aHnXPYoYi9bWHoQLt-iMhg/https://blog.ndepend.com/wp-content/uploads/C-async-method-with-no-await-is-synchronous-300x142.png 300w,\" height=\"261\" width=\"551\" alt=\"C# async method with no await is synchronous\" src=\"https://proxy-prod.omnivore-image-cache.app/551x261,stwbkcetsLXtU0Pk68fn1ZWZdxb3SyXm5YyxpdkQ23Mc/https://blog.ndepend.com/wp-content/uploads/C-async-method-with-no-await-is-synchronous.png\" loading=\"lazy\"></a></p>\n  <p>From now <strong>keep in mind the keyword <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> is just a decorator to signify that the method contains the <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keyword. </strong>By the way, since the main method also contains the <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keyword it must also be declared as <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> and return a <code class=\"hljs language-ada language-arduino\"><span class=\"hljs-keyword\">Task</span></code>. A main method can be declared as <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> since C# 7.1.</p>\n  <h2>The magic behind the C# await keyword</h2>\n  <p>The keyword <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> is easy to understand. On the other hand the code after the keyword <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> is executed on a different thread. Some magic does occur under the hood to resume the execution upon the task termination. Let’s have a look at the thread stack trace after <code class=\"hljs language-abnf language-coffeescript\">await taskA<span class=\"hljs-comment\">;</span></code>&nbsp;in the main method.</p>\n  \n          <div data-settings=\"minimize scroll-mouseover\" id=\"crayon-625fbd8dbf2de268500373\">\n                  <table>\n                      <tbody><tr>\n                  <td data-settings=\"show\">\n                      \n                  </td>\n                          <td><div><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>.</span><span>.</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>\"Wait for taskA termination\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>await</span><span> </span><span>taskA</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>new</span><span> </span><span>System</span><span>.</span><span>Diagnostics</span><span>.</span><span>StackTrace</span><span>(</span><span>)</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\"The result of taskA is {taskA.Result}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>ReadKey</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp; </span><span>}</span></p></div></td>\n                      </tr>\n                  </tbody></table>\n              </div>\n  \n  <p>Here it is:</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/C-await-stack-trace.png\"><img sizes=\"(max-width: 960px) 100vw, 960px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/960x0,s4n7ewp6ypUMLlfyFpVMO0FXqC8VmhTUmovlsAY9LOBQ/https://blog.ndepend.com/wp-content/uploads/C-await-stack-trace.png 960w,https://proxy-prod.omnivore-image-cache.app/300x0,s-COubedvPk4186dVSM_l1lh81amIKWxRCiogcFjQsrE/https://blog.ndepend.com/wp-content/uploads/C-await-stack-trace-300x143.png 300w,https://proxy-prod.omnivore-image-cache.app/768x0,svSd-luLje1ZtKIuJQsTPrDDiE4Wi_kPlJOstVMby-aQ/https://blog.ndepend.com/wp-content/uploads/C-await-stack-trace-768x366.png 768w,\" height=\"458\" width=\"960\" alt=\"C# await stack trace\" src=\"https://proxy-prod.omnivore-image-cache.app/960x458,sCov-q14TP1BTyCRaV1AWV4uleNRgrmU1Ms8db7i-ahk/https://blog.ndepend.com/wp-content/uploads/C-await-stack-trace.png\" loading=\"lazy\"></a></p>\n  <p>The simple line&nbsp;<code class=\"hljs language-abnf language-coffeescript\">await taskA<span class=\"hljs-comment\">;</span></code> leads the C# compiler to generate a lot of code to pilot the runtime. Identifiers like <code class=\"hljs language-gams language-erlang\"><span class=\"hljs-function\"><span class=\"hljs-title\">AsyncState</span></span>...</code> and <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">MoveNext</span><span class=\"hljs-params\">()</span></span></code> shows that a state machine is created for us to let the magic of code continuation happens seamlessly. Here is the assembly decompiled with ILSpy. We can see that a class is generated by the compiler for each usage of the <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keyword:</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/ILSpy-C-async-await.png\"><img sizes=\"(max-width: 379px) 100vw, 379px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/379x0,shtFP8aUJOuOR7mqwLncMB-u_EfHEbAohnfKIKyDie54/https://blog.ndepend.com/wp-content/uploads/ILSpy-C-async-await.png 379w,https://proxy-prod.omnivore-image-cache.app/185x0,sQYLtKYApcAoSkRRPg32EnPEt_cPqAa3SehleEdL_LxE/https://blog.ndepend.com/wp-content/uploads/ILSpy-C-async-await-185x300.png 185w,\" height=\"616\" width=\"379\" alt=\"ILSpy C# async await\" src=\"https://proxy-prod.omnivore-image-cache.app/379x616,s6lORWMRMd2gIzjkuLnkMbrg3-QvJEiBtbCnOKJCwY4M/https://blog.ndepend.com/wp-content/uploads/ILSpy-C-async-await.png\" loading=\"lazy\"></a></p>\n  <p>Here is a <a rel=\"noopener\" href=\"https://www.ndepend.com/docs/visual-studio-dependency-graph#Call\">call graph generated by NDepend</a> of the methods of the <a rel=\"noopener\" href=\"https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/task-parallel-library-tpl\">Task Parallel Library (TPL)</a> called by the generated code. To obtain such graph with methods and fields generated by the compiler, the following setting must be disabled first: <em>NDepend &gt; Project Properties &gt; Analysis &gt; Merge Code Generated by Compiler into Application Code</em></p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/C-async-await-TPL-methods-call-graph.png\"><img sizes=\"(max-width: 527px) 100vw, 527px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/527x0,sECOG0q96su6YLTgHyQqAK5shQ5CxaQHz5oeCLkjhXsI/https://blog.ndepend.com/wp-content/uploads/C-async-await-TPL-methods-call-graph-527x1024.png 527w,https://proxy-prod.omnivore-image-cache.app/154x0,sjTDOSsC7zUCI_VUJvdS96jXcyillwsLVBWH-BzP8Vmk/https://blog.ndepend.com/wp-content/uploads/C-async-await-TPL-methods-call-graph-154x300.png 154w,https://proxy-prod.omnivore-image-cache.app/768x0,sJdSUp8I75uHootie06cillsEp5Zj5cmA8vewmlfGg30/https://blog.ndepend.com/wp-content/uploads/C-async-await-TPL-methods-call-graph-768x1493.png 768w,https://proxy-prod.omnivore-image-cache.app/790x0,s-1LtRhS1oF1sQFe-0m0ejqoKqSi2HxDBCCq3G1zPJuw/https://blog.ndepend.com/wp-content/uploads/C-async-await-TPL-methods-call-graph-790x1536.png 790w,https://proxy-prod.omnivore-image-cache.app/956x0,ssoR350lN52mKvXLm_Bnvnw6w4xyixkaUs7TmVI1StBY/https://blog.ndepend.com/wp-content/uploads/C-async-await-TPL-methods-call-graph.png 956w,\" height=\"1024\" width=\"527\" alt=\"C# async await TPL methods call graph\" src=\"https://proxy-prod.omnivore-image-cache.app/527x1024,sdOmf088uYxXq6WhrVMTK8SjPDiyhb5vyJw8Mx5ehKrE/https://blog.ndepend.com/wp-content/uploads/C-async-await-TPL-methods-call-graph-527x1024.png\" loading=\"lazy\"></a></p>\n  <p>The details of what the C# compiler generates when it meets the keyword <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> is outside the scope of this article. Just keep in mind that the code executed after an <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keyword can eventually be executed by a <em>random thread</em> and that a lot of code that calls the TPL is generated to make this happens. Let’s explain how the <em>random thread</em> is chosen by he runtime.</p>\n  <h2>The SynchronizationContext</h2>\n  <p>So far we only demonstrated code executed in the context of a console application. <strong>The context in which some asynchronous code actually influences its workflow a lot</strong>. For example let’s run the same code in the context of a WPF application. Since it is convenient to keep the console output to show results let’s just set the output type of our WPF assembly to <em>Console Application</em>, so a console is shown when the WPF app starts.</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/WPF-project-output-console-application.png\"><img sizes=\"(max-width: 646px) 100vw, 646px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/646x0,sM9M9IOnAGwLddR6eTmC10756omls971vHMNZ9PYoQ3w/https://blog.ndepend.com/wp-content/uploads/WPF-project-output-console-application.png 646w,https://proxy-prod.omnivore-image-cache.app/300x0,s8jVLgm21mrxEnLkGjY76QFazgrxi06Jgy7RK_xmxGpA/https://blog.ndepend.com/wp-content/uploads/WPF-project-output-console-application-300x107.png 300w,\" height=\"231\" width=\"646\" alt=\"WPF project output console application\" src=\"https://proxy-prod.omnivore-image-cache.app/646x231,s-bWVx_9ajTkPKQYtOBupEy8J4P15YYQv6eXp403L24Y/https://blog.ndepend.com/wp-content/uploads/WPF-project-output-console-application.png\" loading=\"lazy\"></a></p>\n  <p>Now let’s execute the exact same code from within a WPF button click event handler:</p>\n  \n          <div data-settings=\"minimize scroll-mouseover\" id=\"crayon-625fbd8dbf2e2817886861\">\n                  <table>\n                      <tbody><tr>\n                  <td data-settings=\"show\">\n                      \n                  </td>\n                          <td><div><p><span>&nbsp;&nbsp; </span><span>public</span><span> </span><span>partial </span><span>class</span><span> </span><span>MainWindow</span><span> </span><span>:</span><span> </span><span>Window</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>MainWindow</span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>InitializeComponent</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>private</span><span> </span><span>async</span><span> </span><span>void</span><span> </span><span>Button_Click</span><span>(</span><span>object</span><span> </span><span>sender</span><span>,</span><span> </span><span>RoutedEventArgs</span><span> </span><span>e</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\"Start Program\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>Task</span><span>&lt;</span><span>int</span><span>&gt;</span><span> </span><span>taskA</span><span> </span>=<span> </span><span>MethodAAsync</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>.</span><span>.</span><span>.</span></p></div></td>\n                      </tr>\n                  </tbody></table>\n              </div>\n  \n  <p>Here is the surprising result: the main thread is used to run everything! And task A loops are postponed after task B loops (except the first one).</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/WPF-C-async-await-SynchronizationContext.png\"><img sizes=\"(max-width: 427px) 100vw, 427px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/427x0,ssar69uJuComb16arcrm0Gb3QPGkZcunN4eE4OCbsd_o/https://blog.ndepend.com/wp-content/uploads/WPF-C-async-await-SynchronizationContext.png 427w,https://proxy-prod.omnivore-image-cache.app/300x0,sR-ip4o-LfZ6WYlEt-SQJ-QRM7CNXwnW48wP_u2a54GM/https://blog.ndepend.com/wp-content/uploads/WPF-C-async-await-SynchronizationContext-300x169.png 300w,\" height=\"241\" width=\"427\" alt=\"WPF C# async await SynchronizationContext\" src=\"https://proxy-prod.omnivore-image-cache.app/427x241,seYZPkUjA_aEPKzgThPxZ0qQEMgWY4QY0_thEkoEzeG0/https://blog.ndepend.com/wp-content/uploads/WPF-C-async-await-SynchronizationContext.png\" loading=\"lazy\"></a></p>\n  <p>This is totally different than what we had with our console application. The key is that in a WPF context (and also in a Winforms context) there is a synchronization context object, that can be obtained through <code class=\"hljs language-css language-pgsql\"><span class=\"hljs-selector-tag\">SynchronizationContext</span><span class=\"hljs-selector-class\">.Current</span></code>.</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/WPF-SynchronizationContext.png\"><img sizes=\"(max-width: 614px) 100vw, 614px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/614x0,slXaZp7WIy9mqfZP1UhJlaSm-xU2xPBttfG_xBbonUco/https://blog.ndepend.com/wp-content/uploads/WPF-SynchronizationContext.png 614w,https://proxy-prod.omnivore-image-cache.app/300x0,sIH4f0MYDd9DICI0_KdYllnZRY7_1RAwbFx28QOot_7E/https://blog.ndepend.com/wp-content/uploads/WPF-SynchronizationContext-300x57.png 300w,\" height=\"116\" width=\"614\" alt=\"WPF SynchronizationContext\" src=\"https://proxy-prod.omnivore-image-cache.app/614x116,sE8p9zv-d1P9gI2jM5XbanCg0sul_G02jR-vjhQDb1wY/https://blog.ndepend.com/wp-content/uploads/WPF-SynchronizationContext.png\" loading=\"lazy\"></a></p>\n  <p>There is no synchronization context in a console application.</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/Console-SynchronizationContext.png\"><img sizes=\"(max-width: 560px) 100vw, 560px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/560x0,sSa5VEl3ZL58bPhUfK7TLBmrmSm4_Fkrt-0z7L5dQKoY/https://blog.ndepend.com/wp-content/uploads/Console-SynchronizationContext.png 560w,https://proxy-prod.omnivore-image-cache.app/300x0,sKAcE29sjU9I4Fi6nOZgv8MiBSnQkQ6__G7840wvJh3Q/https://blog.ndepend.com/wp-content/uploads/Console-SynchronizationContext-300x63.png 300w,\" height=\"117\" width=\"560\" alt=\"Console SynchronizationContext\" src=\"https://proxy-prod.omnivore-image-cache.app/560x117,sr-kQt_ajGOc7uU0dMO3Ql4-yK5ul_eoyksAu4IjgaPE/https://blog.ndepend.com/wp-content/uploads/Console-SynchronizationContext.png\" loading=\"lazy\"></a></p>\n  <p>The WPF and Winforms synchronization contexts take care to runs the code after an <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> prefixed call, on the main UI thread. To do so these synchronization contexts are relying on the internal infrastructure of the WPF and the Winforms platforms.</p>\n  <p>In the precedent WPF execution there is no pool thread involved because there is no real asynchronous processing: remember we use <code class=\"hljs language-ada language-abnf\">await <span class=\"hljs-keyword\">Task</span>.<span class=\"hljs-keyword\">Delay</span>(<span class=\"hljs-number\">100</span>);</code> to simulate it. Here is the output if we do some real processing instead:</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/WPF-C-await-real-processing.png\"><img sizes=\"(max-width: 591px) 100vw, 591px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/591x0,slccP46OHK0hgkADSIzFxfWLC0sf9DnOUdUk87SEYGqg/https://blog.ndepend.com/wp-content/uploads/WPF-C-await-real-processing.png 591w,https://proxy-prod.omnivore-image-cache.app/300x0,sQIIeRoRr0iwid2-QB2qRFG5FPBbZVePkTlIOGSm_UwM/https://blog.ndepend.com/wp-content/uploads/WPF-C-await-real-processing-300x265.png 300w,\" height=\"523\" width=\"591\" alt=\"WPF C# await real processing\" src=\"https://proxy-prod.omnivore-image-cache.app/591x523,sAAfU6vGsDR8msnxdELdPj2zbqvlVp8-UYO_qTGR6xFY/https://blog.ndepend.com/wp-content/uploads/WPF-C-await-real-processing.png\" loading=\"lazy\"></a></p>\n  <p>This WPF and Winforms asynchronous contexts’ default behavior of resuming on the main UI thread after an asynchronous call can be discarded by calling the method <code class=\"hljs language-isbl language-stylus\"><span class=\"hljs-function\"><span class=\"hljs-title\">ConfigureAwait</span>(<span class=\"hljs-variable\"><span class=\"hljs-literal\">false</span></span>)</span></code> on the task in the <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> call. The value <code class=\"hljs language-yaml language-actionscript\"><span class=\"hljs-literal\">false</span></code> is set to the parameter <code class=\"hljs language-reasonml language-stylus\"><span class=\"hljs-constructor\">ConfigureAwait(<span class=\"hljs-params\">bool</span> <span class=\"hljs-params\">continueOnCapturedContext</span>)</span></code>. By default this well-named parameter is set to <code class=\"hljs language-yaml language-actionscript\"><span class=\"hljs-literal\">true</span></code>. With <code class=\"hljs language-isbl language-stylus\"><span class=\"hljs-function\"><span class=\"hljs-title\">ConfigureAwait</span>(<span class=\"hljs-variable\"><span class=\"hljs-literal\">false</span></span>)</span></code> called in a WPF or Winforms context, we go back to the console behavior where a random thread from the pool is used to resume after the <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> call. In a UI application you might wish to avoid preempting the UI thread when harnessing the result of an asynchronous operation to preserve the UI responsiveness that is conditioned by the amount of work done on the UI thread.</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/WPF-C-async-await-ConfigureAwait.png\"><img sizes=\"(max-width: 658px) 100vw, 658px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/658x0,sEDVi_q7h692XdNeCdV2y-yHYDqvmI2ccFNXWUrniue0/https://blog.ndepend.com/wp-content/uploads/WPF-C-async-await-ConfigureAwait.png 658w,https://proxy-prod.omnivore-image-cache.app/300x0,s6pOUvBn3cwfNV1M2YEwmmY-Dn6KkKc2xUDqfZ3RBZ3I/https://blog.ndepend.com/wp-content/uploads/WPF-C-async-await-ConfigureAwait-300x174.png 300w,\" height=\"382\" width=\"658\" alt=\"WPF C# async await ConfigureAwait\" src=\"https://proxy-prod.omnivore-image-cache.app/658x382,sDpteKhTE80_JuIjtBTZRjFMR5WYN_ZPGdaJ_Jd5VwbE/https://blog.ndepend.com/wp-content/uploads/WPF-C-async-await-ConfigureAwait.png\" loading=\"lazy\"></a></p>\n  <p>Let’s notice that there is no synchronization context within an ASP.NET Core application. Find more explanations on the <a rel=\"noopener\" href=\"https://blog.stephencleary.com/2017/03/aspnetcore-synchronization-context.html\">Stephen Cleary’ blog</a>. This was an important change because ASP.NET had an <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">AspNetSynchronizationContext</span></code> <a rel=\"noopener\" href=\"https://stackoverflow.com/questions/12659851/aspnetsynchronizationcontext\">as discussed in this stackoverflow Q/A</a>.</p>\n  <p>Finally let’s note that you can create <a rel=\"noopener\" href=\"https://github.com/kekyo/SynchContextSample\">custom synchronization context</a> as explained on this github page, although you won’t likely do so.</p>\n  <h2>The Task Parallel Library (TPL)</h2>\n  <p>In the precedent sections we mentioned the TPL. The TPL is an extensive library proposing everything one could need to address any asynchronous scenario, from the basic to the advanced ones. The classes <code class=\"hljs language-ada language-arduino\"><span class=\"hljs-keyword\">Task</span>&lt;TResult&gt;</code>&nbsp;and <code class=\"hljs language-ada language-arduino\"><span class=\"hljs-keyword\">Task</span></code> are the central classes of the TPL. In the example below we start several tasks and wait for their terminations, one by one, with the TPL method <code class=\"hljs language-ada language-arduino\"><span class=\"hljs-keyword\">Task</span>.WhenAny&lt;TResult&gt;(IEnumerable&lt;<span class=\"hljs-keyword\">Task</span>&lt;TResult&gt;&gt;)</code>:</p>\n  \n          <div data-settings=\"minimize scroll-mouseover\" id=\"crayon-625fbd8dbf2e5510776197\">\n                  <table>\n                      <tbody><tr>\n                  <td data-settings=\"show\">\n                      <div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p></div>\n                  </td>\n                          <td><div><p><span>class</span><span> </span><span>Program</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp; </span><span>static</span><span> </span><span>async</span><span> </span><span>Task </span><span>Main</span><span>(</span><span>string</span><span>[</span><span>]</span><span> </span><span>args</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\"Start Program\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>tasks</span><span> </span>=<span> </span><span>new</span><span> </span><span>List</span><span>&lt;</span><span>Task</span><span>&lt;</span><span>string</span><span>&gt;</span><span>&gt;</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>MethodAsync</span><span>(</span><span>\"A\"</span><span>,</span><span> </span><span>50</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>MethodAsync</span><span>(</span><span>\"B\"</span><span>,</span><span> </span><span>100</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>MethodAsync</span><span>(</span><span>\"C\"</span><span>,</span><span> </span><span>20</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>while</span><span> </span><span>(</span><span>tasks</span><span>.</span><span>Any</span><span>(</span><span>)</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>Task</span><span>&lt;</span><span>string</span><span>&gt;</span><span> </span><span>taskTerminated</span><span> </span>=<span> </span><span>await</span><span> </span><span>Task</span><span>.</span><span>WhenAny</span><span>(</span><span>tasks</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\"Task terminated result {taskTerminated.Result}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>tasks</span><span>.</span><span>Remove</span><span>(</span><span>taskTerminated</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\"End Program\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>ReadKey</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp; </span><span>}</span></p><p><span>&nbsp;&nbsp; </span><span>static</span><span> </span><span>async</span><span> </span><span>Task</span><span>&lt;</span><span>string</span><span>&gt;</span><span> </span><span>MethodAsync</span><span>(</span><span>string</span><span> </span><span>x</span><span>,</span><span> </span><span>int</span><span> </span><span>delay</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>for</span><span> </span><span>(</span><span>int</span><span> </span><span>i</span><span> </span>=<span> </span><span>0</span><span>;</span><span> </span><span>i</span><span> </span><span>&lt;</span><span> </span><span>3</span><span>;</span><span> </span><span>i</span>++<span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\" {x}{i}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>await</span><span> </span><span>Task</span><span>.</span><span>Delay</span><span>(</span><span>delay</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>string</span><span> </span><span>result</span><span> </span>=<span> </span><span>new</span><span> </span><span>string</span><span>(</span><span>x</span><span>[</span><span>0</span><span>]</span><span>,</span><span> </span><span>4</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\" {x} returns result {result}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>result</span><span>;</span></p><p><span>&nbsp;&nbsp; </span><span>}</span></p><p><span>&nbsp;&nbsp; </span><span>// Convenient helper to print colorful threadId on console</span></p><p><span>&nbsp;&nbsp; </span><span>static</span><span> </span><span>void</span><span> </span><span>ConsoleWriteLine</span><span>(</span><span>string</span><span> </span><span>str</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int</span><span> </span><span>threadId</span><span> </span>=<span> </span><span>Thread</span><span>.</span><span>CurrentThread</span><span>.</span><span>ManagedThreadId</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>ForegroundColor</span><span> </span>=<span> </span><span>threadId</span><span> </span>==<span> </span><span>1</span><span> </span><span>?</span><span> </span><span>ConsoleColor</span><span>.</span><span>White</span><span> </span><span>:</span><span> </span><span>ConsoleColor</span><span>.</span><span>Cyan</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>$</span><span>\"{str}{new string(' ', 29 - str.Length)}&nbsp;&nbsp; Thread {threadId}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp; </span><span>}</span></p><p><span>}</span></p></div></td>\n                      </tr>\n                  </tbody></table>\n              </div>\n  \n  <p>Here is the result:</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/C-async-await-several-tasks.png\"><img sizes=\"(max-width: 330px) 100vw, 330px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/330x0,sTS52cUgcnKEHLpFWXj1p0WTT0dPgJG4ghrbkdIwb-d8/https://blog.ndepend.com/wp-content/uploads/C-async-await-several-tasks.png 330w,https://proxy-prod.omnivore-image-cache.app/300x0,snliWDHXth6tUGix9Z97ZoRIUOIsMTwRZtLtNABwbcAk/https://blog.ndepend.com/wp-content/uploads/C-async-await-several-tasks-300x255.png 300w,\" height=\"280\" width=\"330\" alt=\"C# async await several tasks\" src=\"https://proxy-prod.omnivore-image-cache.app/330x280,sqnQfKKjFFoSp31Zcog7QbvKSNIF3Fqm8ien0GvoiTFE/https://blog.ndepend.com/wp-content/uploads/C-async-await-several-tasks.png\" loading=\"lazy\"></a></p>\n  <h2>await and Exception Handling</h2>\n  <p>Let’s underline that the keyword <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> works as expected when an exception is thrown from an asynchronous processing.</p>\n  \n          <div data-settings=\"minimize scroll-mouseover\" id=\"crayon-625fbd8dbf2e8849683787\"><p><span>&nbsp;&nbsp; </span><span>static</span><span> </span><span>async</span><span> </span><span>Task </span><span>Main</span><span>(</span><span>string</span><span>[</span><span>]</span><span> </span><span>args</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\"Start Program\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>.</span><span>.</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>\"Wait for taskA termination\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>try</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>await</span><span> </span><span>taskA</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\"The result of taskA is {taskA.Result}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>catch</span><span> </span><span>(</span><span>ApplicationException </span><span>ex</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\"{ex.GetType().ToString()} Msg:{ex.Message}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>ReadKey</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp; </span><span>}</span></p><p><span>&nbsp;&nbsp; </span><span>static</span><span> </span><span>async</span><span> </span><span>Task</span><span>&lt;</span><span>int</span><span>&gt;</span><span> </span><span>MethodAAsync</span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>for</span><span> </span><span>(</span><span>int</span><span> </span><span>i</span><span> </span>=<span> </span><span>0</span><span>;</span><span> </span><span>i</span><span> </span><span>&lt;</span><span> </span><span>5</span><span>;</span><span> </span><span>i</span>++<span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\" A{i}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>await</span><span> </span><span>Task</span><span>.</span><span>Delay</span><span>(</span><span>100</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\" A throws exception\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>throw</span><span> </span><span>new</span><span> </span><span>ApplicationException</span><span>(</span><span>\"Boum\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int</span><span> </span><span>result</span><span> </span>=<span> </span><span>123</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ConsoleWriteLine</span><span>(</span><span>$</span><span>\" A returns result {result}\"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>result</span><span>;</span></p><p><span>&nbsp;&nbsp; </span><span>}</span></p><p><span>.</span><span>.</span><span>.</span></p></div>\n  \n  <p>Here is the output of this program:</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/C-async-await-and-exception.png\"><img sizes=\"(max-width: 406px) 100vw, 406px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/406x0,smQl1xuspTndVH8AYeJayLAn7yqWnVh7DEFoDWFU2dhc/https://blog.ndepend.com/wp-content/uploads/C-async-await-and-exception.png 406w,https://proxy-prod.omnivore-image-cache.app/300x0,s8SvU9_HTMUjz5IlSo8sBEA7dOiCefYb6l2fB-5YVdYQ/https://blog.ndepend.com/wp-content/uploads/C-async-await-and-exception-300x123.png 300w,\" height=\"167\" width=\"406\" alt=\"C# async await and exception\" src=\"https://proxy-prod.omnivore-image-cache.app/406x167,sHnKDhMzESeVd5TFwlwjjgibLg70TfMhWEhB0H76uTZQ/https://blog.ndepend.com/wp-content/uploads/C-async-await-and-exception.png\" loading=\"lazy\"></a></p>\n  <p>On the other hand if the line <code class=\"hljs language-abnf language-coffeescript\">await taskA<span class=\"hljs-comment\">;</span></code> within the <code class=\"hljs language-actionscript language-angelscript\"><span class=\"hljs-keyword\">try</span> { ... } <span class=\"hljs-keyword\">catch</span></code> scope is replaced with the line <code class=\"hljs language-abnf language-css\">taskA.Wait()<span class=\"hljs-comment\">;</span></code>, the exception is not handled by the <code class=\"hljs language-actionscript language-angelscript\"><span class=\"hljs-keyword\">catch</span></code> clause. This unexpected behavior illustrates well that when doing asynchronous programming, the keyword <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> should be the preferred way to await asynchronous methods.</p>\n  <h2>The plethora of asynchronous .NET APIs</h2>\n  <p>The introduction explained that <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> and <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keywords make asynchronous programming easier, especially when it comes to run computationally expensive tasks executed simultaneously on multiple CPU cores. The keywords <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> and <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> are also especially useful to run asynchronous I/O tasks. The .NET library offers hundreds of asynchronous methods to achieve all sorts of I/O tasks including network access, database access, JSON XML binary… file access, data compression and more.</p>\n  <p>Here is a small example where we gather 3 website home pages in order to print their sizes in bytes:</p>\n  \n          <div data-settings=\"minimize scroll-mouseover\" id=\"crayon-625fbd8dbf2eb328312013\"><p><span>var</span><span> </span><span>tasks</span><span> </span>=<span> </span><span>new</span><span> </span><span>Task</span><span>&lt;</span><span>string</span><span>&gt;</span><span>[</span><span>]</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp; </span><span>new</span><span> </span><span>HttpClient</span><span>(</span><span>)</span><span>.</span><span>GetStringAsync</span><span>(</span><span>\"https://www.google.com/\"</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>new</span><span> </span><span>HttpClient</span><span>(</span><span>)</span><span>.</span><span>GetStringAsync</span><span>(</span><span>\"https://www.microsoft.com/\"</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>new</span><span> </span><span>HttpClient</span><span>(</span><span>)</span><span>.</span><span>GetStringAsync</span><span>(</span><span>\"https://www.ndepend.com/\"</span><span>)</span></p><p><span>}</span><span>;</span></p><p><span>await</span><span> </span><span>Task</span><span>.</span><span>WhenAll</span><span>(</span><span>tasks</span><span>)</span><span>;</span></p><p><span>// Print the size of the webpages</span></p><p><span>Console</span><span>.</span><span>WriteLine</span><span>(</span></p><p><span>&nbsp;&nbsp; </span><span>$</span><span>\"Home page sizes: {tasks.Select(t =&gt; t.Result.Length.ToString()).Aggregate((str1,str2) =&gt; str1+\"</span><span>,</span><span>\"+str2)}\"</span><span>)</span><span>;</span></p><p><span>Console</span><span>.</span><span>ReadKey</span><span>(</span><span>)</span><span>;</span></p></div>\n  \n  <p>This program prints:</p>\n  \n          <div data-settings=\"minimize scroll-mouseover\" id=\"crayon-625fbd8dbf2ec316878387\">\n                  <table>\n                      <tbody><tr>\n                  <td data-settings=\"show\">\n                      \n                  </td>\n                          <td><div><p><span>Home </span><span>page </span><span>sizes</span><span>:</span><span> </span><span>52891</span><span>,</span><span>193871</span><span>,</span><span>39755</span></p></div></td>\n                      </tr>\n                  </tbody></table>\n              </div>\n  \n  <p>Notice that this program relies on C#9 top level statement that works fine with the <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keyword. It would be easy to modify this programs for example to read asynchronously some files content.</p>\n  \n          <div data-settings=\"minimize scroll-mouseover\" id=\"crayon-625fbd8dbf2ed420314605\">\n                  <table>\n                      <tbody><tr>\n                  <td data-settings=\"show\">\n                      \n                  </td>\n                          <td><div><p><span>var</span><span> </span><span>tasks</span><span> </span>=<span> </span><span>new</span><span> </span><span>Task</span><span>&lt;</span><span>string</span><span>&gt;</span><span>[</span><span>]</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp; </span><span>File</span><span>.</span><span>ReadAllTextAsync</span><span>(</span><span>@\"C:\\Program Files\\dotnet\\dotnet.exe\"</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>File</span><span>.</span><span>ReadAllTextAsync</span><span>(</span><span>@\"C:\\Windows\\explorer.exe\"</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>File</span><span>.</span><span>ReadAllTextAsync</span><span>(</span><span>@\"C:\\Windows\\py.exe\"</span><span>)</span><span>,</span></p><p><span>}</span><span>;</span></p><p><span>.</span><span>.</span><span>.</span></p></div></td>\n                      </tr>\n                  </tbody></table>\n              </div>\n  \n  \n  <h2>Conclusion</h2>\n  <p>Hopefully now the asynchronous control flow obtained through the keyword&nbsp;<code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> is less mysterious to you. The <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> keyword leads to a lot of code generated by the C# compiler while the <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> keyword just decorates asynchronous method but doesn’t lead to anything tricky as <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> does.</p>\n  <p>In this article we only focused on the C# <code class=\"hljs language-cs language-dart\"><span class=\"hljs-keyword\">async</span></code> and <code class=\"hljs language-coffeescript language-cs\"><span class=\"hljs-keyword\">await</span></code> and things that can influence their behavior like the synchronization context or exception. If you have more advanced asynchronous scenarios to deal with, like cancelling a task it is time to learn more about the TPL.</p>\n  \n  \n  \n  \n  <div data-author-type=\"user\" data-multiauthor=\"false\" data-box-layout=\"layout-1\" data-plugin-version=\"premium\" data-plugin-release=\"3.2.1\" id=\"mab-1246210150\" data-author-ref=\"user-2\" data-profile-layout=\"layout-1\">\n  \n      \n      \n      <p><a href=\"https://blog.ndepend.com/author/psmacchia/\">\n                      <img loading=\"lazy\" alt=\"Patrick Smacchia\" src=\"https://proxy-prod.omnivore-image-cache.app/150x150,s91yuwjaE8_stItAP_cecjwFWmYcIj4_F-O--kenBqv4/https://blog.ndepend.com/wp-content/uploads/006-150x150.jpg\" height=\"150\" width=\"150\">                </a>\n                      </p>\n  \n      \n      \n      \n      <div>\n          <p>My dad being an early programmer in the 70's, I have been fortunate to switch from playing with Lego, to program my own micro-games, when I was still a kid. Since then I never stop programming.</p>\n  <p>I graduated in Mathematics and Software engineering. After a decade of C++ programming and consultancy, I got interested in the brand new .NET platform in 2002. I had the chance to write the best-seller book (in French) on .NET and C#, published by O'Reilly and also did manage some academic and professional courses on the platform and C#.</p>\n  <p>Over my consulting years I built an expertise about the architecture, the evolution and the maintenance challenges of large &amp; complex real-world applications. It seemed like the spaghetti &amp; entangled monolithic legacy concerned every sufficiently large team. As a consequence, I got interested in static code analysis and started the project NDepend.</p>\n  <p>Today, with more than 12.000 client companies, including many of the Fortune 500 ones, NDepend offers deeper insight and full control on their application to a wide range of professional users around the world.</p>\n  <p>I live with my wife and our twin kids Léna and Paul in the beautiful island of Mauritius in the Indian Ocean.</p>\n      </div>\n  \n  </div></div>\n  \n      \n      \n  \n  </article>\n  <div>\n          <h2>Make your .NET code beautiful with NDepend</h2>\n          <p>Measure quality with metrics, generate diagrams and enforce decisions with code rules, right in Visual Studio.</p>\n          <p><a href=\"https://www.ndepend.com/download\"><span>Download the</span> <span>14 day trial</span> <span>now</span></a>\n      </p></div>\n  \n              </div></div>",
    "labels": "csharp"
  },
  {
    "description": "Discussed in #5496 Originally posted by MadsTorgersen November 30, 2021 Roles and extensions in C# Proposed Prototype: Not Started Implementation: Not Started Specification: Not Started Motivation ...",
    "title": "[Proposal]: Roles and extensions · Issue #5497 · dotnet/csharplang",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n  \n          \n  \n  <div>\n            <h3 dir=\"auto\">Discussed in <a href=\"https://github.com/dotnet/csharplang/discussions/5496\" data-hovercard-url=\"/dotnet/csharplang/discussions/5496/hovercard\" data-hovercard-type=\"discussion\" data-url=\"https://github.com/dotnet/csharplang/discussions/5496\" data-permission-text=\"Title is private\" data-id=\"3719293\" data-error-text=\"Failed to load title\">#5496</a></h3>\n  <p dir=\"auto\"><sup>Originally posted by <strong>MadsTorgersen</strong> November 30, 2021</sup></p>\n  <h2 dir=\"auto\">Roles and extensions in C#</h2>\n  <ul>\n  <li>\n    <span>\n      \n    </span>\n    <span>\n      \n    </span> Proposed</li>\n  <li>\n    <span>\n      \n    </span>\n    <span>\n      \n    </span> Prototype: Not Started</li>\n  <li>\n    <span>\n      \n    </span>\n    <span>\n      \n    </span> Implementation: Not Started</li>\n  <li>\n    <span>\n      \n    </span>\n    <span>\n      \n    </span> Specification: Not Started</li>\n  </ul>\n  <h2 dir=\"auto\">Motivation</h2>\n  <p dir=\"auto\">In C# today, one assembly can use extension methods to augment types of another assembly, effectively adding new instance methods to it. This proposal expands on that principle so that:</p>\n  <ol dir=\"auto\">\n  <li><strong>All kinds of members</strong>, including static ones, can be added from the outside, as long as they don’t add instance state</li>\n  <li>Augmentations can be “<strong>roles</strong>” which selectively augment individual values, as well as “<strong>extensions</strong>” which augment all values of a type throughout a scope (like today’s extension methods)</li>\n  <li>Roles and extensions present as <strong>first-class types</strong>, with names and conversions</li>\n  <li>Stretch goal: Roles and extensions can <strong>implement interfaces</strong> on behalf of the underlying types and values, acting as <em>adapters</em></li>\n  </ol>\n  <p dir=\"auto\">Common to these is that they don’t require involvement of the underlying type, and don’t intrude upon its inherent semantics, thus facilitating new degrees of decoupling and separation of concerns.</p>\n  <p dir=\"auto\">The main purpose of the proposal at this point is to lay out the motivating scenarios and a comprehensive set of ideas for addressing them. The terms, concepts and syntax are all up for discussion. From a language design perspective there is a lot of new ground here, so it's ok - even necessary - for us to spend some time and effort making sure we end up giving it the best embodiment that we can.</p>\n  <h2 dir=\"auto\">Syntax</h2>\n  <p dir=\"auto\">Acknowledging the design latitude, here’s the style of syntax I’ll use in the following:</p>\n  <div><pre><span>role</span> <span>Name</span><span>&lt;</span><span>T</span><span>&gt;</span> : <span>UnderlyingType</span>, <span>Interface</span> <span>where</span> <span>T</span> : <span>Constraint</span>\n  {\n      <span><span>//</span> Member declarations</span>\n  }\n  <span>extension</span> <span>Name</span><span>&lt;</span><span>T</span><span>&gt;</span> : <span>UnderlyingType</span>, <span>Interface</span> <span>where</span> <span>T</span> : <span>Constraint</span>\n  {\n      <span><span>//</span> Member declarations</span>\n  }</pre></div>\n  <p dir=\"auto\">Extensions are just roles that apply automatically to their underlying type when brought into scope with a using directive. Roles and extensions have a name, can be generic, can implement interfaces and can declare members that don’t introduce instance state. Unlike base types elsewhere, the underlying type can be pretty much anything, including value types, type parameters, pointer types etc.</p>\n  <p dir=\"auto\">A much more detailed description of the syntax and semantics follows under \"Detailed design\" later on.</p>\n  <h2 dir=\"auto\">Motivating examples</h2>\n  <p dir=\"auto\">These examples are meant to present motivating \"archetypical\" uses of roles and extensions. There are some bigger examples near the end of the document.</p>\n  <p dir=\"auto\">Throughout these examples I will make use of a simple <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">DataObject</span></code> type meant to represent weakly typed, semi-structured data, e.g., wire data:</p>\n  <div><pre><span>public</span> <span>class</span> <span>DataObject</span>\n  {\n      <span>public</span> <span>DataObject</span> <span>this</span>[<span>string</span> <span>member</span>] { <span>get</span>; <span>set</span>; }\n      <span>public</span> <span>string</span> <span>AsString</span>() { }\n      <span>public</span> <span>IEnumerable</span>&lt;<span>DataObject</span>&gt; <span>AsEnumerable</span>();\n      <span>public</span> <span>int</span> <span>ID</span> { <span>get</span>; }\n  }</pre></div>\n  <p dir=\"auto\">None of the examples modify the type itself, but instead enhance it in various ways with roles and extensions.</p>\n  <h3 dir=\"auto\">Layering with extensions</h3>\n  <p dir=\"auto\">API layering often conflicts with discoverability. We want to create APIs with only a one-way dependency, but members relating to the depending layer would be most naturally found in the depended-on layer. With extensions the depending layer can add members to types in the depended-on layer:</p>\n  <div><pre><span>public</span> <span>extension</span> <span>JsonDataObject</span> : <span>DataObject</span>\n  {\n      <span>public</span> <span>string</span> <span>ToJson</span>() { … <span>this</span> … }\n      <span>public</span> <span>static</span> <span>DataObject</span> <span>FromJson</span>(<span>string</span> <span>json</span>) { … }\n  }</pre></div>\n  <p dir=\"auto\">Here the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">DataObject</span></code> type is extended by a Json conversion API to have a static and an instance method, converting to and from strings representing Json.</p>\n  <p dir=\"auto\">The instance method of the extension can be considered a new and better syntax for the extension methods we already have in C# today. Bodies of instance extension members may refer to the extended object with the <code class=\"hljs language-kotlin language-actionscript\"><span class=\"hljs-keyword\">this</span></code> keyword.</p>\n  <p dir=\"auto\">The name of the extension can be used for disambiguation purposes, similar to the static class containing extension methods today. We might consider allowing extension declarations without names.</p>\n  <p dir=\"auto\">Extensions can be brought into scope the same way as extension methods today: With a <code class=\"hljs language-cpp language-arduino\"><span class=\"hljs-keyword\">using</span> <span class=\"hljs-keyword\">static</span></code> directive on the extension type or a <code class=\"hljs language-cpp language-arduino\"><span class=\"hljs-keyword\">using</span></code> on its namespace:</p>\n  <div><pre><span>using</span> <span>JsonLibrary</span>;\n  \n  <span>var</span> <span>data</span> <span>=</span> <span>DataObject</span>.<span>FromJson</span>(<span>args</span>[<span>0</span>]); <span><span>//</span> Extension static method</span>\n  <span>WriteLine</span>(<span>data</span>.<span>ToJson</span>());                <span><span>//</span> Extension instance method</span></pre></div>\n  <h3 dir=\"auto\">Lightweight typing</h3>\n  <p dir=\"auto\">Wire data is most naturally represented with weakly-typed dictionary-like types such as <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">DataObject</span></code>, but those don’t lend themselves well to helpful tooling and elegant program logic. However, conversion to strong types is expensive and lossy, and all-out wrappers still introduce a level of indirection. Roles can provide strongly typed augmentation with a lighter touch:</p>\n  <div><pre><span>public</span> <span>role</span> <span>Order</span> : <span>DataObject</span>\n  {\n      <span>public</span> <span>Customer</span> <span>Customer</span> <span>=&gt;</span> <span>this</span>[<span><span>\"</span>Customer<span>\"</span></span>];  \n      <span>public</span> <span>string</span> <span>Description</span> <span>=&gt;</span> <span>this</span>[<span><span>\"</span>Description<span>\"</span></span>].<span>AsString</span>();\n  }\n  <span>public</span> <span>role</span> <span>Customer</span> : <span>DataObject</span>\n  {\n      <span>public</span> <span>string</span> <span>Name</span> <span>=&gt;</span> <span>this</span>[<span><span>\"</span>Name<span>\"</span></span>].<span>AsString</span>();\n      <span>public</span> <span>string</span> <span>Address</span> <span>=&gt;</span> <span>this</span>[<span><span>\"</span>Address<span>\"</span></span>].<span>AsString</span>();\n      <span>public</span> <span>IEnumerable</span><span>&lt;</span><span>Order</span><span>&gt;</span> <span>Orders</span> <span>=&gt;</span> <span>this</span>[<span><span>\"</span>Orders<span>\"</span></span>].<span>AsEnumerable</span>();\n  }</pre></div>\n  <p dir=\"auto\">Roles are transparent wrappers. They are considered identical to their underlying types and have implicit conversions in both directions. The conversions are free at runtime, because the underlying representation of the object doesn’t change. The <code class=\"hljs language-apache language-ebnf\"><span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">Order</span></span></code> <em>is</em> the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">DataObject</span></code>. As the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Orders</span></code> property shows, even constructed types over roles convert freely. So now strongly typed, IntelliSense-aided code can be written without clunky indirection or runtime penalty:</p>\n  <div><pre><span>IEnumerable</span>&lt;<span>Customer</span>&gt; <span>customers</span> <span>=</span> <span>LoadCustomers</span>();\n  \n  <span>foreach</span> (<span>var</span> <span>customer</span> <span>in</span> <span>customers</span>)\n  {\n      <span>WriteLine</span>(<span><span>$\"</span>{<span>customer</span>.<span>Name</span>}:<span>\"</span></span>);\n      <span>foreach</span> (<span>var</span> <span>order</span> <span>in</span> <span>customer</span>.<span>Orders</span>)\n      {\n          <span>WriteLine</span>(<span><span>$\"</span>    {<span>order</span>.<span>Description</span>}<span>\"</span></span>);\n      }\n  }</pre></div>\n  <p dir=\"auto\">It is easy to imagine roles for wire data being automatically generated, e.g. by a source generator based on a schema or sample. This would address a similar scenario to F# type providers, but with named types and generated source code you can debug through.</p>\n  <p dir=\"auto\">While there would be nothing technically difficult about allowing identity conversion between two different roles with the same underlying type, I think it would be useful to disallow it – or at least warn about it – making people explicitly take the indirect route through the underlying type. That way the roles provide some protection against accidentally converting things across the role hierarchy.</p>\n  <h3 dir=\"auto\">Adaptation to interfaces</h3>\n  <p dir=\"auto\">We can imagine using roles and extensions to implement additional interfaces on values of the underlying types.<br>\n  Say there’s some framework that you plug into by implementing interfaces such as this:</p>\n  <div><pre><span>public</span> <span>interface</span> <span>IPerson</span>\n  {\n      public <span>int</span> <span>ID</span> { <span>get</span>; }\n      public <span>string</span> <span>FullName</span> { <span>get</span>; }\n  }</pre></div>\n  <p dir=\"auto\">We would like some of our person-like roles over <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">DataObject</span></code> to plug in to this framework. We can do this by expanding our declaration of <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Customer</span></code> to:</p>\n  <div><pre><span>public</span> <span>role</span> <span>Customer</span> : <span>DataObject</span>, <span>IPerson</span>\n  {\n      <span>string</span> <span>IPerson</span>.<span>FullName</span> <span>=</span><span>&gt;</span> <span>Name</span>;\n      <span><span>//</span> … plus same members as before</span>\n  }</pre></div>\n  <p dir=\"auto\">The declaration of <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Customer</span></code> explicitly maps <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">FullName</span></code> to <code class=\"hljs language-delphi language-ebnf\"><span class=\"hljs-keyword\">Name</span></code>, but does not need to contain an implementation of <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">ID</span></code> because it “inherits” a suitable one from the underlying <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">DataObject</span></code> type.</p>\n  <p dir=\"auto\">Now the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Customer</span></code> role can be used to treat <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">DataObject</span></code> instances as implementing <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">IPerson</span></code>! It will satisfy <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">IPerson</span></code> as a generic constraint, and there would be an implicit conversion – likely a boxing conversion – from <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Customer</span></code> to <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">IPerson</span></code>.</p>\n  <h3 dir=\"auto\">Combining roles and extensions</h3>\n  <p dir=\"auto\">In the previous example, the developer (or source generator!) who declared <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Customer</span></code> may not be aware of the person framework or interested in integrating with it. Again, this can be solved with an extension. The <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Customer</span></code> role itself can be extended to fulfill the interface!</p>\n  <div><pre><span>public</span> <span>extension</span> <span>CustomerAsPerson</span> : <span>Customer</span>, <span>IPerson</span>\n  {\n      <span>string</span> <span>IPerson</span>.<span>FullName</span> <span>=</span><span>&gt;</span> <span>Name</span>;\n  }</pre></div>\n  <p dir=\"auto\">Whoever imports this extension can then use unsuspecting <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Customer</span></code>s – who are themselves unsuspecting <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">DataObject</span></code>s – as <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">IPerson</span></code>s!</p>\n  <h3 dir=\"auto\">Generalized aliases</h3>\n  <p dir=\"auto\">Simple roles without bodies can serve as a better form of aliases, essentially rendering <code class=\"hljs language-cpp language-arduino\"><span class=\"hljs-keyword\">using</span></code> aliases obsolete:</p>\n  <div><pre><span>public</span> <span>role</span> <span>DataSet</span><span>&lt;</span><span>T</span><span>&gt;</span> : <span>Dictionary</span><span>&lt;</span><span>string</span>, <span>T</span><span>&gt;</span>;</pre></div>\n  <p dir=\"auto\">Unlike using aliases, such a \"role alias\" can be public (or any other accessibility), can be generic, can participate in the file's declaration space of types, can be recursive, etc. They are real type declarations, but still work as if they are just synonyms for the underlying type.</p>\n  <h2 dir=\"auto\">Detailed design</h2>\n  <p dir=\"auto\">Role declarations are a new form of type declaration:</p>\n  <div><pre><span>role_declaration</span>\n      : attributes? struct_modifier* <span><span>'</span>partial<span>'</span></span>? role_keyword identifier type_parameter_list?\n        <span><span>'</span>:<span>'</span></span> type role_interfaces type_parameter_constraints_clause* struct_body <span><span>'</span>;<span>'</span></span>?\n      ;\n      \n  <span>role_keyword</span>\n      : <span><span>'</span>role<span>'</span></span>\n      | <span><span>'</span>extension<span>'</span></span>\n  \n  <span>role_interfaces</span>\n      : (<span><span>'</span>,<span>'</span></span> interface_type)*\n      ;</pre></div>\n  <p dir=\"auto\">A role is in some ways like a struct and in some ways like a class. Like a struct it cannot be derived from, and therefore cannot be <code class=\"hljs language-ada language-aspectj\"><span class=\"hljs-keyword\">abstract</span></code> or <code class=\"hljs language-ceylon language-cs\"><span class=\"hljs-keyword\">sealed</span></code>. It also cannot have virtual or overriding members (except perhaps allowing it to override the members of <code class=\"hljs language-ceylon language-cs\"><span class=\"hljs-keyword\">object</span></code> similar to structs). It can implement interfaces, using a combination of its own members and ones inherited from the underlying type. Just like a struct, the role has a <em>boxing</em> conversion to those interfaces (though not directly to <code class=\"hljs language-ceylon language-cs\"><span class=\"hljs-keyword\">object</span></code>).</p>\n  <p dir=\"auto\">Somewhat like a class, however, a role specifies a kind of \"base type\" which we call the <em>underlying type</em>. Unlike a base type the underlying type is mandatory. On the other hand it can be any type, not just a class type. (We need to think about syntactic ambiguities in this position for tuples, pointer types etc.) At compile time the role inherits the members of the underlying type, just as a derived class inherits from its base class.</p>\n  <p dir=\"auto\">(<em>Open design question:</em> A role could be allowed to specify additional <em>base roles</em>. They would need to be applicable to the specified underlying type, and would provide a way to combine roles through a form of \"multiple inheritance\".)</p>\n  <p dir=\"auto\">The role transparently \"wraps\" the underlying type in such a way that values of the role and of the underlying type have identical runtime representation. For this reason a <code class=\"hljs language-undefined\">struct_member_declaration</code> in a role body is prohibited from declaring additional instance state, either as a field, an auto-implemented property or a field-like event, on top of what's inherited from the underlying type.</p>\n  <p dir=\"auto\">The underlying type of a role can be any type, even an interface, a value type, an array type, a type parameter, the <code class=\"hljs language-actionscript language-ceylon\"><span class=\"hljs-keyword\">dynamic</span></code> type, a pointer type or another role. Thus a role can be used to enhance types that cannot normally be extended with new functionality. Certain kinds of underlying types are subject to restrictions that limit how the role can be defined or used. For instance, a role on a ref struct cannot specify interfaces, and does not have a boxing conversion. A role on a pointer type or ref struct cannot be used as a type argument or an array element type.</p>\n  <p dir=\"auto\">In general, operations on a role are resolved exactly like those on a derived class: try to use the declarations in the role first, and if those aren't found, use the underlying type. The concrete mechanics of this for each operation needs to be specified in detail, but should generally be as similar as possible to how the corresponding operations are handled in a derived class.</p>\n  <p dir=\"auto\">The identical runtime representation of a role and its underlying type enables identity conversions to exist both ways between them. This in turn leads to the existence of identity conversions between constructed types where roles and their underlying types respectively are used as type arguments, as well as between array types where the element types are roles and their underlying types respectively.</p>\n  <p dir=\"auto\">Identity conversions in C# are generally transitive, which would allow them to apply not just to and from the roles and their underlying types but also <em>between</em> roles that have the same underlying type. However, it might nevertheless be reasonable to discourage direct conversion between unrelated roles on the same type, e.g. with warnings or even errors, so as to enable the enforcement of a \"shadow type hierarchy\" of roles. We have precedence for such diagnostics on identity conversions between tuples using different element names.</p>\n  <p dir=\"auto\">In addition, there is an implicit boxing conversion between a role and each of the interfaces it implements. This means that a new object is created whenever the role is converted to the interface, and the result will thus not be reference-equal to the underlying object, even if that is a reference type.</p>\n  <p dir=\"auto\">Any reference conversions, implicit and explicit, to and from the underlying type, are inherited by the role, although its own identity and boxing conversions take precedence, along with any user-defined conversions declared in the role.</p>\n  <p dir=\"auto\">The identity, reference and boxing conversions on a role can be used to satisfy generic constraints when the role is used as a type argument. This is the source of much of the feature's expressiveness, because roles can be used to \"bridge\" or \"adapt\" an existing class or struct (or other type) to an existing interface without modifying either, in such a way that values of the existing class or struct can be passed to generic methods using the existing interface as a constraint.</p>\n  <p dir=\"auto\">An extension declaration is simply a role declaration with a different keyword. In addition to all of the above, when an extension is in scope - either directly or via being brought in through a <code class=\"hljs language-cpp language-arduino\"><span class=\"hljs-keyword\">using</span></code> or <code class=\"hljs language-cpp language-arduino\"><span class=\"hljs-keyword\">using</span> <span class=\"hljs-keyword\">static</span></code> directive - it automatically applies as a \"fallback\" role for the underlying type. Similar to existing extension methods in C#, if a lookup fails on the underlying type, it is tried again against the extension. If multiple extensions apply, ambiguities between applicable members are resolved in the same manner as for extension methods.</p>\n  <p dir=\"auto\">In addition to member lookups, extensions can apply when the underlying type is used as a type argument, allowing interfaces implemented by the extension to help satisfy constraints on the corresponding type parameter.</p>\n  <h2 dir=\"auto\">Implementation strategies</h2>\n  <p dir=\"auto\">It is a cornerstone of the proposal that there is an identity conversion between a role and its underlying type, and that just like other identity conversions in the language it is essentially free – there is no representation change at runtime.</p>\n  <p dir=\"auto\">One implementation strategy is to use “erasure”, just as we do with <code class=\"hljs language-actionscript language-ceylon\"><span class=\"hljs-keyword\">dynamic</span></code> vs <code class=\"hljs language-ceylon language-cs\"><span class=\"hljs-keyword\">object</span></code>, with tuple names and with nullability annotations. Here, in the IL we generate, we really do use the same type (the underlying type in this case) and then use other metadata (attributes etc.) to communicate the extra information about which language-level \"embodiment\" of the type is meant here. In this way, at runtime, the value doesn’t change its type at all and the identity conversion is trivially “free”. Even for constructed types, e.g. arrays, the conversion is free because the underlying type is the same:</p>\n  <div><pre><span>DataObject</span>[] <span>dos</span> <span>=</span> <span>new</span> <span>Customer</span>[<span>10</span>]; <span><span>//</span> Erasure: Customer[] is really DataObject[]</span></pre></div>\n  <p dir=\"auto\">Of course the added members still need to be encoded somewhere; it is likely that we would generate some form of type declaration under the hood to hold them.</p>\n  <p dir=\"auto\">Unfortunately, and erasure strategy will come up short for the scenario of roles and extensions implementing interfaces. Consider this generic data structure:</p>\n  <div><pre><span>class</span> <span>Rolodex</span>&lt;<span>T</span>&gt; : <span>IEnumerable</span>&lt;<span>T</span>&gt; <span>where</span> <span>T</span>: <span>IPerson</span>\n  {\n      <span>Dictionary</span>&lt;<span>string</span>, <span>T</span>&gt; <span>people</span> <span>=</span> <span>new</span> ();\n      <span>void</span> <span>Add</span>(<span>T</span> <span>person</span>) <span>=&gt;</span> <span>people</span>.<span>Add</span>(<span>person</span>.<span>FullName</span>, <span>person</span>);\n      <span>T</span> <span>Find</span>(<span>string</span> <span>name</span>) <span>=&gt;</span> <span>people</span>[<span>name</span>];\n  \n      <span>public</span> <span>IEnumerator</span>&lt;<span>T</span>&gt; <span>GetEnumerator</span>() <span>=&gt;</span> <span>people</span>.<span>Values</span>.<span>GetEnumerator</span>();\n      IEnumerator IEnumerable.<span>GetEnumerator</span>() <span>=&gt;</span> <span>GetEnumerator</span>();\n  }</pre></div>\n  <p dir=\"auto\">Assuming <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Customer</span></code> implements <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">IPerson</span></code>, we should be able to create a <code class=\"hljs language-xml language-bnf\">Rolodex<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Customer</span>&gt;</span></code>:</p>\n  <div><pre><span>var</span> <span>rolodex</span> <span>=</span> <span>new</span> <span>Rolodex</span>&lt;<span>Customer</span>&gt;();</pre></div>\n  <p dir=\"auto\">We can’t just “really” pass <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">DataObject</span></code> as the type argument because it doesn’t satisfy the constraint. There needs to be a real <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Customer</span></code> type at runtime so that the constraint can be satisfied and the call to <code class=\"hljs language-css language-inform7\"><span class=\"hljs-selector-tag\">person</span><span class=\"hljs-selector-class\">.FullName</span></code> in the body of the class can be resolved. Values of the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Customer</span></code> type must have identical runtime representation to their underlying <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">DataObject</span></code>, and the runtime must be able to understand that it can freely convert between them as a no-op, using the same bits. Essentially it needs to be like a wrapper struct: The bits are the same, the type is different.</p>\n  <p dir=\"auto\">Furthermore, the returned <code class=\"hljs language-xml language-bnf\">Rolodex<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Customer</span>&gt;</span></code> implements <code class=\"hljs language-xml language-bnf\">IEnumerable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Customer</span>&gt;</span></code> and <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">DataObject</span></code> is identity convertible to <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Customer</span></code>. So <code class=\"hljs language-xml language-bnf\">Rolodex<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Customer</span>&gt;</span></code> must be implicitly reference-convertible to <code class=\"hljs language-xml language-bnf\">IEnumerable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Customer</span>&gt;</span></code>! The runtime needs to understand and allow this conversion:</p>\n  <div><pre><span>IEnumerable</span>&lt;<span>DataObject</span>&gt; <span>dataObjects</span> <span>=</span> <span>new</span> <span>Rolodex</span>&lt;<span>Customer</span>&gt;();</pre></div>\n  <p dir=\"auto\">In short, there are things the runtime will need to understand about roles if we embrace their ability to implement interfaces.</p>\n  <h2 dir=\"auto\">More examples</h2>\n  <h2 dir=\"auto\">Implementing <code class=\"hljs language-xml language-bnf\">IEnumerable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">T</span>&gt;</span></code> with an extension</h2>\n  <p dir=\"auto\">Say we want to view a <code class=\"hljs language-cs language-d\"><span class=\"hljs-keyword\">ulong</span></code> as an <code class=\"hljs language-arduino language-xml\">IEnumerable&lt;<span class=\"hljs-keyword\">byte</span>&gt;</code>. We can do that with an extension implementing that interface:</p>\n  <div><pre><span>public</span> <span>extension</span> <span>ULongEnumerable</span> : <span>ulong</span>, <span>IEnumerable</span><span>&lt;</span><span>byte</span><span>&gt;</span>\n  {\n      <span>public</span> <span>IEnumerator</span>&lt;<span>byte</span>&gt; <span>GetEnumerator</span>()\n      {\n          <span>for</span> (<span>int</span> <span>i</span> <span>=</span> <span>sizeof</span>(<span>ulong</span>); <span>i</span> <span>&gt;</span> <span>0</span>; <span>i</span><span>--</span>)\n          {\n              <span>yield</span> <span>return</span> <span>unchecked</span>((<span>byte</span>)(<span>this</span> <span>&gt;&gt;</span> (<span>i</span><span>-</span><span>1</span>)<span>*</span><span>8</span>));\n          }\n      }\n      <span>IEnumerator</span> <span>IEnumerable</span>.<span>GetEnumerator</span>() <span>=</span><span>&gt;</span> <span>GetEnumerator</span>();\n  }</pre></div>\n  <p dir=\"auto\">Now, wherever the extension is brought in you can iterate over the bytes in a ulong:</p>\n  <div><pre><span>foreach</span> (<span>byte</span> <span>b</span> <span>in</span> <span>0x_3A_9E_F1_C5_DA_F7_30_16ul</span>)\n  {\n      <span>WriteLine</span>(<span><span>$\"</span>{<span>e</span>.<span>Current</span>:<span>X</span>}<span>\"</span></span>);\n  }</pre></div>\n  <p dir=\"auto\">You can also use its boxing conversion to <code class=\"hljs language-arduino language-xml\">IEnumerable&lt;<span class=\"hljs-keyword\">byte</span>&gt;</code> to access LINQ functionality:</p>\n  <div><pre><span>const</span> <span>ulong</span> <span>ul</span> <span>=</span> <span>0x_3A_9E_F1_C5_DA_F7_30_16ul</span>;\n  <span>var</span> <span>q1</span> <span>=</span> <span>Enumerable</span>.<span>Where</span>(<span>ul</span>, <span>b</span> <span>=&gt;</span> <span>b</span> <span>&gt;=</span> <span>128</span>);  <span><span>//</span> method argument</span>\n  <span>var</span> <span>q2</span> <span>=</span> <span>ul</span>.<span>Where</span>(<span>b</span> <span>=&gt;</span> <span>b</span> <span>&gt;=</span> <span>128</span>);              <span><span>//</span> extension method receiver</span>\n  <span>var</span> <span>q3</span> <span>=</span> <span>from</span> <span>b</span> <span>in</span> <span>ul</span> <span>where</span> <span>b</span> <span>&gt;=</span> <span>128</span> <span>select</span> <span>b</span>; <span><span>//</span> query expression</span>\n  <span><span>//</span> etc.</span></pre></div>\n  <h2 dir=\"auto\">Implementing <code class=\"hljs language-xml language-bnf\">IComparable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">T</span>&gt;</span></code></h2>\n  <p dir=\"auto\"><code class=\"hljs language-xml language-bnf\">IComparable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">T</span>&gt;</span></code> is most commonly used as a constraint on generic types or methods that need to compare several values of the same type.</p>\n  <p dir=\"auto\">With extension interfaces we can make types <code class=\"hljs language-xml language-bnf\">IComparable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">T</span>&gt;</span></code> that wouldn't normally be. For instance, if we have an enum</p>\n  <div><pre><span>public</span> <span>enum</span> <span>Level</span> { <span>Low</span>, <span>Middle</span>, <span>High</span> }</pre></div>\n  <p dir=\"auto\">We can make it comparable with the extension declaration:</p>\n  <div><pre><span>public</span> <span>extension</span> <span>LevelCompare</span> <span>of</span> <span>Level</span> : <span>IComparable</span><span>&lt;</span><span>Level</span><span>&gt;</span>\n  {\n      <span>public</span> <span>int</span> <span>CompareTo</span>(<span>Level</span> <span>other</span>) <span>=&gt;</span> (<span>int</span>)<span>this</span> <span>-</span> (<span>int</span>)<span>other</span>;\n  }</pre></div>\n  <p dir=\"auto\">We can also extend only certain instantiations of generic types with an interface implementation. For instance, let's make all <code class=\"hljs language-xml language-bnf\">IEnumerable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">T</span>&gt;</span></code>s comparable with lexical ordering, <em>as long as</em> their elements are comparable:</p>\n  <div><pre><span>public</span> <span>extension</span> <span>EnumerableCompare</span><span>&lt;</span><span>T</span><span>&gt;</span> : <span>IEnumerable</span><span>&lt;</span><span>T</span><span>&gt;</span>, <span>IComparable</span><span>&lt;</span><span>IEnumerable</span><span>&lt;</span><span>T</span><span>&gt;&gt;</span> <span>where</span> <span>T</span> : <span>IComparable</span><span>&lt;</span><span>T</span><span>&gt;</span>\n  {\n      <span>public</span> <span>int</span> <span>CompareTo</span>(<span>IEnumerable</span>&lt;<span>T</span>&gt; <span>other</span>)\n      {\n          <span>using</span> <span>var</span> <span>le</span> <span>=</span> <span>this</span>.<span>GetEnumerator</span>();\n          <span>using</span> <span>var</span> <span>re</span> <span>=</span> <span>other</span>.<span>GetEnumerator</span>();\n          <span>while</span> (<span>true</span>)\n          {\n              <span>switch</span> (<span>le</span>.<span>MoveNext</span>(), <span>re</span>.<span>MoveNext</span>())\n              {\n                  <span>case</span> (<span>false</span>, <span>false</span>): <span>return</span> <span>0</span>;\n                  <span>case</span> (<span>false</span>, <span>true</span>): <span>return</span> <span>-</span><span>1</span>;\n                  <span>case</span> (<span>true</span>, <span>false</span>): <span>return</span> <span>1</span>;\n              }\n              <span>var</span> <span>c</span> <span>=</span> (<span>le</span>.<span>Current</span>, <span>re</span>.<span>Current</span>) <span>switch</span>\n              {\n                  (<span>null</span>, <span>null</span>) <span>=&gt;</span> <span>0</span>,\n                  (<span>null</span>, <span>_</span>) <span>=&gt;</span> <span>-</span><span>1</span>,\n                  (<span>_</span>, <span>null</span>) <span>=&gt;</span> <span>1</span>,\n                  <span>var</span> (<span>l</span>, <span>r</span>) <span>=&gt;</span> <span>l</span>.<span>CompareTo</span>(<span>r</span>)\n              };\n              <span>if</span> (<span>c</span> <span>!=</span> <span>0</span>) <span>return</span> <span>c</span>;\n          }\n      }</pre></div>\n  <p dir=\"auto\">Now we can use an <code class=\"hljs language-xml language-bnf\">IEnumerable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">T</span>&gt;</span></code> as an <code class=\"hljs language-bnf language-django\">IComparable<span class=\"hljs-attribute\">&lt;IEnumerable&lt;T&gt;</span>&gt;</code> wherever this extension is in force, but only as long as the given <code class=\"hljs language-ebnf language-excel\"><span class=\"hljs-attribute\">T</span></code> is an <code class=\"hljs language-xml language-bnf\">IComparable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">T</span>&gt;</span></code> itself. For instance, an <code class=\"hljs language-angelscript language-applescript\">IEnumerable&lt;<span class=\"hljs-built_in\">string</span>&gt;</code> would be comparable to other <code class=\"hljs language-angelscript language-applescript\">IEnumerable&lt;<span class=\"hljs-built_in\">string</span>&gt;</code>s because <code class=\"hljs language-angelscript language-applescript\"><span class=\"hljs-built_in\">string</span></code> is comparable, whereas an <code class=\"hljs language-xml language-bnf\">IEnumerable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">object</span>&gt;</span></code> would not, because <code class=\"hljs language-ceylon language-cs\"><span class=\"hljs-keyword\">object</span></code> is not.</p>\n  <p dir=\"auto\">So with these two extensions in force, we can now compare two arrays of <code class=\"hljs language-ebnf language-mathematica\"><span class=\"hljs-attribute\">Level</span></code>s:</p>\n  <div><pre><span>using</span> <span>static</span> <span>Level</span>;\n  <span>Level</span>[] <span>a1</span> <span>=</span> { <span>High</span>, <span>Low</span>, <span>High</span> };\n  <span>Level</span>[] <span>a2</span> <span>=</span> { <span>High</span>, <span>Medium</span> };\n  <span>WriteLine</span>(<span>a1</span>.<span>CompareTo</span>(<span>a2</span>));</pre></div>\n  <p dir=\"auto\">Because of the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">LevelCompare</span></code> extension on <code class=\"hljs language-ebnf language-mathematica\"><span class=\"hljs-attribute\">Level</span></code> it satisfies the constraint on the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">EnumerableCompare</span></code> extension on <code class=\"hljs language-xml language-bnf\">IEnumerable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Level</span>&gt;</span></code>, which therefore in turns makes the <code class=\"hljs language-css language-inform7\"><span class=\"hljs-selector-tag\">Level</span><span class=\"hljs-selector-attr\">[]</span></code>s comparable!</p>\n  <h2 dir=\"auto\">Conclusion</h2>\n  <p dir=\"auto\">Roles and extensions support proper separation of concerns, lightweight typing and adaptation, reducing dependencies and the costs of wrapping and conversion. There's a good amount of design work left to do, and in their full generality they are probably a fairly big feature to implement, requiring the participation of the runtime.</p>\n  <h2 dir=\"auto\">LDM Meetings</h2>\n  <p dir=\"auto\"><a href=\"https://github.com/dotnet/csharplang/blob/main/meetings/2021/LDM-2021-12-01.md#roles-and-extensions\">https://github.com/dotnet/csharplang/blob/main/meetings/2021/LDM-2021-12-01.md#roles-and-extensions</a></p>\n        </div>\n  \n  \n  \n            \n        </div></div>",
    "labels": "csharp"
  },
  {
    "description": "In this post, we'll build a one-line WebAssembly microservice with Swift. From there, we will dive...",
    "title": "A One Line Microservice with Spin",
    "content": "<div class=\"page\" id=\"readability-page-1\"><article data-pinned-article-id=\"11\" data-pin-path=\"/stories/feed/pinned_article\" data-published=\"true\" data-path=\"/fermyon/a-one-line-microservice-with-spin-33ke\" data-co-author-ids=\"\" data-author-id=\"8\" data-article-id=\"138\" id=\"article-show-container\">\n          <header id=\"main-title\">\n              <p><img alt=\"Cover image for A One Line Microservice with Spin\" height=\"420\" width=\"1000\" src=\"https://proxy-prod.omnivore-image-cache.app/1000x420,sSxm-fuM6w9HNr8nJzerhO_WszjfljbvvxXivCpL-fyI/https://www.wasm.builders/images/udTYY3ulgnMUTLjNEuzBKK3jIH14hPynXql-9h4fBHg/s:1000:420/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy9mbnh5/NWh3Yjk2OGlpOW01/bjljdi5wbmc\">\n              </p>\n  \n            \n          </header>\n  \n          <div id=\"article-body\" data-article-id=\"138\">\n              <p>In this post, we'll build a one-line WebAssembly microservice with Swift. From there, we will dive into Wagi, the specification for writing simple Wasm cloud apps. Finally, we will run the code with <a href=\"https://spin.fermyon.dev/\">Spin</a>, a framework for running WebAssembly microservices.</p>\n  \n  <h2>\n    <a href=\"#setting-up\" name=\"setting-up\">\n    </a>\n    Setting Up\n  </h2>\n  \n  <p>Swift is a programming language developed by Apple. The community-driven <a href=\"https://swiftwasm.org/\">SwiftWasm project</a> adds a Wasm compiler to Swift, complete with WASI support. Before running the code here, you will need to <a href=\"https://book.swiftwasm.org/getting-started/setup.html\">install and configure SwiftWasm</a>.</p>\n  \n  <p>Not a Swift fan? No big deal! There is nothing particularly special about Swift in today's post. You can just as easily use a number of other languages. There are similar examples for <a href=\"https://www.fermyon.com/wasm-languages/python\">Python</a>, <a href=\"https://www.fermyon.com/wasm-languages/c-sharp\">C#</a>, <a href=\"https://www.fermyon.com/wasm-languages/c-lang\">C</a>, <a href=\"https://www.fermyon.com/wasm-languages/go-lang\">Go</a>, <a href=\"https://www.fermyon.com/wasm-languages/assemblyscript\">AssemblyScript</a>, and <a href=\"https://www.fermyon.com/wasm-languages/zig\">Zig</a>. Or you can check out the examples in the official <a href=\"https://spin.fermyon.dev/\">Spin documentation</a>. And if you'd like more sophisticated examples of Rust, Go, and AssemblyScript, the <a href=\"https://github.com/fermyon/spin-kitchensink\">Spin KitchenSink demos</a> have you covered. Finally, the code in this tutorial is based on <a href=\"https://github.com/fermyon/wasm-languages/blob/main/swift.md\">this example</a>.</p>\n  \n  <h2>\n    <a href=\"#a-swift-oneliner\" name=\"a-swift-oneliner\">\n    </a>\n    A Swift Oneliner\n  </h2>\n  \n  <p>For this example, we'll stick with Swift because it is so concise (the Go version would, for example, require us to write four lines of code). Let's create a file named <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">hello</span><span class=\"hljs-selector-class\">.swift</span></code> and add a single line of code.<br>\n  </p>\n  \n  <div>\n  <pre><code class=\"hljs language-lsl language-stylus\">print(<span class=\"hljs-string\">\"content-type: text/plain<span class=\"hljs-subst\">\n</span><span class=\"hljs-subst\">\n</span>Hello, World!<span class=\"hljs-subst\">\n</span>\"</span>)\n  </code></pre>\n  \n  </div>\n  \n  \n  \n  <p>The above is just a <code class=\"hljs language-arduino language-bash\"><span class=\"hljs-built_in\">print</span></code> statement. Nothing fancy. It should print out some text, then a couple of line breaks, then another line of text.</p>\n  \n  <p>We can compile it using the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">swiftc</span></code> compiler:<br>\n  </p>\n  \n  <div>\n  <pre><code class=\"hljs language-armasm language-mipsasm\">$ <span class=\"hljs-keyword\">swiftc </span>-target wasm32-unknown-wasi hello.<span class=\"hljs-keyword\">swift </span>-o hello.wasm\n  </code></pre>\n  \n  </div>\n  \n  \n  \n  <p>Once the compilation is complete, we have a file named <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">hello</span><span class=\"hljs-selector-class\">.wasm</span></code> that is the binary version of our simple oneliner.</p>\n  \n  <p>Our compiled <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">hello</span><span class=\"hljs-selector-class\">.wasm</span></code> file will run in any Wasm engine that supports WASI.</p>\n  \n  <p>In a moment, we are going to deploy this as a microservice. But first, we can execute it using a regular command line Wasm runtime and see the result. In this example we use <a href=\"https://wasmtime.dev/\">wasmtime</a>, but there are several others.<br>\n  </p>\n  \n  <div>\n  <pre><code class=\"hljs language-elm language-fsharp\">$ wasmtime hello.wasm\n  <span class=\"hljs-title\">content</span>-<span class=\"hljs-keyword\">type</span>: text/plain\n  \n  <span class=\"hljs-type\">Hello</span>, <span class=\"hljs-type\">World</span>!\n  </code></pre>\n  \n  </div>\n  \n  \n  \n  <p>What we see above is the result of our <code class=\"hljs language-arduino language-bash\"><span class=\"hljs-built_in\">print</span></code>. The last line of the output is easy enough to understand -- it just says \"Hello, World!\" But what's the deal with the first line? And why the empty line? These questions bring us to Wagi.</p>\n  \n  <h2>\n    <a href=\"#wagi-the-nineties-called-and-want-their-web-back\" name=\"wagi-the-nineties-called-and-want-their-web-back\">\n    </a>\n    Wagi: The Nineties Called and Want Their Web Back\n  </h2>\n  \n  <p>In the mid-1990s, the web was new. Most web pages were lovingly hand-crafted HTML. JavaScript was called <a href=\"https://en.wikipedia.org/wiki/JavaScript#History\">LiveScript</a>. CSS hadn't been invented. And web servers were not terribly sophisticated.</p>\n  \n  <p>Static HTML files were fine for regular text content, but developers wanted to build dynamic web pages where the HTML was generated on the fly. And that desire resulted in the creation of the <a href=\"https://www.w3.org/CGI/\">Common Gateway Interface (CGI)</a>.</p>\n  \n  <p>With CGI, the web server received a request, then forwarded it on to a CGI program which then sent back some content. The web server directed that content back to the browser. In essence, the web server merely ran command line programs on behalf of a web browser.</p>\n  \n  <p>The best thing about writing CGI programs is that the developer didn't have to do anything network-related at all! The incoming HTTP request was translated into environment variables and files. And any content that the program wrote to standard output (<code class=\"hljs language-ebnf language-julia\"><span class=\"hljs-attribute\">STDOUT</span></code>) was sent back through the web server and on to the browser.</p>\n  \n  <p>There was just one little caveat: At the bare minimum, a CGI program needed to tell the web server what <em>type of content</em> it was sending back. For example, if it generated an HTML page, it needed to send <code class=\"hljs language-elm language-fsharp\"><span class=\"hljs-title\">content</span>-<span class=\"hljs-keyword\">type</span>: text/html</code> as its first line of output. That line would be intercepted by the web server.</p>\n  \n  <p>Then, to tell the web server that it was going to send the data that was intended for the browser, the CGI program would send a single blank line. After that, everything else was passed from the CGI program through the web server, and back to the web browser.</p>\n  \n  <p>If the Swift language had been around back then, this is what a simple CGI program would look like:<br>\n  </p>\n  \n  <div>\n  <pre><code class=\"hljs language-lsl language-stylus\">print(<span class=\"hljs-string\">\"content-type: text/plain<span class=\"hljs-subst\">\n</span><span class=\"hljs-subst\">\n</span>Hello, World!<span class=\"hljs-subst\">\n</span>\"</span>)\n  </code></pre>\n  \n  </div>\n  \n  \n  \n  <p>And, yes, before you strain your eyes looking, it is in fact the exact same program we wrote above:</p>\n  \n  <ul>\n  <li>It writes a <code class=\"hljs language-elm language-fsharp\"><span class=\"hljs-title\">content</span>-<span class=\"hljs-keyword\">type</span></code>\n  </li>\n  <li>It sends a blank line to tell the server the headers are done</li>\n  <li>It sends back text to be displayed by the web browser</li>\n  </ul>\n  \n  <p>Wagi (WebAssembly Gateway Interface) is a <a href=\"https://github.com/deislabs/wagi/blob/main/docs/architecture.md\">description</a> of how to write WebAssembly modules that work like CGI.</p>\n  \n  <p>Wagi functions the same as CGI:</p>\n  \n  <ul>\n  <li>HTTP headers are put into environment variables</li>\n  <li>Other information about the web server and the client is put into <a href=\"https://github.com/deislabs/wagi/blob/main/docs/environment_variables.md\">predefined environment variables</a>\n  </li>\n  <li>The query parameters (the part of the URL that looks like <code class=\"hljs language-gcode language-powershell\">?para<span class=\"hljs-name\">m1</span>=val<span class=\"hljs-number\">1</span>&amp;para<span class=\"hljs-name\">m2</span>=val<span class=\"hljs-number\">2</span></code>) are put into the <code class=\"hljs language-ebnf language-maxima\"><span class=\"hljs-attribute\">args</span></code> array</li>\n  <li>If the browser sent body content (like a form submission), that data is sent into the program's standard input (<code class=\"hljs language-ebnf language-julia\"><span class=\"hljs-attribute\">STDIN</span></code>)</li>\n  <li>Anything written to <code class=\"hljs language-ebnf language-julia\"><span class=\"hljs-attribute\">STDOUT</span></code> (like a <code class=\"hljs language-arduino language-bash\"><span class=\"hljs-built_in\">print</span></code> statement) is sent back to the server, and on to the web browser</li>\n  </ul>\n  \n  <p>In fact, the only real difference between Wagi and CGI is that Wagi requires that the code be compiled into WebAssembly with WASI (often described as <code class=\"hljs language-maxima language-pgsql\">wasm32-<span class=\"hljs-literal\">unknown</span>-wasi</code>).</p>\n  \n  <p>Now that we understand what we wrote, let's run it as a microservice.</p>\n  \n  <h2>\n    <a href=\"#spin-running-a-wagi-application\" name=\"spin-running-a-wagi-application\">\n    </a>\n    Spin: Running a Wagi Application\n  </h2>\n  \n  <p>Spin is a <a href=\"https://www.fermyon.com/blog/introducing-spin\">framework for WebAssembly applications</a> such as microservices and web applications.</p>\n  \n  <p>With Spin, you can do a lot of things, like attach an application to a Redis channel so that it runs every time a new message is sent. But for us, its most important feature is its Wagi compatibility.</p>\n  \n  <p>For this part, you will need to <a href=\"https://spin.fermyon.dev/quickstart/\">install Spin</a>.</p>\n  \n  <blockquote>\n  <p>There are other Wagi-capable runtimes, including the <a href=\"https://github.com/deislabs/wagi\">Wagi project</a> (which we wrote before Spin) and <a href=\"https://github.com/deislabs/wagi-dotnet\">Wagi.Net</a>, a version of Wagi that runs inside of a .NET application.</p>\n  </blockquote>\n  \n  <p>Before we can run our app in Spin, we need to describe the app to Spin. And to do that, we need to write a simple <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">spin</span><span class=\"hljs-selector-class\">.toml</span></code> file:<br>\n  </p>\n  \n  <div>\n  <pre><code class=\"hljs language-routeros language-ini\">spin_version = <span class=\"hljs-string\">\"1\"</span>\n  name = <span class=\"hljs-string\">\"spin-hello\"</span>\n  trigger = {<span class=\"hljs-built_in\"> type </span>= <span class=\"hljs-string\">\"http\"</span>, base = <span class=\"hljs-string\">\"/\"</span> }\n  version = <span class=\"hljs-string\">\"1.0.0\"</span>\n  \n  [[component]]\n  id = <span class=\"hljs-string\">\"hello\"</span>\n  source = <span class=\"hljs-string\">\"hello.wasm\"</span>\n  [component.trigger]<span class=\"hljs-built_in\">\n  route </span>= <span class=\"hljs-string\">\"/\"</span>\n  executor = {<span class=\"hljs-built_in\"> type </span>= <span class=\"hljs-string\">\"wagi\"</span> }\n  </code></pre>\n  \n  </div>\n  \n  \n  \n  <p>A <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">spin</span><span class=\"hljs-selector-class\">.toml</span></code> describes an application. And in Spin, an application is built out of one or more <code class=\"hljs language-ebnf language-maxima\"><span class=\"hljs-attribute\">components</span></code>. For our purposes a component is a microservice--a small piece of code that does one single task.</p>\n  \n  <p>The first part of a <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">spin</span><span class=\"hljs-selector-class\">.toml</span></code> describes the application:<br>\n  </p>\n  \n  <div>\n  <pre><code class=\"hljs language-routeros language-ini\">spin_version = <span class=\"hljs-string\">\"1\"</span>\n  name = <span class=\"hljs-string\">\"spin-hello\"</span>\n  trigger = {<span class=\"hljs-built_in\"> type </span>= <span class=\"hljs-string\">\"http\"</span>, base = <span class=\"hljs-string\">\"/\"</span> }\n  version = <span class=\"hljs-string\">\"1.0.0\"</span>\n  </code></pre>\n  \n  </div>\n  \n  \n  \n  <p>For the most part, you only need to worry about <code class=\"hljs language-applescript language-delphi\"><span class=\"hljs-built_in\">name</span></code> and <code class=\"hljs language-applescript language-crmsh\"><span class=\"hljs-built_in\">version</span></code>. Those are the name and <a href=\"https://semver.org/\">version</a> of your app. <code class=\"hljs language-jboss-cli\">spin_<span class=\"hljs-keyword\">version</span></code> is always <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">1</span></code>. And the <code class=\"hljs language-ebnf language-pgsql\"><span class=\"hljs-attribute\">trigger</span></code> describes what sort of thing Spin is listening for. (In a Redis application, the trigger describes <a href=\"https://spin.fermyon.dev/redis-trigger/\">how Spin should listen to Redis</a>.)</p>\n  \n  <p>After the top section, every <code class=\"hljs language-lua language-json\"><span class=\"hljs-string\">[[component]]</span></code> section describes another microservice. We only have one, though we could declare multiple microservices using multiple <code class=\"hljs language-lua language-json\"><span class=\"hljs-string\">[[component]]</span></code> sections.<br>\n  </p>\n  \n  <div>\n  <pre><code class=\"hljs language-routeros language-ini\">[[component]]\n  id = <span class=\"hljs-string\">\"hello\"</span>\n  source = <span class=\"hljs-string\">\"hello.wasm\"</span>\n  [component.trigger]<span class=\"hljs-built_in\">\n  route </span>= <span class=\"hljs-string\">\"/\"</span>\n  executor = {<span class=\"hljs-built_in\"> type </span>= <span class=\"hljs-string\">\"wagi\"</span> }\n  </code></pre>\n  \n  </div>\n  \n  \n  \n  <p>The <code class=\"hljs language-applescript language-ebnf\"><span class=\"hljs-built_in\">id</span></code> is just a unique ID within the <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">spin</span><span class=\"hljs-selector-class\">.toml</span></code> file. The <code class=\"hljs language-bash language-ebnf\"><span class=\"hljs-built_in\">source</span></code> must point to the Wasm module we compiled. Then the <code class=\"hljs language-ebnf language-pgsql\"><span class=\"hljs-attribute\">trigger</span></code> tells Spin two things:</p>\n  \n  <ul>\n  <li>What path (<code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">route</span></code>) the app is mounted to. In this case, <code class=\"hljs language-undefined\">/</code> means the root. so when we start our server, <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">hello</span><span class=\"hljs-selector-class\">.wasm</span></code> will be available at <code class=\"hljs language-dts language-groovy\"><span class=\"hljs-symbol\">http:</span><span class=\"hljs-comment\">//localhost:3000/</span></code>. If we made this <code class=\"hljs language-jboss-cli\"><span class=\"hljs-string\">/hello</span></code> then the app would be available at <code class=\"hljs language-dts language-groovy\"><span class=\"hljs-symbol\">http:</span><span class=\"hljs-comment\">//localhost:3000/hello</span></code>\n  </li>\n  <li>What executor to use. For us, we use <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">wagi</span></code>. (There are other executors that you can <a href=\"https://spin.fermyon.dev/rust-components/\">read about</a>)</li>\n  </ul>\n  \n  <p>That's about it. At this point, our project directory looks like this:<br>\n  </p>\n  \n  <div>\n  <pre><code class=\"hljs language-stylus language-armasm\">$ tree           \n  .\n  ├── hello<span class=\"hljs-selector-class\">.swift</span>\n  ├── hello<span class=\"hljs-selector-class\">.wasm</span>\n  └── spin<span class=\"hljs-selector-class\">.toml</span>\n  </code></pre>\n  \n  </div>\n  \n  \n  \n  <p>Inside that directory, we just run <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">spin up</span></code> and it will start a web server for us:<br>\n  </p>\n  \n  <div>\n  <pre><code class=\"hljs language-cs language-dart\">$ spin up\n  Serving HTTP <span class=\"hljs-keyword\">on</span> address http:<span class=\"hljs-comment\">//127.0.0.1:3000</span>\n  </code></pre>\n  \n  </div>\n  \n  \n  \n  <p>(At any time you can quit <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">spin</span></code> with <code class=\"hljs language-ebnf language-objectivec\"><span class=\"hljs-attribute\">CTRL-C</span></code>.)</p>\n  \n  <p>With Spin running, we can use a web browser to see the result. Here, we use <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">curl</span></code>:<br>\n  </p>\n  \n  <div>\n  <pre><code class=\"hljs language-angelscript language-autohotkey\">$ curl localhost:<span class=\"hljs-number\">3000</span>\n  \n  Hello, World!\n  </code></pre>\n  \n  </div>\n  \n  \n  \n  <p>And that's it! We have written one line of Swift code and turned it into a very tiny web microservice.</p>\n  \n  <h2>\n    <a href=\"#conclusion\" name=\"conclusion\">\n    </a>\n    Conclusion\n  </h2>\n  \n  <p>This article began with a short Swift program. From there, we looked at Wagi--an updated version of CGI. And then we concluded by running our Swift program inside of Spin.</p>\n  \n  <p>This is just the start, though. There is much more you can do with Spin and WebAssembly.</p>\n  \n  <ul>\n  <li>If Go is more your thing, Fermyon has a blog post on <a href=\"https://www.fermyon.com/blog/tinygo-webassembly-favicon-server\">writing a Favicon server in Go</a> and running it in Spin. (Also posted <a href=\"https://www.wasm.builders/jdbohrman/writing-a-webassembly-service-in-tinygo-for-wagi-1e62\">here at Wasm.Builders</a>)</li>\n  <li>And we've also got a post on <a href=\"https://www.fermyon.com/blog/python-wagi\">writing Wagi apps in Python</a>\n  </li>\n  <li>\n  <a href=\"https://github.com/fermyon/bartholomew\">Bartholomew</a> is a Content Management System (CMS) that compiles to WebAssembly. We run <a href=\"https://www.fermyon.com/\">Fermyon.com</a> on Bartholomew.</li>\n  <li>The <a href=\"https://spin.fermyon.dev/\">Spin documentation</a> goes into much more detail about Spin apps, and you can see some sample code in the <a href=\"https://github.com/fermyon/spin-kitchensink\">Spin Kitchen Sink</a>\n  </li>\n  <li>Fermyon is tracking the progress of WebAssembly support in popular languages. Check to see if <a href=\"https://www.fermyon.com/wasm-languages/webassembly-language-support\">your favorite language supports Wasm</a>\n  </li>\n  </ul>\n  \n  \n            </div>\n            \n    \n  \n  \n  \n        </article></div>",
    "labels": "wasm"
  },
  {
    "description": "In the previous post, we saw that with nullable reference types enabled, you get better static flow analysis when working on your code.While nullable reference types don’t give you runtime safety, the design-time and compile-time help is priceless!",
    "title": "Maarten Balliauw {blog}",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div role=\"main\" id=\"main\"><article class=\"page\"><div><div data-ea-type=\"text\" data-ea-publisher=\"blog-maartenballiauw-be\"><p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s45MXASvEyjhYLHnChHqUX3zJ65KeeHJd75VYPwXamsk/https://server.ethicalads.io/proxy/view/2627/3af908f7-4343-4f7a-a4f9-4c797dcfdaa2/\"></p></div><header><h2>Internals of C# nullable reference types - Migrating to nullable reference types - Part 2</h2> <small> <a href=\"https://github.com/maartenba/maartenba.github.io/edit/master/_posts/2022-04-19-internals-of-csharp-nullable-reference-types-migrating-to-nullable-reference-types-part-2.markdown\"> Edit on GitHub</a> </small></header><section><p>In the <a href=\"https://blog.maartenballiauw.be/post/2022/04/11/nullable-reference-types-in-csharp-migrating-to-nullable-reference-types-part-1.html\">previous post</a>, we saw that with nullable reference types enabled, you get better static flow analysis when working on your code. While nullable reference types don’t give you runtime safety, the design-time and compile-time help is priceless!</p><p>In this post, we’ll look at some internals of how C# nullable reference types work, and how the C# compiler and IDE use the nullable annotation context.</p><p>In this series:</p><ul><li><a href=\"https://blog.maartenballiauw.be/post/2022/04/11/nullable-reference-types-in-csharp-migrating-to-nullable-reference-types-part-1.html\">Nullable reference types in C#</a></li><li><a href=\"https://blog.maartenballiauw.be/post/2022/04/19/internals-of-csharp-nullable-reference-types-migrating-to-nullable-reference-types-part-2.html\">Internals of C# nullable reference types</a> (this post)</li><li>Annotating your C# code (soon!)</li><li>Techniques and tools to update your project (soon!)</li></ul><p>We’ve already seen there is a difference between nullability for value types and reference types.</p><p>Value types are wrapped in a <code class=\"hljs language-xml language-bnf\">Nullable<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">T</span>&gt;</span></code> that gives you a <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.HasValue</span></code> property to determine if you can use the wrapped value, or should consider it as <code class=\"hljs language-yaml language-1c\"><span class=\"hljs-literal\">null</span></code>/no value.</p><p>Reference types are always nullable, and with nullable reference types (NRT) enabled, you can provide extra context to the IDE and the compiler. With NRT enabled, the C# compiler treats reference types as non-nullable by default, and you can add syntax to annotate them as being nullable.</p><p>Consider the following piece of code. Two methods, one returning a nullable integer, the other returning a nullable string.</p><div><pre><code class=\"hljs language-ocaml language-reasonml\"><span class=\"hljs-built_in\">int</span>? <span class=\"hljs-type\">GetInt</span><span class=\"hljs-literal\">()</span> =&gt; <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-built_in\">string</span>? <span class=\"hljs-type\">GetString</span><span class=\"hljs-literal\">()</span> =&gt; <span class=\"hljs-string\">\"\"</span>;\n  </code></pre></div><p>These two methods are compiled into the following Intermediate Language (IL):</p><div><pre><code class=\"hljs language-smali language-routeros\"><span class=\"hljs-keyword\">.method</span><span class=\"hljs-keyword\"> private</span> hidebysig<span class=\"hljs-built_in\"> instance </span>valuetype [System.Runtime]System.Nullable`1&lt;int32&gt;\n    GetInt() cil managed\n  {\n  <span class=\"hljs-keyword\">  .maxstack</span> 8\n  \n    IL_0000: ldc.i4.1\n    IL_0001: newobj   <span class=\"hljs-built_in\"> instance </span>void valuetype [System.Runtime]System.Nullable`1&lt;int32&gt;::.ctor(!0)\n    IL_0006: ret\n  }\n  \n  <span class=\"hljs-keyword\">.method</span><span class=\"hljs-keyword\"> private</span> hidebysig<span class=\"hljs-built_in\"> instance </span>string\n    GetString() cil managed\n  {\n  <span class=\"hljs-keyword\">  .custom</span><span class=\"hljs-built_in\"> instance </span>void System.Runtime.CompilerServices.NullableContextAttribute::.ctor([in] unsigned int8)\n      = (01 00 02 00 00)\n  <span class=\"hljs-keyword\">  .maxstack</span> 8\n  \n    IL_0000: ldstr      <span class=\"hljs-string\">\"\"</span>\n    IL_0005: ret\n  }\n  </code></pre></div><p>Let’s break this down.</p><ul><li><code class=\"hljs language-angelscript language-dart\"><span class=\"hljs-built_in\">int</span>? GetInt() =&gt; <span class=\"hljs-number\">1</span>;</code> is compiled into a <code class=\"hljs language-oxygene language-monkey\"><span class=\"hljs-function\">.<span class=\"hljs-keyword\">method</span></span></code> that returns a value type <code class=\"hljs language-angelscript language-css\">[System.Runtime]System.Nullable`<span class=\"hljs-number\">1</span>&lt;<span class=\"hljs-built_in\">int</span>32&gt;</code>. The method body pushes the value <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">1</span></code> onto the stack, and creates a new <code class=\"hljs language-angelscript language-xml\">System.Nullable`<span class=\"hljs-number\">1</span>&lt;<span class=\"hljs-built_in\">int</span>32&gt;</code> that takes the first element from the stack (the <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">1</span></code> that was just pushed). Finally, this new object is returned.</li><li><code class=\"hljs language-ocaml language-reasonml\"><span class=\"hljs-built_in\">string</span>? <span class=\"hljs-type\">GetString</span><span class=\"hljs-literal\">()</span> =&gt; <span class=\"hljs-string\">\"\"</span>;</code> is compiled into a <code class=\"hljs language-oxygene language-monkey\"><span class=\"hljs-function\">.<span class=\"hljs-keyword\">method</span></span></code> that returns a <code class=\"hljs language-angelscript language-applescript\"><span class=\"hljs-built_in\">string</span></code>. The method body pushes a new object reference to a string literal stored in the assembly metadata (see <a href=\"https://blog.maartenballiauw.be/post/2016/11/15/exploring-memory-allocation-and-strings.html\">this post about string literals</a> for more background), and returns it.</li></ul><p>The difference between value types and reference types is very clear in IL: the method that returns a value type, returns a <code class=\"hljs language-angelscript language-cpp\">Nullable&lt;<span class=\"hljs-built_in\">int</span>&gt;</code>. The method that returns a reference type returns, well, a reference type. There’s no trace of null vs. non-null!</p><p>Or is there… In the IL code, <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">GetString</span><span class=\"hljs-params\">()</span></span></code> defines a <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.custom</span></code> attribute of type <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableContextAttribute</span></code>, passing the value <code class=\"hljs language-angelscript language-lsl\">(<span class=\"hljs-number\">01</span> <span class=\"hljs-number\">00</span> <span class=\"hljs-number\">02</span> <span class=\"hljs-number\">00</span> <span class=\"hljs-number\">00</span>)</code> to the attribute constructor. This is an 8-bit integer value (which exists in IL), and it translates to <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">2</span></code>.</p><h3 id=\"nullablecontextattribute-and-nullableattribute\"><code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableContextAttribute</span></code> and <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableAttribute</span></code></h3><p>The <a href=\"https://github.com/dotnet/roslyn/blob/main/docs/features/nullable-metadata.md#nullablecontextattribute\"><code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableContextAttribute</span></code></a> is used to provide code that consumes this method with some extra metadata, that can then be used by flow analysis.</p><p>The C# compiler can add this attribute on types and methods, and supports 3 values:</p><ul><li><code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">0</span></code> - Oblivious - Use the default, pre-C#8 behaviour (everything is maybe <code class=\"hljs language-yaml language-1c\"><span class=\"hljs-literal\">null</span></code>)</li><li><code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">1</span></code> - Not annotated - Consider the scope as not annotated by default (in other words, every reference type is non-nullable by default)</li><li><code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">2</span></code> - Annotated - Consider the scope as annotated by default (in other words, every reference type has an implicit <code class=\"hljs language-undefined\">?</code> slapped onto it)</li></ul><p>In our previous example, the value of <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">2</span></code> tells the flow analysis that the method return is annotated, in other words, it has a <code class=\"hljs language-undefined\">?</code> annotation.</p><p>Let’s rewrite our <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">GetString</span><span class=\"hljs-params\">()</span></span></code> method to be non-nullable:</p><div><pre><code class=\"hljs language-cpp language-arduino\"><span class=\"hljs-function\"><span class=\"hljs-built_in\">string</span> <span class=\"hljs-title\">GetString</span><span class=\"hljs-params\">()</span> </span>=&gt; <span class=\"hljs-string\">\"\"</span>;\n  </code></pre></div><p>The <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableContextAttribute</span></code> will now be created with a value of <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">1</span></code>:</p><div><pre><code class=\"hljs language-smali language-angelscript\"><span class=\"hljs-keyword\">.custom</span><span class=\"hljs-built_in\"> instance </span>void System.Runtime.CompilerServices.NullableContextAttribute::.ctor([in] unsigned int8)\n    = (01 00 01 00 00 ) // int8(1)\n  </code></pre></div><p>In other words: we have a nullable context enabled, and by default everything in scope is considered to not be annotated (in other words, non-nullable).</p><p>One more? What about two! Here are two new methods to explore. In C#:</p><div><pre><code class=\"hljs language-reasonml language-armasm\"><span class=\"hljs-built_in\">string</span> <span class=\"hljs-constructor\">GetStringA(<span class=\"hljs-params\">string</span>? <span class=\"hljs-params\">a</span>, <span class=\"hljs-params\">string</span> <span class=\"hljs-params\">b</span>, <span class=\"hljs-params\">string</span>? <span class=\"hljs-params\">c</span>)</span> =&gt; <span class=\"hljs-string\">\"\"</span>;\n  <span class=\"hljs-built_in\">string</span>? <span class=\"hljs-constructor\">GetStringB(<span class=\"hljs-params\">string</span>? <span class=\"hljs-params\">a</span>, <span class=\"hljs-params\">string</span> <span class=\"hljs-params\">b</span>, <span class=\"hljs-params\">string</span>? <span class=\"hljs-params\">c</span>)</span> =&gt; <span class=\"hljs-string\">\"\"</span>;\n  </code></pre></div><p>In IL (just the signatures):</p><div><pre><code class=\"hljs language-smali language-angelscript\"><span class=\"hljs-keyword\">.method</span><span class=\"hljs-keyword\"> public</span> hidebysig<span class=\"hljs-built_in\"> instance </span>string\n    GetStringA(string a, string b, string c) cil managed\n  {\n  <span class=\"hljs-keyword\">  .param</span> [1]\n  <span class=\"hljs-keyword\">    .custom</span><span class=\"hljs-built_in\"> instance </span>void System.Runtime.CompilerServices.NullableAttribute::.ctor([in] unsigned int8)\n        = (01 00 02 00 00 ) // int8(2)\n  <span class=\"hljs-keyword\">  .param</span> [3]\n  <span class=\"hljs-keyword\">    .custom</span><span class=\"hljs-built_in\"> instance </span>void System.Runtime.CompilerServices.NullableAttribute::.ctor([in] unsigned int8)\n        = (01 00 02 00 00 ) // int8(2)\n  <span class=\"hljs-keyword\">  .maxstack</span> 8\n  \n    // ...\n  }\n  \n  <span class=\"hljs-keyword\">.method</span><span class=\"hljs-keyword\"> public</span> hidebysig<span class=\"hljs-built_in\"> instance </span>string\n    GetStringB(string a, string b, string c) cil managed\n  {\n  <span class=\"hljs-keyword\">  .custom</span><span class=\"hljs-built_in\"> instance </span>void System.Runtime.CompilerServices.NullableContextAttribute::.ctor([in] unsigned int8)\n      = (01 00 02 00 00 ) // int8(2)\n  <span class=\"hljs-keyword\">  .param</span> [2]\n  <span class=\"hljs-keyword\">    .custom</span><span class=\"hljs-built_in\"> instance </span>void System.Runtime.CompilerServices.NullableAttribute::.ctor([in] unsigned int8)\n        = (01 00 01 00 00 ) // int8(1)\n  <span class=\"hljs-keyword\">  .maxstack</span> 8\n  \n    // ...\n  }\n  </code></pre></div><p>For <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">GetStringA</span><span class=\"hljs-params\">()</span></span></code>, the compiler did not emit <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableContextAttribute</span></code>. Instead, it annotated the method parameters: <code class=\"hljs language-angelscript language-apache\">param [<span class=\"hljs-number\">1</span>]</code> and <code class=\"hljs language-angelscript language-apache\">param [<span class=\"hljs-number\">3</span>]</code> are annotated with <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableAttribute</span></code> and a value of <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">2</span></code>. In other words, both parameters should be treated as being annotated (with a <code class=\"hljs language-undefined\">?</code>). By convention, the presence of a <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableAttribute</span></code> without <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableContextAttribute</span></code> also causes everything else to be treated as not annotated (in other words, non-nullable).</p><p>For <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">GetStringB</span><span class=\"hljs-params\">()</span></span></code>, the compiler emitted two attributes. By default, a <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableContextAttribute</span></code> with value <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">2</span></code> is applied. In other words, every reference type in this method is annotated with a <code class=\"hljs language-undefined\">?</code>. Except for one: <code class=\"hljs language-angelscript language-apache\">param [<span class=\"hljs-number\">2</span>]</code> (<code class=\"hljs language-angelscript language-applescript\"><span class=\"hljs-built_in\">string</span> b</code>) got a <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableAttribute</span></code> that has value <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">1</span></code> (no annotation, so non-nullable).</p><p>That’s some proper compiler magic going on right there! The C# compiler tries to emit as few attributes as possible, so that flow analysis in the IDE or in a consuming assembly does not have to process too much metadata: just a default nullable context, and any exceptions to that default.</p><h2 id=\"nullable-annotation-context\">Nullable annotation context</h2><p>So far, we’ve seen how the nullable context on a type or method changes the Intermediate Language (IL) that is emitted. This nullable context gives consuming code an idea of how to treat nullable reference types.</p><p>The next step is telling flow analysis and the compiler what you want to do with that information, by setting the nullable annotation context. The nullable annotation context has 4 settings, and can be defined project-wide, or for every file separately:</p><ul><li><code class=\"hljs language-bash language-ebnf\"><span class=\"hljs-built_in\">disable</span></code> - makes the compiler behave like it did pre-C# 8.0 (no NRT). You can not use <code class=\"hljs language-undefined\">?</code> on reference types.</li><li><code class=\"hljs language-bash language-ebnf\"><span class=\"hljs-built_in\">enable</span></code> - enables null reference analysis and all language features.</li><li><code class=\"hljs language-ebnf language-maxima\"><span class=\"hljs-attribute\">warnings</span></code> - enables null reference analysis, and shows warnings when code might dereference <code class=\"hljs language-yaml language-1c\"><span class=\"hljs-literal\">null</span></code>.</li><li><code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">annotations</span></code> - enables language features and lets you use <code class=\"hljs language-undefined\">?</code>, but does not enable null reference analysis.</li></ul><h3 id=\"defining-nullable-annotation-context-project-wide\">Defining nullable annotation context project-wide</h3><p>To define the nullable annotation context project-wide, you can use the <code class=\"hljs language-xml language-bnf\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Nullable</span>&gt;</span>...<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Nullable</span>&gt;</span></code> property in your project file (or any MSBuild file that is included). Here’s an example of a project that sets the nullable annotation context to <em>enable</em> for the entire project:</p><div><pre><code class=\"hljs language-xml language-django\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Project</span> <span class=\"hljs-attr\">Sdk</span>=<span class=\"hljs-string\">\"Microsoft.NET.Sdk\"</span>&gt;</span>\n  \n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">PropertyGroup</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">OutputType</span>&gt;</span>Exe<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">OutputType</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">TargetFramework</span>&gt;</span>net6.0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">TargetFramework</span>&gt;</span>\n  \n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Nullable</span>&gt;</span>enable<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Nullable</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">PropertyGroup</span>&gt;</span>\n  \n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Project</span>&gt;</span>\n  </code></pre></div><h3 id=\"defining-nullable-annotation-context-per-file\">Defining nullable annotation context per file</h3><p>You can also define the nullable annotation context in individual files, using the <code class=\"hljs language-vala language-1c\"><span class=\"hljs-meta\">#nullable</span></code> preprocessor directive:</p><ul><li><code class=\"hljs language-shell language-vala\"><span class=\"hljs-meta\">#</span><span class=\"bash\">nullable <span class=\"hljs-built_in\">enable</span></span></code> - enable nullable annotation context and nullable warning context</li><li><code class=\"hljs language-shell language-vala\"><span class=\"hljs-meta\">#</span><span class=\"bash\">nullable <span class=\"hljs-built_in\">disable</span></span></code> - disable nullable annotation context and nullable warning context</li><li><code class=\"hljs language-vala language-1c\"><span class=\"hljs-meta\">#nullable restore</span></code> - set the nullable annotation context and nullable warning context to the project-level setting</li><li><code class=\"hljs language-shell language-vala\"><span class=\"hljs-meta\">#</span><span class=\"bash\">nullable <span class=\"hljs-built_in\">enable</span>/<span class=\"hljs-built_in\">disable</span>/restore warnings</span></code> - enable/disable/restore just the nullable warning context</li><li><code class=\"hljs language-shell language-vala\"><span class=\"hljs-meta\">#</span><span class=\"bash\">nullable <span class=\"hljs-built_in\">enable</span>/<span class=\"hljs-built_in\">disable</span>/restore annotations</span></code> - enable/disable/restore just the nullable annotation context</li></ul><p>It’s also possible to use the <code class=\"hljs language-vala language-1c\"><span class=\"hljs-meta\">#nullable</span></code> directive multiple times per file, and to enable/disable a specific context at various places in the same file. This may be useful when migrating large files to using nullable reference types, as you can split bits that you have already migrated from those you haven’t yet.</p><div><pre><code class=\"hljs language-crystal language-pgsql\"><span class=\"hljs-comment\">#nullable disable</span>\n  \n  <span class=\"hljs-regexp\">//</span> <span class=\"hljs-symbol\">Warning:</span> CS8632 - The <span class=\"hljs-keyword\">annotation</span> <span class=\"hljs-title\">for</span> <span class=\"hljs-title\">nullable</span> <span class=\"hljs-title\">reference</span> <span class=\"hljs-title\">types</span> <span class=\"hljs-title\">should</span> <span class=\"hljs-title\">only</span> <span class=\"hljs-title\">be</span> <span class=\"hljs-title\">used</span> <span class=\"hljs-title\">in</span> <span class=\"hljs-title\">code</span> <span class=\"hljs-title\">within</span> <span class=\"hljs-title\">a</span> '<span class=\"hljs-comment\">#nullable' annotations context.</span>\n  string? SomeMethod() =&gt; <span class=\"hljs-string\">\"\"</span>;\n  \n  <span class=\"hljs-comment\">#nullable enable</span>\n  \n  <span class=\"hljs-regexp\">//</span> No warning - ? is allowed because nullable context is enabled\n  string? SomeOtherMethod() =&gt; <span class=\"hljs-string\">\"\"</span>;\n  </code></pre></div><h3 id=\"which-nullable-annotation-context-should-you-use\">Which nullable annotation context should you use?</h3><p>Good question! As always, <em>“it depends”</em>.</p><p>For new projects, it’s a good idea to fully enable the nullable annotation context at the project level. This way, you get the benefits of better static flow analysis from the first line of code you start writing.</p><p>For existing projects and code bases, you’ll have to start with deciding what the default setting for your project will be. The end goal of migrating to nullable reference types, is to be able to have nullable warnings and annotations enabled in all projects. But that may not be the best default to start your migration with. Let’s look at some options.</p><h4 id=\"disable-as-the-default\"><code class=\"hljs language-bash language-ebnf\"><span class=\"hljs-built_in\">disable</span></code> as the default</h4><p>One way to start migration, is by setting <code class=\"hljs language-bash language-ebnf\"><span class=\"hljs-built_in\">disable</span></code> as the default (or not adding <code class=\"hljs language-apache language-xml\"><span class=\"hljs-section\">&lt;Nullable /&gt;</span></code> to your project file at all). Doing so gives you the opportunity to go through your project and add <code class=\"hljs language-shell language-vala\"><span class=\"hljs-meta\">#</span><span class=\"bash\">nullable <span class=\"hljs-built_in\">enable</span></span></code> file by file, without drowning in warnings. When your entire project uses nullable reference types, you can switch to <code class=\"hljs language-bash language-ebnf\"><span class=\"hljs-built_in\">enable</span></code>.</p><h4 id=\"enable-as-the-default\"><code class=\"hljs language-bash language-ebnf\"><span class=\"hljs-built_in\">enable</span></code> as the default</h4><p>Another way to start migration, is to go all-in and set <code class=\"hljs language-bash language-ebnf\"><span class=\"hljs-built_in\">enable</span></code> as the project default - this is the end goal so why not set it from the start? This option may (and most probably will) give you lots of warnings to work through. You’ll have to either add nullable annotations, add the null-suppressing operator to some statements, or add <code class=\"hljs language-shell language-vala\"><span class=\"hljs-meta\">#</span><span class=\"bash\">nullable <span class=\"hljs-built_in\">disable</span></span></code> for some files as you work your way through the code base.</p><h4 id=\"warnings-as-the-default\"><code class=\"hljs language-ebnf language-maxima\"><span class=\"hljs-attribute\">warnings</span></code> as the default</h4><p>With <code class=\"hljs language-ebnf language-maxima\"><span class=\"hljs-attribute\">warnings</span></code> as the project default, null reference analysis is enabled and warnings are shown when your code might dereference <code class=\"hljs language-yaml language-1c\"><span class=\"hljs-literal\">null</span></code>. You’ll see warnings where the compiler’s flow analysis infers potential <code class=\"hljs language-yaml language-1c\"><span class=\"hljs-literal\">null</span></code> references, and you can account for this. Either by adding <code class=\"hljs language-yaml language-1c\"><span class=\"hljs-literal\">null</span></code> checks, or by adding <code class=\"hljs language-shell language-vala\"><span class=\"hljs-meta\">#</span><span class=\"bash\">nullable <span class=\"hljs-built_in\">enable</span></span></code> to a file (or a section of a file) and applying <code class=\"hljs language-undefined\">?</code>.</p><p>The <code class=\"hljs language-ebnf language-maxima\"><span class=\"hljs-attribute\">warnings</span></code> context is a good way to start exploring an existing codebase and improve <code class=\"hljs language-yaml language-1c\"><span class=\"hljs-literal\">null</span></code> checks. It will make your project safer in terms of nullability, but unless you change the nullable annotation context, you’ll get no benefit of additional annotations in your code base.</p><blockquote><p><strong>Tip:</strong> The <code class=\"hljs language-ebnf language-maxima\"><span class=\"hljs-attribute\">warnings</span></code> context helps improve existing code bases with better flow analysis. To make sure you and your fellow developers address these warnings, you can treat these nullable warnings as errors. Set the following two properties in your project file:</p><div><pre><code class=\"hljs language-crmsh language-dts\">&amp;<span class=\"hljs-keyword\">lt</span>;Nullable&amp;<span class=\"hljs-keyword\">gt</span>;warnings&amp;<span class=\"hljs-keyword\">lt</span>;/Nullable&amp;<span class=\"hljs-keyword\">gt</span>;\n  &amp;<span class=\"hljs-keyword\">lt</span>;WarningsAsErrors&amp;<span class=\"hljs-keyword\">gt</span>;Nullable&amp;<span class=\"hljs-keyword\">lt</span>;/WarningsAsErrors&amp;<span class=\"hljs-keyword\">gt</span>;\n  </code></pre></div></blockquote><h4 id=\"annotations-as-the-default\"><code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">annotations</span></code> as the default</h4><p>When you set <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">annotations</span></code> as the default, you can start using <code class=\"hljs language-undefined\">?</code> in your project. Flow analysis will be disabled, though, so you won’t get any warnings about potential nullability issues.</p><p>In my opinion, this mode does not make a lot of sense. Yes, you can use the language features, but you get no assistance from the IDE or compiler when something is not right.</p><h2 id=\"conclusion\">Conclusion</h2><p>In this post, we’ve seen some internals of C# nullable reference types. The compiler generates <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableContextAttribute</span></code> and <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">NullableAttribute</span></code> usages when compiling C# code to Intermediate Language (IL), providing metadata about nullability.</p><p>The metadata added by the compiler is used in various ways, depending on the nullable annotation context you specify in your project or separate files.</p><p>In the next post, we’ll look beyond <code class=\"hljs language-undefined\">?</code> and cover the many options for annotating your code and helping out flow analysis to give you better and more reliable results.</p></section></div></article></div></div>",
    "labels": "csharp"
  },
  {
    "description": "W3C publishes working drafts for Wasm core, JavaScript interface, and Web API details.",
    "title": "WebAssembly 2.0 begins to take shape",
    "content": "<div class=\"page\" id=\"readability-page-1\"><section id=\"page-wrapper\" role=\"main\">\n      \n          \n          \n          \n  \n          <article>\n  \n          \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n   \n   \n      \n          \n          \n          \n          \n          \n                                      \n          \n      \n      \n      \n      \n      \n  \n   \n   \n   \n   \n    \n    \n   \n   \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n  \n  \n  \n  \n  \n      \n      \n      \n      \n      \n      \n          \n      \n  \n  \n  \n      \n          \n      \n      \n          \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      \n      \n      \n          \n      \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      \n          \n      \n      \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      \n      \n  \n  \n  \n  \n      \n              \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      \n      \n          \n      \n  \n  \n  \n  \n  \n  \n  \n  <header>\n  \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n          \n          \n              \n          \n      \n      \n  \n      \n      \n      \n      \n      \n          <section>\n              <h3>W3C publishes working drafts for Wasm core, JavaScript interface, and Web API details. \n  \n  </h3>\n          </section>\n      \n      \n      \n      \n      \n      \n      \n      \n              \n      \n      \n      \n  \n      \n          \n              \n                  \n                  <div>\n                          \n                          <p>\n                          \n                              Editor at Large, \n                                  \n                                      \n                                  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  <span><span>InfoWorld</span></span> <span>|</span>\n                              \n      \n                              \n                          </p>\n                      </div>\n              \n          \n      \n      \n          \n      \n      \n          \n              \n              \n                  \n                  \n                  \n                  \n                      \n                      \n                          \n                      \n                  \n                  \n              \n          \n      \n      \n      \n      \n      \n  </header>\n  \n  \n  \n  \n      <div>\n          \n          \n          \n          \n              \n                  <div>\n                      \n                      \n                      \n                          \n                          \n                              \n                                  \n                                      \n                                      \n                                  \n                                  \n                                  \n                                  \n                                  \n                              \n                              \n                                  \n                              \n                              \n                              <figure>\n                                  \n                                  \n                                  \n                                  \n                                  \n                                  <img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s6KtU7FZ8V1PqrQdTZc4MsRiYYediRORnQbEL7j6R1yU/https://images.idgesg.net/images/article/2019/11/automation_assembly_line_robotic_arms_conveyor_belt_thinkstock_620730028_abstract_binary_code_thinkstock_496281906_1200x800-100819409-large.jpg?auto=webp&amp;quality=85,70\" alt=\"WebAssembly 2.0 begins to take shape\" loading=\"lazy\" data-original=\"https://images.idgesg.net/images/article/2019/11/automation_assembly_line_robotic_arms_conveyor_belt_thinkstock_620730028_abstract_binary_code_thinkstock_496281906_1200x800-100819409-large.jpg?auto=webp&amp;quality=85,70\">\n                                  <figcaption>\n                                      \n                                      \n                                          <span>\n                                              \n                                                  \n                                                  Thinkstock\n                                              \n                  \n                                              \n                                                  \n                                                  \n                                                  \n                                                  \n                                                        \n                                                  \n                                                        \n                                                  \n                                                        \n                                                  \n                                                        \n                                                  \n                                                        \n                                                  \n                                                        \n                                                  \n                                                        \n                                                  \n                                                        \n                                                  \n                                                        \n                                                  \n                                                        \n                                                  \n                                                        \n                                                  \n                                                        \n                                                  \n                                                  \n                                                  \n                                                  \n                                              \n                                      \n                                          </span>\n                                      \n                                      \n                                  </figcaption>\n                              </figure>\n                              \n                  \n                          \n                          \n                      \n                  </div>\n              \n              \n          \n      \n  \n  \n  \n  \n  \n  </div>\n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n          \n          \n  \n  \n  \n          <section>\n  \n              \n                  \n                  \n                      \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      \n          \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      \n  \n  \n  \n      \n      \n      \n      \n          \n      \n      \n      \n      \n      \n      \n      \n      \n          \n          \n              \n              \n              \n              \n          \n      \n      \n      \n      \n      \n      \n              \n      \n      \n      \n      \n      \n      \n          \n          \n              \n          \n      \n      \n      \n      \n      \n          \n              \n                  \n                  \n                  \n                      \n                  \n                  \n              \n          \n          \n      \n      \n          \n          \n              <div id=\"drr-container\">\n          \n          \n          \n          \n      \n          \n              \n              \n                  <p>The first public working drafts of WebAssembly 2.0 have arrived, with the planned next iteration of the <a href=\"https://www.infoworld.com/article/3291780/what-is-webassembly-the-next-generation-web-platform-explained.html\">binary instruction format</a> so far centering on capabilities such as JavaScript interaction and integration with the broader web platform.</p><p>The WebAssembly Working Group of the World Wide Web Consortium (W3C) on April 19 published three drafts:</p><ul>\n  <li><a rel=\"nofollow\" href=\"https://www.w3.org/TR/2022/WD-wasm-core-2-20220419/\">WebAssembly Core Specification Version 2.0</a>, describing the next version of the core standard.</li>\n  <li><a rel=\"nofollow\" href=\"https://www.w3.org/TR/2022/WD-wasm-js-api-2-20220419/\">WebAssembly JavaScript Interface Version 2.0</a>, providing an explicit JavaScript API for interacting with WebAssembly.</li>\n  <li><a rel=\"nofollow\" href=\"https://www.w3.org/TR/2022/WD-wasm-web-api-2-20220419/\">WebAssembly Web API Verson 2.0</a>, describing the integration of WebAssembly with the broader web platform.</li>\n  </ul><p>The three drafts follow the same pattern as for <a href=\"https://www.infoworld.com/article/3489536/webassembly-10-and-w3c-core-specification-arrive.html\">WebAssembly 1.0</a>, with the W3C in late-2019 publishing documents pertaining to the core specification, a web API, and a JavaScript interface. The core specification of WebAssembly 2.0 echoes previous goals for WebAssembly. Design goals include fast, safe, and portable semantics and efficient and portable representation.</p><p>The JavaScript API provides a way to access WebAssembly through a bridge to explicitly construct modules from JavaScript. The Web API builds on the WebAssembly specification and WebAssembly JavaScript Embedding.</p><div><p><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAA3XAAAN1wFCKJt4AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAABOklEQVQ4Ea2V3U7DMAxGV8QN3OyBB+oDdK/L75DKOV0cmdC0EizSp7iJfWwvbXaY5/mIJnUoA/s+7N6cfSKe+XgoD1/ML+gpANhdaN4zBr2iC5ruCuCT+RGdWHx2bRgGk/yCuuaePsX3hPmALq4tww1kFscbWqBuYldoYxujr8O5dpeh2eEHlIAMbmHVt62g77ikvbZZKmLqdLOTfSwsk49o96eJltuWItDTt3Kl7XCvtoldYyP5GnTEMQDv2MrhWq56HRZknKsDtlV9oBjam5XFexi8285kz9WNPP+95QaWXx+h7aF0X/61w8gwA/MBjDzH6a9DcchttrB6APHj4t/1yazlQ2fh/5+emQF5BXVhqbqtbq6XAyAv1zjN3S8A3wyNu5DlhTFZ3Rl59+3CNio1VsZZ4E3/Ar4BuSbVUBIuWisAAAAASUVORK5CYII=\" id=\"jw-standalone-close-button\"></p></div><p><a href=\"https://www.infoworld.com/article/3176681/webassembly-is-now-ready-for-browsers-to-use.html\">Supported in major browsers</a>, WebAssembly, or Wasm for short, provides a safe, portable, low-level code format designed for compact representation and efficient execution. It promises <a href=\"https://www.infoworld.com/article/3291780/what-is-webassembly-the-next-generation-web-platform-explained.html\">faster web applications and enabling use of other languages besides JavaScript</a> for web programming. <a href=\"https://www.infoworld.com/article/3651503/the-rise-of-webassembly.html\">The technology is now powering complex distributed applications</a>, having moved beyond the browser and into the server.</p><p>Publishing of a working draft does not imply endorsement by W3C or members. The draft document may be updated, replaced, or obsoleted by other documents.</p>\n              \n          \n          \n      \n          \n          \n              \n          \n          \n          \n          \n              \n              \n              \n              \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n          \n          \n      </div>\n      \n      \n      \n          \n          \n          \n      \n      \n      \n      \n      \n      \n      \n      \n          \n      \n      \n      \n      \n      \n      \n      \n      \n      \n              \n                 \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      \n      \n          <div>\n              <p>Paul Krill is an editor at large at InfoWorld, whose coverage focuses on application development.</p>\n                          \n          </div>\n      \n  \n  \n  \n                 \n                 \n              \n      \n      \n      \n      \n          \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      \n  \n  \n  \n  \n  \n  \n      <p>Copyright © 2022 IDG Communications, Inc.</p>\n  \n      \n           \n      \n      \n      \n      \n      \n          \n          \n      \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n       \n      \n  \n  \n  \n  \n  \n  \n  \n      \n  \n  \n  \n      \n  \n      \n      \n      \n      \n      \n      \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n          \n              \n  \n          \n              \n                  \n                      \n                      \n                      \n                          \n                              \n                      \n                          \n                      \n                      \n                      \n                      \n                      \n                      \n                          \n                      \n                  \n                  \n              \n          \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      \n      \n      \n  \n      \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n          \n  \n      \n      \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n          \n  \n  \n  \n  \n  \n  \n      \n      \n      \n      \n  \n  \n  \n  \n                      \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n                  \n              \n          \n          </section>\n  \n          \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n   \n  \n  \n  \n  \n      \n          \n              \n                  \n                  \n                      \n                          \n                      \n  \n                  \n              \n              \n          \n  \n          \n              \n              \n          \n              \n                  \n                      \n                              \n      \n      \n  \n  \n  \n      \n          \n              \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      <div id=\"tso-wrapper\"><h3>Sponsored Links</h3><ul><li><a href=\"http://pubads.g.doubleclick.net/gampad/clk?id=5876505807&amp;iu=/8456/IDG.G_B2B_InfoWorld.com\"> Get started with AWS AppConfig</a></li><li><a href=\"http://pubads.g.doubleclick.net/gampad/clk?id=5966924303&amp;iu=/8456/IDG.G_B2B_InfoWorld.com\"> Message your employees on Slack with customized security and compliance recommendations for their Linux, Mac, and Windows devices.  Try Kolide for 14 days free; no credit card required. </a></li><li><a href=\"http://pubads.g.doubleclick.net/gampad/clk?id=5885150796&amp;iu=/8456/IDG.G_B2B_InfoWorld.com\"> Free trials are now available for select CIS pre-hardened VMs on AWS.</a></li><li><a href=\"http://pubads.g.doubleclick.net/gampad/clk?id=5937032631&amp;iu=/8456/IDG.G_B2B_InfoWorld.com\"> Imagine Transforming the Way Your Business Manages Data</a></li></ul></div>\n      \n      \n  \n              \n          \n      \n      \n  \n  \n  \n  \n          </article>\n  \n      </section></div>",
    "labels": "wasm"
  },
  {
    "description": "One of the best pieces of advice, one would ever get is \"Get good at Git\". Git was created by Linus Torvalds, a guy much smarter than us. He knew if he made it too easy, it would make us weak. Instead, he wanted to give us a glory of overcoming the c...",
    "title": "Get Good At Git 💎",
    "content": "<div id=\"readability-content\"><div class=\"page\" id=\"readability-page-1\"><div><div><p><audio controlslist=\"nodownload\" controls=\"\"><source type=\"audio/mp3\" src=\"https://prodstage-audioblog-hnaudioblog3e1448cf-shw992q87veq.s3-us-west-2.amazonaws.com/cl2rk33iu003wdmnvfv6ndai6-male\">Your browser does not support the audio element.</audio></p></div><div id=\"toc\"><div><h3><svg viewBox=\"0 0 512 512\"><path d=\"M88 56H40a16 16 0 00-16 16v48a16 16 0 0016 16h48a16 16 0 0016-16V72a16 16 0 00-16-16zm0 160H40a16 16 0 00-16 16v48a16 16 0 0016 16h48a16 16 0 0016-16v-48a16 16 0 00-16-16zm0 160H40a16 16 0 00-16 16v48a16 16 0 0016 16h48a16 16 0 0016-16v-48a16 16 0 00-16-16zm416 24H168a8 8 0 00-8 8v16a8 8 0 008 8h336a8 8 0 008-8v-16a8 8 0 00-8-8zm0-320H168a8 8 0 00-8 8v16a8 8 0 008 8h336a8 8 0 008-8V88a8 8 0 00-8-8zm0 160H168a8 8 0 00-8 8v16a8 8 0 008 8h336a8 8 0 008-8v-16a8 8 0 00-8-8z\"></path></svg><span>Table of contents</span></h3></div><div><ul><li><a href=\"#heading-combine-add-and-commit\" id=\"f7179652-b570-412d-8b90-76a701fdb167\">Combine ADD and COMMIT</a></li><li><a href=\"#heading-aliases\" id=\"66a4eeed-d0e5-4cbe-95cc-0a7922f04ecb\">Aliases 😇</a></li><li><a href=\"#heading-amend\" id=\"e83a8b7a-1a71-4053-82f8-eb1920c80bf9\">Amend</a></li><li><a href=\"#heading-force-push\" id=\"31ecd15f-ae5f-455a-a8d6-0754cafa5301\">Force Push 😧</a></li><li><a href=\"#heading-revert\" id=\"e6fe3598-6b61-4df0-a309-fc7c54505ae5\">Revert</a></li><li><a href=\"#heading-codespaces\" id=\"a5d2089c-931e-4da9-adad-771dbd780216\">Codespaces</a></li><li><a href=\"#heading-stash\" id=\"f6eff463-2a97-4a46-a20d-f72f3691ba19\">Stash</a></li><li><a href=\"#heading-pc-master-branch\" id=\"6a8595a9-c795-4923-ae9c-f60fe4900d6e\">PC Master Branch</a></li><li><a href=\"#heading-pretty-logs\" id=\"4e173176-d73d-43b3-bb64-06216b94be63\">Pretty Logs</a></li><li><a href=\"#heading-searching-logs\" id=\"c7619598-5f46-46cb-a393-856deac75e30\">Searching Logs 🔍</a></li><li><a href=\"#heading-bisect\" id=\"dbc973d9-4f0e-42fe-ac2d-a5b3119ae843\">Bisect</a></li><li><a href=\"#heading-autosquash\" id=\"dc32bcbb-c7e6-4153-83b4-b0aad65f9c37\">Autosquash</a></li><li><a href=\"#heading-hooks\" id=\"52270bb4-bdc5-420e-bd5e-cf85967b8efc\">Hooks 🔌</a></li><li><a href=\"#heading-destroy-things\" id=\"f1a42655-566f-46ab-8793-f0b0336745ef\">Destroy Things 💥</a></li><li><a href=\"#heading-checkout-to-last\" id=\"e58e447a-8ae8-47f7-865c-95478a6d181d\">Checkout to Last</a></li><li><a href=\"#heading-conclusion\" id=\"1ddf344e-32db-4d49-9110-7c0d18266e30\">Conclusion</a></li></ul></div></div><div id=\"post-content-wrapper\"><p>One of the best pieces of advice, one would ever get is \"Get good at Git\". Git was created by Linus Torvalds, a guy much smarter than us. He knew if he made it too easy, it would make us weak. Instead, he wanted to give us a glory of overcoming the challenge.</p>\n  <p><img alt=\"git man-weight-lifting.png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sOU_bwzCpZW7wq0YTI5TgdrCHDbrmcP4Akn3ddyPXmog/https://cdn.hashnode.com/res/hashnode/image/upload/v1650870745999/G3iYXzyFX.png?auto=compress,format&amp;format=webp\"></p>\n  <p>Could you be using Git more efficiently? The answer is, probably, a YES.</p>\n  <p>In this blog, we will look at a bunch of different tips and tricks to make you more productive with Git 📝</p>\n  <h2 id=\"heading-combine-add-and-commit\">Combine ADD and COMMIT</h2>\n  <p>To save a snapshot of your code, you use \"add\" followed by a commit message.</p>\n  <div><pre><code class=\"hljs language-dockerfile language-pgsql\">git <span class=\"hljs-keyword\">add</span><span class=\"bash\"> .</span>\n  git commit -m <span class=\"hljs-string\">\"New line added\"</span>\n  </code></pre></div><p>But, there's an actually a better way to get the job done.</p>\n  <p>You can go straight to commit by using the <code class=\"hljs language-diff language-haml\"><span class=\"hljs-deletion\">-am</span></code> flag.</p>\n  <div><pre><code class=\"hljs language-nginx language-pgsql\"><span class=\"hljs-attribute\">git</span> commit -am <span class=\"hljs-string\">\"An easy way!\"</span>\n  </code></pre></div><p>This will automatically add all the files in the current working directory.</p>\n  <h2 id=\"heading-aliases\">Aliases 😇</h2>\n  <p>There's actually a more concise way to get the job done.</p>\n  <p>The command <code class=\"hljs language-arduino language-ebnf\">git <span class=\"hljs-built_in\">config</span></code> provides a way to create aliases which are commonly used to shorten an existing command or create your own new custom commands.</p>\n  <p>Let's look at an example:</p>\n  <div><pre><code class=\"hljs language-routeros language-stata\">git<span class=\"hljs-built_in\"> config </span>--global alias.ac <span class=\"hljs-string\">\"commit -am\"</span>\n  git ac <span class=\"hljs-string\">\"noice!\"</span>\n  </code></pre></div><p>We made an alias called <code class=\"hljs language-ebnf language-stata\"><span class=\"hljs-attribute\">ac</span></code> that runs the \"add\" and \"commit\" command with just two letters. </p>\n  <p>This allows us to run things faster, but sometimes going fast leads to mistakes.</p>\n  <h2 id=\"heading-amend\">Amend</h2>\n  <p>What if you made a typo in your last commit message - <code class=\"hljs language-nginx language-stata\"><span class=\"hljs-attribute\">git</span> ac <span class=\"hljs-string\">\"noice!\"</span></code>❓</p>\n  <p><img alt=\"Screenshot (290).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s8LJpXZTNjlwFUDZLw4lvaikzobawfprrYanbieJTD2Y/https://cdn.hashnode.com/res/hashnode/image/upload/v1650956474068/rcltfQDF9.png?auto=compress,format&amp;format=webp\"></p>\n  <p>Instead of resetting and committing a new commit, the <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--amend</span></code> flag followed by a new message will simply update the latest commit.</p>\n  <div><pre><code class=\"hljs language-dsconfig language-jboss-cli\"><span class=\"hljs-string\">git </span><span class=\"hljs-string\">commit </span><span class=\"hljs-built_in\">--amend</span> -m <span class=\"hljs-string\">\"nice!\"</span>\n  </code></pre></div><p>Or maybe you forgot to include or stage a couple of files with your last commit.\n  You can also update your last commit with new files by using the <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--amend</span></code> flag. </p>\n  <p>And if you want to keep the same commit message, add the <code class=\"hljs language-stata language-vim\">--<span class=\"hljs-keyword\">no</span>-<span class=\"hljs-keyword\">edit</span></code> flag as well. </p>\n  <div><pre><code class=\"hljs language-routeros language-pgsql\">git <span class=\"hljs-builtin-name\">add</span> .\n  git commit --amend --no-<span class=\"hljs-builtin-name\">edit</span>\n  </code></pre></div><h2 id=\"heading-force-push\">Force Push 😧</h2>\n  <p>Keep in mind, the above command only works when you haven't already pushed your code to a remote repository.</p>\n  <p>Unless you like to live dangerously, in which case, you can do a \"git push\" with the <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--force</span></code> flag. </p>\n  <div><pre><code class=\"hljs language-crmsh language-maxima\">git push origin <span class=\"hljs-keyword\">master</span> <span class=\"hljs-title\">--force</span>\n  </code></pre></div><p>This will overwrite the remote commit with the state of your local code.</p>\n  <p>However, if there are commits on the remote branch that you don't have, you'll lose them forever. </p>\n  <h2 id=\"heading-revert\">Revert</h2>\n  <p>But what happens if you push some code to a remote repository and then realize it's a complete garbage and never should've been there in the first place.</p>\n  <p>Git <code class=\"hljs language-coq language-ebnf\"><span class=\"hljs-built_in\">revert</span></code> command allows you to take one commit and go back to the state that was there previously.</p>\n  <div><pre><code class=\"hljs language-applescript language-armasm\">git revert better-days\n  git <span class=\"hljs-built_in\">log</span> <span class=\"hljs-comment\">--oneline</span>\n  </code></pre></div><p><img alt=\"Screenshot (291).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,siPnENJAsfm_U4Hbaf5roK8-P76WKylfOxwwrTwhX_mM/https://cdn.hashnode.com/res/hashnode/image/upload/v1650956811114/W05yq2ZSE.png?auto=compress,format&amp;format=webp\"></p>\n  <p>We will use the \"revert\" command with the hash id of the latest commit.</p>\n  <p>It's kind of like an undo but doesn't remove the original commit from the history. Instead, it just goes back to the original state.</p>\n  <p><img alt=\"Screenshot (292).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sDosGvguy-GaGmceV3xvfTNofV1tyiInx2Ke12kQ99AA/https://cdn.hashnode.com/res/hashnode/image/upload/v1650957043202/B69L7SQWO.png?auto=compress,format&amp;format=webp\"></p>\n  <p>And, that's much easier 👍</p>\n  <h2 id=\"heading-codespaces\">Codespaces</h2>\n  <p>Another case is, you may need to work on a repository but not have access to your local machine.</p>\n  <p>If you are in your Grandma's house without your laptop, you can use any computer that has a web browser.</p>\n  <blockquote>\n  <p>Go to the GitHub and find the repository that you want to want to work on.\n  Then hit the period key on your keyboard.</p>\n  </blockquote>\n  <p><img alt=\"Screenshot (273).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sFfjX-K4BU72UkY6Y3cini7jkD_uHBwC-2BZqAR8naJ8/https://cdn.hashnode.com/res/hashnode/image/upload/v1650875651815/_Z9Bk5ebx.png?auto=compress,format&amp;format=webp\"></p>\n  <p>And like magic, it pulls up a browser-based version of VS Code where you can make edits, submit pull requests and do almost anything else you could do locally, well except for run the terminal. </p>\n  <p>If you do need to run terminal commands, you can setup a GitHub code space in the cloud which will give you the full power of VS Code and is, likely, much faster than your Grandma's computer.</p>\n  <h2 id=\"heading-stash\">Stash</h2>\n  <p>Let's switch gears to Git stash.</p>\n  <p>Have you ever spent time working on some changes that almost work, but they can't really be committed yet? </p>\n  <p><code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git stash</span></code> will remove the changes from your current working directory and save them for later use without committing them to the repo.</p>\n  <p>The simple way to use it is, </p>\n  <p>when you're ready to add those changes back into your code.</p>\n  <p>But if you use the command a lot, you can use <code class=\"hljs language-ebnf language-fortran\"><span class=\"hljs-attribute\">git stash save</span></code> followed by a name to reference it later.</p>\n  <p>Then when you are ready to work on it again, use <code class=\"hljs language-applescript language-cpp\">git stash <span class=\"hljs-built_in\">list</span></code> to find it and then <code class=\"hljs language-coq language-ebnf\">git stash <span class=\"hljs-built_in\">apply</span></code> with the corresponding index to use it.</p>\n  <div><pre><code class=\"hljs language-lsl language-properties\">git stash <span class=\"hljs-type\">list</span>\n  git stash apply <span class=\"hljs-number\">0</span>\n  </code></pre></div><p>Now if you want to use a \"stash\" at Grandma's house, you have now a solution 😉</p>\n  <p>You can use a GitHub codespace in which case, your stashes would be saved in a file.</p>\n  <p>That's pretty cool!</p>\n  <p><img alt=\"Codespace.webp\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,suNPLtRBLPUrelNEan9I0I_Jbq54mPP6mHCfTO_Y6rvo/https://cdn.hashnode.com/res/hashnode/image/upload/v1650881954242/XZBu8ENOL.webp?auto=compress,format&amp;format=webp\"></p>\n  <h2 id=\"heading-pc-master-branch\">PC Master Branch</h2>\n  <p>Now, I have a public service announcement for developers in the modern era.</p>\n  <p>Historically, the default branch in git is called the \"master\" branch, which is now referred to as \"main\", \"mega\" or \"mucho\". </p>\n  <p><img alt=\"Master branch git 1.png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sSAD9dd1__T4tn_2ZXvWBVUKLtE0TV6S14SpQUAxsBH0/https://cdn.hashnode.com/res/hashnode/image/upload/v1650884340875/AKDLYtZzm.png?auto=compress,format&amp;format=webp\"></p>\n  <p>To change it, use \"git branch\" followed by the <code class=\"hljs language-diff language-haml\"><span class=\"hljs-deletion\">-M</span></code> flag to rename it to main, or maybe get creative and invent your own name.</p>\n  <h2 id=\"heading-pretty-logs\">Pretty Logs</h2>\n  <p>Another command, you might be probably familiar with, is <code class=\"hljs language-1c language-applescript\">git <span class=\"hljs-built_in\">log</span></code> to view a history of commits.\n  The problem with this command is that the output is harder and harder to read as your project grows in complexity.</p>\n  <p>To make the output more readable, add the options of <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--graph</span></code>, <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--oneline</span></code> and <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--decorate</span></code>.</p>\n  <div><pre><code class=\"hljs language-brainfuck language-dsconfig\"><span class=\"hljs-comment\">git</span> <span class=\"hljs-comment\">log</span> --<span class=\"hljs-comment\">graph</span> --<span class=\"hljs-comment\">oneline</span> --<span class=\"hljs-comment\">decorate</span>\n  </code></pre></div><p>You can now see a more concise breakdown and how different branches connect together.</p>\n  <p><img alt=\"Screenshot (274).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,smUrAzkQVjqCEifm7Y5Pv2JYNQwzkFnGkxyWQc7zXn34/https://cdn.hashnode.com/res/hashnode/image/upload/v1650885288067/YWLBB2NH_.png?auto=compress,format&amp;format=webp\"></p>\n  <p>But if you're looking at the \"git log\", there's likely a commit in there that's currently breaking your app ;)</p>\n  <h2 id=\"heading-searching-logs\">Searching Logs 🔍</h2>\n  <p>The <code class=\"hljs language-1c language-applescript\"><span class=\"hljs-built_in\">log</span></code> command can also be used to search for specific changes in the code. </p>\n  <p>For example, you can search for the text <strong>README file added in Kubesimplify</strong> as follows.</p>\n  <div><pre><code class=\"hljs language-1c language-applescript\">git <span class=\"hljs-built_in\">log</span> -S <span class=\"hljs-string\">\"README file added in Kubesimplify\"</span>\n  </code></pre></div><p>This command returns the commit where the file is added in the Text directory.</p>\n  <h2 id=\"heading-bisect\">Bisect</h2>\n  <p>Git bisect allows you to start from a commit that is known to have a bug, likely the most recent commit.</p>\n  <p>But if you knew that the app was working a few hours ago, you can point bisect to the last working commit.</p>\n  <p>Then, it performs a binary search to walk you through each commit in between.</p>\n  <p><img alt=\"git bisect.png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s99QKhCSwjNLrYNR1AdkRdPQB8FMn3If5dAm9B1V-Vsw/https://cdn.hashnode.com/res/hashnode/image/upload/v1650885738714/DyOfiV0hB.png?auto=compress,format&amp;format=webp\"></p>\n  <p>If the commit looks good, type <code class=\"hljs language-armasm language-ebnf\"><span class=\"hljs-keyword\">bisect </span>good</code> to move on to the next commit.</p>\n  <div><pre><code class=\"hljs language-armasm language-mipsasm\"><span class=\"hljs-symbol\">git</span> <span class=\"hljs-keyword\">bisect </span><span class=\"hljs-keyword\">bad\n  </span><span class=\"hljs-symbol\">git</span> <span class=\"hljs-keyword\">bisect </span>good <span class=\"hljs-number\">5</span>b010ef\n  <span class=\"hljs-symbol\">git</span> <span class=\"hljs-keyword\">bisect </span><span class=\"hljs-keyword\">bad\n  </span></code></pre></div><p>Eventually, you will find the bad one and know exactly which code needs to be fixed.</p>\n  <h2 id=\"heading-autosquash\">Autosquash</h2>\n  <p>Another advanced git technique that every developer should know is how to squash their commits.</p>\n  <p><img alt=\"git squash.png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,snNLAqVtI8yEHjPqUsDvWvOom1EcnBo7C2mxuqzB1Pic/https://cdn.hashnode.com/res/hashnode/image/upload/v1650886738339/TRpN0rhed.png?auto=compress,format&amp;format=webp\"></p>\n  <p>Imagine, you are working on a feature branch that has three different commits. And you are ready to merge it into the master branch.</p>\n  <p><img alt=\"Screenshot (275).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,scP43zyr1B5tct9RmvQEqtnsC4ypEUuMjZk0xockdoWA/https://cdn.hashnode.com/res/hashnode/image/upload/v1650887016796/ptUEQMUb7.png?auto=compress,format&amp;format=webp\"></p>\n  <p>But all these commit messages are kind of pointless, and it would be better if it was just one single commit.</p>\n  <p><img alt=\"Screenshot (276).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sxFmZBGSdWdCOKDDwtngrR8KexAR8NpxGBa7FDWlpTCI/https://cdn.hashnode.com/res/hashnode/image/upload/v1650887563534/e_ryRP3Tm.png?auto=compress,format&amp;format=webp\"></p>\n  <p>We can do that from our feature branch by running \"git rebase\" with the <code class=\"hljs language-ada language-angelscript\"><span class=\"hljs-comment\">--interactive</span></code> option for the main branch.</p>\n  <div><pre><code class=\"hljs language-crmsh language-ada\">git rebase <span class=\"hljs-keyword\">master</span> <span class=\"hljs-title\">--interactive</span>\n  </code></pre></div><p>This will pull up a file with a list of commits on this branch.</p>\n  <p><img alt=\"Screenshot (277).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s8YN596HMWqbuD6uMcuMf6R2pfe9m3JY0irrOpUlS67w/https://cdn.hashnode.com/res/hashnode/image/upload/v1650888314151/gy6ts3_qY.png?auto=compress,format&amp;format=webp\"></p>\n  <p>If we want to use a commit, we just use the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">pick</span></code> command.</p>\n  <p>We can also change a message using <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">reword</span></code> command.</p>\n  <p>Or we can combine or squash everything into the original commit using <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">squash</span></code> command.</p>\n  <p><img alt=\"Screenshot (279).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sSKUhDqRv6TrnNKFCZeUzxUmOdZzjubxN_VXK0aYw2uc/https://cdn.hashnode.com/res/hashnode/image/upload/v1650888348058/wn4LdsjG7.png?auto=compress,format&amp;format=webp\"></p>\n  <p>Go ahead, save the file and close it.</p>\n  <p>Git will pull up another file prompting you to update the commit message, which by default will be a combination of all the messages that you just squashed.</p>\n  <p><img alt=\"Screenshot (280).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s6g0fjwnFTzlpKSz6jWajLf55L0sR_Kkf8u9Xb7W8V-E/https://cdn.hashnode.com/res/hashnode/image/upload/v1650888466702/Dfbj4-SBC.png?auto=compress,format&amp;format=webp\"></p>\n  <p>And if you don't like all the messages combined, you can use \"fixup\" instead of \"squash\" when doing the rebase.</p>\n  <p>To be even more productive, you can also use <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--fixup</span></code> and <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--squash</span></code> flags when making commits on your branch.</p>\n  <div><pre><code class=\"hljs language-elm language-jboss-cli\"><span class=\"hljs-title\">git</span> branch <span class=\"hljs-comment\">--fixup fb2f677</span>\n  <span class=\"hljs-title\">git</span> <span class=\"hljs-keyword\">command</span> <span class=\"hljs-comment\">--squash fc2f55</span>\n  </code></pre></div><p>On doing this, it tells git in advance that you want to squash them. </p>\n  <p>So when you go to do a rebase with the <code class=\"hljs language-ada language-angelscript\"><span class=\"hljs-comment\">--autosquash</span></code> command, it can handle all the squashing automatically.</p>\n  <div><pre><code class=\"hljs language-ada language-angelscript\">git rebase -i <span class=\"hljs-comment\">--autosquash</span>\n  </code></pre></div><h2 id=\"heading-hooks\">Hooks 🔌</h2>\n  <p>Now, if you maintain a repo, one tool that can be very helpful is \"Git hooks.\"</p>\n  <div><pre><code class=\"hljs language-nginx language-pgsql\"><span class=\"hljs-attribute\">git</span> commit -m <span class=\"hljs-string\">\"It is fixed\"</span>\n  </code></pre></div><p>Whenever you perform an operation with git like a commit for example, it creates an event. </p>\n  <p>And hooks allow you to run some code either before or after that event happens.</p>\n  <p>If you look in the hidden git directory, you will see a directory called \"hooks\". And inside it, you will find a bunch of different scripts that can be configured to run when different events in git happen.</p>\n  <p><img alt=\"Screenshot (285).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s2P2Js-4PEX7AQodXfx6OpR3-ywaowbzRO1lwsFXDh4s/https://cdn.hashnode.com/res/hashnode/image/upload/v1650955010403/b006l5HXG.png?auto=compress,format&amp;format=webp\"></p>\n  <blockquote>\n  <p>If you happen to be a JavaScript developer, there's a package called \"husky\" that makes it much easier to configure git hooks.</p>\n  </blockquote>\n  <p><img alt=\"Screenshot (286).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sU5AE6OWylL0jYz2yaO1UMikegWDcqPTeB96ErqSC5po/https://cdn.hashnode.com/res/hashnode/image/upload/v1650955152081/sPd3Ltdm2.png?auto=compress,format&amp;format=webp\"></p>\n  <p>For example, You might install it with npm, then create a script that will validate or link your code before each commit. And that can help improve your overall code quality.</p>\n  <p><img alt=\"Screenshot (287).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sxT6YYPRrlyf7usWfbx5Bi3UisulT758yAHnXmI1FEr4/https://cdn.hashnode.com/res/hashnode/image/upload/v1650955374236/d9MVglzom.png?auto=compress,format&amp;format=webp\"></p>\n  <h2 id=\"heading-destroy-things\">Destroy Things 💥</h2>\n  <p>To wrap things up, let's talk about deleting things.</p>\n  <p>Let's imagine you have a remote repository on GitHub than a local version on your machine that you have been making changes to. But, things haven't been going too well. </p>\n  <p><img alt=\"Screenshot (288).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sFpphQEbc6ioZkZMK3QiJQq3FsWIc2uOxtCuLNYVZf1o/https://cdn.hashnode.com/res/hashnode/image/upload/v1650955498816/-Xs5E1mRG.png?auto=compress,format&amp;format=webp\"></p>\n  <p>And you just want to go back to the original state in the remote repo.</p>\n  <div><pre><code class=\"hljs language-maxima language-pgsql\">git fetch <span class=\"hljs-built_in\">origin</span>\n  git <span class=\"hljs-built_in\">reset</span> --hard <span class=\"hljs-built_in\">origin</span>/master\n  </code></pre></div><p>First, we do <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">git fetch</span></code> to grab the latest code in the remote repo.</p>\n  <p>Then, use reset with the <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--hard</span></code> flag to override your local code with the remote code.</p>\n  <ul>\n  <li>Be careful, your local changes will be lost forever.</li>\n  </ul>\n  <p>But you might still be left with some random untracked files or build artifacts here and there.</p>\n  <p>Use the <code class=\"hljs language-ebnf language-excel\"><span class=\"hljs-attribute\">git clean -df</span></code> command to remove those files as well.</p>\n  <p>If you want to get rid of it altogether, maybe you want to try out Apache subversion to change things up a bit.</p>\n  <p>All you have to do is, delete that hidden git folder, and you are on your own again.</p>\n  <p><img alt=\"Screenshot (289).png\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sZfWu3ZA2-Ftc1oiL_iswKnBh6T5cs8SOipm7UJHMVe8/https://cdn.hashnode.com/res/hashnode/image/upload/v1650955921284/FhfyfCpE9.png?auto=compress,format&amp;format=webp\"></p>\n  <h2 id=\"heading-checkout-to-last\">Checkout to Last</h2>\n  <p>Oh! There's one other tip that comes in really handy.</p>\n  <p>If you recently switched out of a branch and forgot its name, you can use:</p>\n  <p>It takes you directly back to the previous branch that you were working on.</p>\n  <h2 id=\"heading-conclusion\">Conclusion</h2>\n  <p>Hopefully, a few of these commands can help you in your Git journey. There are many other amazing Git commands- Explore and Learn!</p>\n  <p>If you have any additional Git tips, make sure to leave them in the comments.</p>\n  <p><em>If you are unfamiliar with the basics of Git, click on <a href=\"https://www.youtube.com/watch?v=apGV9Kg7ics&amp;t=303s&amp;ab_channel=KunalKushwaha\">Kunal Kushwaha's Git Tutorial video</a></em></p>\n  <p><em>Source of the blog: <a href=\"https://www.youtube.com/watch?v=ecK3EnyGD8o&amp;t=398s&amp;ab_channel=Fireship\"> Fireship video</a></em></p>\n  <p>🤝<strong>Let's Connect <a href=\"https://linktr.ee/BushraNazish\">here</a> and Learn Together</strong></p>\n  <blockquote>\n  <p>Do Follow Kubesimplify for more awesome blogs 🙋</p>\n  </blockquote>\n  </div><div><h3>Did you find this article valuable?</h3><p>Support <strong>Kubesimplify</strong> by becoming a sponsor. Any amount is appreciated!</p></div><div><div><p>A CS Engineer exploring DevOps and Cloud Native Technologies </p></div><div><p>On a mission to teach cloud native to everyone.</p></div></div></div></div></div>",
    "labels": "git"
  },
  {
    "description": "How to plan out intentional time for junior talent to be as productive as possible",
    "title": "Tactics for developing junior engineers",
    "content": "<div id=\"readability-content\"><div class=\"page\" id=\"readability-page-1\"><div id=\"block-leaddev-content\">\n  \n  \n  \n  \n  <article role=\"article\" data-history-node-id=\"13496\">\n  <div>\n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  <p>Junior engineers require a specific kind of support to progress their careers in your org.</p>\n  \n  \n  \n  <div>\n  \n  \n  \n  \n  <p>As a tonne of early-career engineering talent enters the workforce, the onboarding structures and growth plans are often not put in place for junior talent to develop quickly.&nbsp;</p>\n  <p>Mentoring can be one of the most satisfying parts of an engineering leader’s role - so why can the concept of hiring and developing these individuals feel so daunting?</p>\n  <p>In this webinar, we’ll explore tactics for effectively developing early-career engineers. We’ll outline what newer engineers need to learn technically, organisationally, and culturally. We’ll also actively outline strategies for how to mentor, coach, and give feedback to junior engineers to set them up with the foundations for success.</p>\n  <p><strong>Key takeaways</strong></p>\n  <ul><li>Learn how to onboard new engineers quickly to make them productive</li>\n  <li>Create tactics on how to mentor, coach and deliver feedback to new engineers</li>\n  <li>Empower senior engineers to help train junior talent</li>\n  <li>Develop strategies for identifying when to promote juniors</li>\n  <li>Build structured career ladders for your talent to progress in your org successfully</li>\n  </ul>\n  \n  </div>\n  </div>\n  \n  </article>\n  \n  </div></div></div>",
    "labels": "leadership"
  },
  {
    "description": "Use the Feynman Technique to learn anything. Borrow Nobel Prize winning Richard Feynman's tips and tricks for understanding complex concepts.",
    "title": "The Feynman Technique: How to Learn Anything Quickly",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div><div> <p><span>Richard Feynman was a Nobel Prize winning physicist who made significant contributions in areas such as quantum mechanics and particle physics. He also pioneered quantum computing, introducing the concept of nanotechnology. He was a renowned lecturer who taught at Cornell and Caltech.</span></p><p><span>Despite all of his accomplishments, Feynman thought of himself as “an ordinary person who studied hard”. He believed that anyone was capable of learning with enough effort, even complex subjects like quantum mechanics and electromagnetic fields:</span></p><blockquote><i>There’s no miracle people. It just happens they got interested in this thing and they learned all this stuff. There’s just people.</i>” – Richard Feynman<a href=\"https://www.youtube.com/watch?v=lr8sVailoLw\">*</a></blockquote><p><span>What made Richard Feynman Richard Feynman (according to Richard Feynman, at least) wasn’t innate intelligence, but the systematic way in which he identified the things he didn’t know and then threw himself into understanding them inside and out. Throughout his work and life, Feynman provided insights into his process for considering complex concepts in the world of physics and distilling knowledge and ideas with elegance and simplicity. Many of these observations about his learning process have been collected into what we now call “The Feynman Technique”.&nbsp;</span></p><p><span>The Feynman Technique is a learning concept you can use to understand just about anything.</span></p><p><span>To continuously expand your skill set and </span><a rel=\"noopener noreferrer\" href=\"https://blog.doist.com/mastery/\"><span>achieve mastery</span></a><span> over new and complex concepts, it’s crucial to have a framework for conquering puzzling problems ranging from computer science and product design to psychology and evolutionary biology.</span></p><p><span>This article will provide an overview of the Feynman Technique and how you can apply it to continuously expand your knowledge and skillset</span><span>. In short, Feynman will teach you not </span><i><span>just</span></i><span> how to learn but how to truly </span><i><span>understand</span></i><span>.&nbsp;</span></p><h2><span>What is the Feynman Technique?</span></h2><blockquote> “<span>I was born not knowing and have had only a little time to change that here and there</span><span>.”&nbsp;</span><span>– Richard Feynman</span></blockquote><p><span>The Feynman Technique is a four-step process for understanding any topic. This technique rejects automated recall in favor of true comprehension gained through selection, research, writing, explaining, and refining.&nbsp;</span></p><p><a rel=\"noopener noreferrer\" href=\"https://www.amazon.com/Genius-Life-Science-Richard-Feynman/dp/0679747044\"><span>Feynman’s biography</span></a><span>, penned by James Gleick, provides a host of clues into the famous physicist’s learning process. Here’s just one:</span></p><blockquote><p>“In preparing for his oral qualifying examination, a rite of passage for every graduate student, he chose not to study the outlines of known physics. Instead he went up to MIT, where he could be alone, and opened a fresh notebook. On the title page he wrote: Notebook Of Things I Don’t Know About. For the first but not the last time he reorganized his knowledge. He worked for weeks at disassembling each branch of physics, oiling the parts, and putting them back together, looking all the while for the raw edges and inconsistencies. He tried to find the essential kernels of each subject. When he was done he had a notebook of which he was especially proud.”</p></blockquote><p><span>He rejected rote memorization; believed that learning should be an active process of “trial and error, discovery, free inquiry”; and held that if you couldn’t explain something clearly and simply it was because you didn’t understand it well enough.</span></p><p><span>His philosophies make up the Feynman Technique:</span></p><p><img sizes=\"(max-width: 694px) 100vw, 694px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1388x0,sOwr0Mfr_dptBAYED0HwbxquPs6sXz0tzX2JCFx0KZko/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-1_resize-1.png 1388w,https://proxy-prod.omnivore-image-cache.app/324x0,ssUZvsaWroSlDtzCWjN8kWa24B1MAtZzRKu0O1yT0Mxs/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-1_resize-1-324x200.png 324w,https://proxy-prod.omnivore-image-cache.app/647x0,sF4aqRm_GdIFI5WndtsPd0Ld6NO1k65VtDIBESFu0U1Y/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-1_resize-1-647x400.png 647w,https://proxy-prod.omnivore-image-cache.app/1000x0,slkBSRfaqziPVf5MPs0ilE6u12mn9kX-qwKvN9t5vJsM/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-1_resize-1-1000x618.png 1000w,\" height=\"429\" width=\"694\" alt=\"A graphic that shows the 4 stages of the Feynman Technique\" src=\"https://proxy-prod.omnivore-image-cache.app/694x429,sYNuIfX6v5C_PM-RZofnZjkhiUiXgw7ZGfqY5juSEwRc/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-1_resize-1.png\"></p><ol><li><b>Choose a concept to learn</b><span>. Select a topic you’re interested in learning about and write it at the top of a blank page in a notebook.&nbsp;&nbsp;</span></li><li><b>Teach it to yourself or someone else</b><span>. Write everything you know about a topic out as if you were explaining it to yourself. Alternately, actually teach it to someone else.</span></li><li><b>Return to the source material if you get stuck</b><span>. Go back to whatever you’re learning from – a book, lecture notes, podcast – and fill the gaps in your knowledge.</span></li><li><b>Simplify your explanations and create analogies</b><span>. Streamline your notes and explanation, further clarifying the topic until it seems obvious. Additionally, think of analogies that feel intuitive.</span></li></ol><h2><span>How the Feynman Technique Works</span></h2><blockquote>“<span>I couldn’t reduce it to the freshman level. That means we really don’t understand it.</span><span>”&nbsp;</span><span>– Richard Feynman</span></blockquote><p><span>Often, we don’t realize we don’t understand something until it’s too late.</span></p><p><span>Maybe you’re facing down a question on an exam. Or someone asks you to explain a topic you thought you understood. And suddenly, your mind goes blank. When you’re asked to demonstrate your knowledge outside your own head, you realize you knew a lot less than you thought.</span></p><p><span>The Feynman Technique doesn’t let us fool ourselves into thinking we’re masters of a subject when we’re really amateurs. Each step of the process forces us to confront what we don’t know, engage directly with the material, and clarify our understanding.</span></p><h3><span>Choose a Concept to Learn</span></h3><p><span>Selecting a concept to study compels you to be intentional about what you don’t know. It also forces you to choose a topic that’s small enough that it could reasonably fit onto one or several pages.</span></p><div><table id=\"tablepress-9\"><thead><tr><th>Branch of Study</th><th>Topics to Choose</th></tr></thead><tbody><tr><td>Front-End Development</td><td>Optimizing SVG, Web Forms 2.0, conditional statements, css flexbox</td></tr><tr><td>Product Design</td><td>Attribute listing, beta prototypes, accessible typography, journey mapping</td></tr><tr><td>Evolutionary Science</td><td>Negative selection, heritability, phenotypes, random mutation</td></tr><tr><td>Microeconomics</td><td>Elasticity, oligopolies, allocative efficiency, marginal product</td></tr><tr><td>Psychology</td><td>Parasocial relationships, WEIRD, group polarization, social loafing</td></tr><tr><td>Calculus</td><td>Definite integral, right-endpoint approximation, exponential decay model, inverse trigonometric functions</td></tr></tbody></table></div><p><span>Why this step works:&nbsp;</span></p><ul><li><b>You face what you don’t know</b><span>. By writing a topic down on a blank page, you acknowledge you’re starting from scratch or at least filling in some blanks. In doing so, take the initial step in the process.&nbsp;</span></li><li><b>You need to be specific</b><span>. Given the accumulated knowledge in the universe, most of us know nothing about most things! Writing down explicitly what you don’t know provides you with a starting point.&nbsp;</span></li><li><b>You have to start small</b><span>. You really only have a page (or a few) to fill up with information. You can’t fit everything there is to know about “Evolutionary Science” or “Microeconomics” or “Psychology” on a page. Instead work on smaller more defined concepts or what might reliably be found on a midterm or final exam.&nbsp;</span></li></ul><h3><span>Explain it to yourself or teach it to someone else</span></h3><blockquote>“The first principle is that you must not fool yourself and you are the easiest person to fool.” – Richard Feynman</blockquote><p><span>A classic learning mistake is reading an article or textbook and considering our learning complete. In reality, </span><a rel=\"noopener noreferrer\" href=\"https://andymatuschak.org/books/\"><span>reading is not understanding</span></a><span>. We might even take notes, essentially transcribing a resource’s sentences into our notebooks. We often nod to ourselves, thinking we’ve grasped a subject. After all, </span><i><span>we’ve taken notes</span></i><span>.&nbsp;</span></p><p><span>But true understanding requires a more active process like </span><i><span>teaching</span></i><span>. Start out by formally teaching yourself. Write out a summary in your own words without looking at your notes. Or explain it to yourself out loud. Then take it to the next level by teaching other people. Teaching also initiates a feedback loop, where critique or questions can help us learn and sharpen our thinking.</span></p><div><table id=\"tablepress-10\"><thead><tr><th>Difficulty Level</th><th>Tactics to Teach Yourself or Others</th></tr></thead><tbody><tr><td>!</td><td>Write topic summaries and notes<br> Teach yourself aloud without your notes<br> Spark debates with friends or colleagues<br></td></tr><tr><td>!!</td><td>Write tweet threads<br> Answer questions on Quora <br> Write a Good Reads review <br></td></tr><tr><td>!!!</td><td>Speak at a conference<br> Volunteer as a tutor<br> Produce a podcast<br> Start a blog<br></td></tr></tbody></table></div><p><span>Why this step works:&nbsp;</span></p><ul><li><b>It makes it harder to trick yourself</b><span>. When you have to truly explain something, whether through writing or aloud, you encounter the holes in your reasoning and the white spaces in your knowledge. Think of writing and teaching as a process to </span><i><span>obtain understanding</span></i><span>, not something you do once you already understand.</span></li><li><b>It’s even harder to trick others.</b><span> If an explanation you’re providing doesn’t make sense, they’ll often tell you or you can pick up cues like blank stares. As a test, ask them to repeat what you taught them in their own words. If they can’t do this, your explanation is too complex –– simplify it and use plain language.&nbsp;</span></li><li><b>You build confidence</b><span>. When you truly understand something, it clicks. You can explain it forward and backwards, pointing out exceptions and spotting logical inconsistencies. When this happens, it builds confidence and pushes you to tackle even more challenging subjects knowing you have a solid framework for learning.&nbsp;</span></li></ul><h3><span>Return to the source material if you get stuck</span></h3><p><span>Learning should be iterative. More often than not, learning something challenging takes several attempts. With the Feynman Technique, returning to the source material is an explicit part of the learning process. When gaps in our knowledge arise and our explanations aren’t quite right, revisiting our primary and secondary sources can help solidify what we’re learning.&nbsp;</span></p><p><span>Getting it right will likely take several iterations. That’s a good thing; the more you refine your explanations, the more your understanding will deepen.&nbsp;</span></p><p><img sizes=\"(max-width: 460px) 100vw, 460px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/920x0,sTtesACIX9Tp1ZD--9w6OwOMMbm_aN8NLuh1YkACHOx8/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-2_resize-1.png 920w,https://proxy-prod.omnivore-image-cache.app/352x0,s0phlvUISxotZPh8_8z7G0hvBxs5QuDN_QxVbqD7ujUY/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-2_resize-1-352x152.png 352w,https://proxy-prod.omnivore-image-cache.app/704x0,sZOo7ubZ2HZCjuhLR4OiWizuoH52v-EYdfQKVOljrJhY/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-2_resize-1-704x303.png 704w,\" height=\"198\" width=\"460\" alt=\"Graphic showing a back and forth movement between steps 3 and 2\" src=\"https://proxy-prod.omnivore-image-cache.app/460x198,slJfSd6eNDKWG4bfQtHqc4ZOTrS_T_PUW3q3mdl_6N6I/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-2_resize-1.png\" loading=\"lazy\"></p><p><span>Why this step works:&nbsp;</span></p><ul><li><b>Learning becomes an iterative process. </b><span>Rather than viewing learning as one-and-done, this step gives you permission to continuously refresh your knowledge.&nbsp;</span></li><li><b>You’re actively engaged</b><span>. Using sources to polish our own explanations and models is an active process. When we learn passively, committing details to memory is more challenging. When we’re actively part of creating our own summaries and reasoning, drawing intentionally from original information to fill our blind spots, we can more readily commit knowledge to our long-term memory.&nbsp;</span></li><li><b>You expand your knowledge base</b><span>. Paradoxically, the more we learn, the more </span><i><span>our capacity</span></i><span> to learn increases. Looking through a chapter of a textbook might feel like a different language the first time around. The second time it becomes more clear. The third time, with a strong base already, we pick up nuances we couldn’t have possibly seen before.</span></li></ul><h3><span>Simplify your explanations and create your own analogies</span></h3><p><span>Every field of study has its own specialized terms. While it may be important to know them, it’s also important to not confuse knowing jargon with knowing concepts. The Feynman Technique involves simplifying our initial explanations and refining our understanding through simple analogies.</span></p><p><span>Why this step works:&nbsp;</span></p><ul><li><b>Simplicity is a proxy for understanding. </b><span>It’s easy enough to commit terms to memory, and repeat them back when prompted. But memorization is not understanding. When we can’t rely on big words that make us sound smart, we have to distill what we truly know to the most basic form. This is where true understanding takes place.&nbsp;</span></li><li><strong>Analogies are easier to recall and explain</strong>. <span>When you understand a challenging concept, analogies allow you to create a short-hand for recalling it quickly and explaining it to others clearly. Learning material often provides ready-made analogies for us. For example, we all probably have “the mitochondria are the powerhouse of the cell” burned into our collective memories. However, pushing ourselves to create our own analogies is even more powerful than regurgitating a borrowed one that we may not actually understand.&nbsp;</span></li></ul><div><div><h2>Make a learning plan</h2><p>Turn learning into a routine and make sure it actually happens with Todoist.</p> <p><a href=\"https://todoist.com/\" role=\"button\">Try Todoist</a></p></div><p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s174aDS3iDClGN8L9Jky4TlLQpa8qlXs1gVkVYYu6IQY/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2021/11/illustration-todoist.png\"></p></div><h2><span>Using the Feynman Technique With Todoist</span></h2><p><span>While following your curiosities is a good strategy for choosing </span><i><span>what</span></i><span> you learn, taking a more intentional approach to </span><i><span>when</span></i><span> and </span><i><span>how </span></i><span>you’ll learn is a way to continuously evolve your skills and knowledge.</span></p><p><span>Schedule in when you’ll learn with </span><a rel=\"noopener noreferrer\" href=\"https://todoist.com/\"><span>Todoist</span></a><span>, and add the steps of the Feynman Technique as tasks to master any subject.&nbsp;</span></p><p><b>Create a Todoist project for the “Branch of Study” you’re focusing on</b><span>. This could be any number of things like a broad field in the sciences, a particular self-development book, or a software tool you want to develop expert proficiency in.&nbsp;</span></p><p><b>Generate a list of tasks based on the topics you’ll learn</b><span>. Choose your topics and add them as Todoist tasks in the project you created in the previous step. If you know the topics you need to learn, for example if you have a syllabus or a table of contents for a book, add them as tasks all at once. If not, add individual topics as you go.</span></p><p><img sizes=\"(max-width: 1472px) 100vw, 1472px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1472x0,sGafMmhm-2sX1SsKYiXZ3329exD7xcRUoz9Bo3eRgZD0/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-3-1.png 1472w,https://proxy-prod.omnivore-image-cache.app/324x0,s3Wf-FrCUhFot4WS74MW77vSa4i0_m3OlwKJk-rMZrPU/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-3-1-324x200.png 324w,https://proxy-prod.omnivore-image-cache.app/648x0,s0vGwAna-xbkb3HaPSeppbaR-bAidD-y8mWXOq8BI3Ek/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-3-1-648x400.png 648w,https://proxy-prod.omnivore-image-cache.app/1002x0,s-V_v3ozujTvvas8TBmBtu4376sYY621ZTh2oKuNY_ck/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-3-1-1002x618.png 1002w,\" height=\"908\" width=\"1472\" alt=\"A screenshot of a Todoist project titled &quot;Learning: Game Theory&quot;\" src=\"https://proxy-prod.omnivore-image-cache.app/1472x908,sMT5bogJLs6OmK-Uz3gs1aqskA2rdODCLgtIvAaI7ZVA/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-3-1.png\" loading=\"lazy\"></p><p><b>For each task, add steps 2-4 of the Feynman Technique as subtasks. </b><span>Add “Teach it to myself or someone else”, “Return to the source material if I get stuck”, and “Simplify my explanations and create analogies” as subtasks to your main tasks. Add due dates to each subtask to keep the momentum going and create accountability in your learning process.</span></p><p><b>Use the comments to add relevant links, notes to self, and source material. </b><span>Tasks comments can be helpful to keep track of source materials, or jot down ideas and theories on the go before you transfer them to your notebook.&nbsp;</span></p><figure aria-describedby=\"caption-attachment-8856\" id=\"attachment_8856\"><img sizes=\"(max-width: 622px) 100vw, 622px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1244x0,sNL8g0p2fc2ckA6Q6P4oAsYtSBKlfbgjAW_CU2X0uaXw/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-4_resize-1.png 1244w,https://proxy-prod.omnivore-image-cache.app/272x0,s7HHcKULsj8O6H6etFPo9kb69ei_LNn-l3t8wInnpUPc/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-4_resize-1-272x200.png 272w,https://proxy-prod.omnivore-image-cache.app/543x0,sfGjerjGvZBLfXo8Af34oliNxGisATSF842hpbcNWZ-I/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-4_resize-1-543x400.png 543w,https://proxy-prod.omnivore-image-cache.app/839x0,sOy7Z-OR0vYt9a43vw_dCp_qE-20hVGQLucxaHOGvMLU/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-4_resize-1-839x618.png 839w,\" height=\"458\" width=\"622\" alt=\"Two screenshots of a Todoist task on an Iphone. One showing a task with sub-tasks, the other showing attachements aded to the comments of a task.\" src=\"https://proxy-prod.omnivore-image-cache.app/622x458,sNErx-mc8Zr_5w618VswL_m3t5i1HdNa6s65kfFTqBSU/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-4_resize-1.png\" loading=\"lazy\"><figcaption id=\"caption-attachment-8856\">Add notes and references to your <a href=\"https://get.todoist.help/hc/en-us/articles/211646489-Add-a-comment-or-file-to-a-task\">task comments</a></figcaption></figure><p>Product Tip: Keep your learning and education top of mind. Pin your Learning Projects as <a rel=\"noopener noreferrer\" href=\"https://blog.doist.com/introducing-todoist-favorites/\">Todoist Favorites</a> for easy access.</p><figure aria-describedby=\"caption-attachment-8857\" id=\"attachment_8857\"><img sizes=\"(max-width: 305px) 100vw, 305px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/610x0,s3cyzOMRGd9GWTkPW6qTJIRV7Ffo1A6rdOWMrhTyvtzo/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-5_resize-1.png 610w,https://proxy-prod.omnivore-image-cache.app/100x0,sGYTNb0i1O4D6N7ttZAqgtwpWHi-PmYRzt_mIYIEb1FM/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-5_resize-1-100x200.png 100w,https://proxy-prod.omnivore-image-cache.app/200x0,shlOPAdlu9Yl-nT5KN5eSX0I3qvaqT5ikwDYrCJus2oo/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-5_resize-1-200x400.png 200w,https://proxy-prod.omnivore-image-cache.app/310x0,s0bLtFBXJc0E_R7lX4Woi1h9IM58t6bqZ_hCQ8XtUYWk/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-5_resize-1-310x618.png 310w,\" height=\"609\" width=\"305\" alt=\"Screenshot of a Todoist favorites lists showing several projects about learning.\" src=\"https://proxy-prod.omnivore-image-cache.app/305x609,sVtT3FjYv7jNLWQRqr75JghFUYG15B3ntWFOOCtaSPD0/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2020/02/feynman-technique_graphic-5_resize-1.png\" loading=\"lazy\"><figcaption id=\"caption-attachment-8857\">Add all your learning projects to your <a rel=\"noopener noreferrer\" href=\"https://get.todoist.help/hc/en-us/articles/360000358065\">Todoist Favorites</a></figcaption></figure><p><span>By systemizing your learning in a task manager, you always have a digital space to look back on what you’ve learned and check-in on your progress. Instead of learning simply </span><i><span>happening</span></i><span> as a passive process, it can become a part of our regular routines.&nbsp;</span></p><hr><p><span>In Tyler Cowen’s </span><a rel=\"noopener noreferrer\" href=\"https://www.amazon.com/Average-Over-Powering-America-Stagnation/dp/0142181110/ref=sr_1_fkmr0_1?keywords=average+is+over+tyler&amp;qid=1580475409&amp;s=digital-text&amp;sr=8-1-fkmr0\"><i><span>Average is Over</span></i></a><span>, the renowned economist notes that technological advances are driving us towards a future of work where, “lacking the right training means being shut out of opportunities like never before.” In describing the role of education in future economies, Cowen argues that the person who finds success will increasingly be the one “who sits down and actually starts trying to master the material”.</span></p><p><span>Now, more than ever, it’s important to adopt the mindset of a life-long learner.</span></p><p><span>Learning new skills and information takes time and patience, but also humility. By starting with a blank page, you face what you don’t know head on. From there, you only need a pen, resources, and the willingness to explore to embark on an indefinite learning quest.&nbsp;</span></p></div><div><p><a href=\"https://blog.doist.com/by/fadeke-adegbuyi/\"> <img alt=\"Fadeke Adegbuyi\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sedM8NHIvIn4ppGHTKkOsBt683qtK3XFMh2i1YDOKmyQ/https://25r4fj22vjh18a4i91qamh06-wpengine.netdna-ssl.com/wp-content/uploads/2018/11/Fadeke-Adegbuyi-240x240.jpeg\"> </a></p><div><h2> <a href=\"https://blog.doist.com/by/fadeke-adegbuyi/\"> Fadeke Adegbuyi </a></h2><p><a rel=\"noopener\" href=\"https://twitter.com/fadeke_adegbuyi\">Fadeke</a> works on Marketing at Doist.&nbsp;She's passionate about telling stories of better ways to live and work. 😌</p></div></div></div></div>",
    "labels": "feynman"
  },
  {
    "description": "Proto.Actor Website",
    "title": "Proto.Actor",
    "content": "<div class=\"page\" id=\"readability-page-1\"><section>\n    <div>\n          <p><img height=\"120\" src=\"https://proxy-prod.omnivore-image-cache.app/0x120,s4JIt3lqDAzXeCSCdcUlkmhoykaXE-jVzaFb2CaMPCVE/https://proto.actor/assets/img/asynkron/protoactor-logo.png\"></p><p>Cross-platform actors for .NET and Go<br>\n          </p>\n        </div>\n    <div>\n        <div>\n            <h2>Actor Model</h2>\n            <p>The Actor Model provides a higher level of abstraction for writing concurrent and distributed\n              systems. It alleviates the developer from having to deal with explicit locking and thread management, making\n              it easier to write correct concurrent and parallel systems.</p>\n            <p><a href=\"https://proto.actor/docs/actors\"> Read More <svg data-src=\"/assets/img/icons/theme/code/right-circle.svg\" version=\"1.1\" viewBox=\"0 0 24 24\" height=\"24px\" width=\"24px\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\">\n      <title>Icon For Right-circle</title>\n      <g fill-rule=\"evenodd\" fill=\"none\" stroke-width=\"1\" stroke=\"none\">\n          <rect height=\"24\" width=\"24\" y=\"0\" x=\"0\" opacity=\"0\"></rect>\n          <circle r=\"10\" cy=\"12\" cx=\"12\" opacity=\"0.3\" fill=\"#000000\"></circle>\n          <path transform=\"translate(12.500001, 12.000001) rotate(-270.000000) translate(-12.500001, -12.000001)\" fill-rule=\"nonzero\" fill=\"#000000\" d=\"M7.96323356,15.1775211 C7.62849853,15.5122561 7.08578582,15.5122561 6.75105079,15.1775211 C6.41631576,14.842786 6.41631576,14.3000733 6.75105079,13.9653383 L11.8939067,8.82248234 C12.2184029,8.49798619 12.7409054,8.4866328 13.0791905,8.79672747 L18.2220465,13.5110121 C18.5710056,13.8308912 18.5945795,14.3730917 18.2747004,14.7220508 C17.9548212,15.0710098 17.4126207,15.0945838 17.0636617,14.7747046 L12.5257773,10.6149773 L7.96323356,15.1775211 Z\"></path>\n      </g>\n  </svg></a>\n          </p></div>\n        <p><img alt=\"Actor model\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,syE_S5kTU5Nn12bILmQS-YunYS2ggn4cPJV6A0fkNvfU/https://proto.actor/docs/images/actor-illustration.png\">\n        </p>\n      </div>\n    <div>\n        <p><img alt=\"Virtual actors in different servers\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sKfLHEr9Pg1N-6fWqqayzfhxvKRxBeWkDyLOi9eCEE0M/https://proto.actor/docs/images/grains-illustration.png\">\n        </p>\n        <div>\n            <h2>Grains / Virtual Actors</h2>\n            <p>Grain abstraction, which provides a <b>straightforward approach to building\n                distributed interactive applications</b>, without the need to learn complex programming patterns for\n              handling concurrency,\n              fault tolerance, and resource management.</p>\n            <p><a href=\"https://proto.actor/docs/cluster\"> Read More <svg data-src=\"/assets/img/icons/theme/code/right-circle.svg\" version=\"1.1\" viewBox=\"0 0 24 24\" height=\"24px\" width=\"24px\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\">\n      <title>Icon For Right-circle</title>\n      <g fill-rule=\"evenodd\" fill=\"none\" stroke-width=\"1\" stroke=\"none\">\n          <rect height=\"24\" width=\"24\" y=\"0\" x=\"0\" opacity=\"0\"></rect>\n          <circle r=\"10\" cy=\"12\" cx=\"12\" opacity=\"0.3\" fill=\"#000000\"></circle>\n          <path transform=\"translate(12.500001, 12.000001) rotate(-270.000000) translate(-12.500001, -12.000001)\" fill-rule=\"nonzero\" fill=\"#000000\" d=\"M7.96323356,15.1775211 C7.62849853,15.5122561 7.08578582,15.5122561 6.75105079,15.1775211 C6.41631576,14.842786 6.41631576,14.3000733 6.75105079,13.9653383 L11.8939067,8.82248234 C12.2184029,8.49798619 12.7409054,8.4866328 13.0791905,8.79672747 L18.2220465,13.5110121 C18.5710056,13.8308912 18.5945795,14.3730917 18.2747004,14.7220508 C17.9548212,15.0710098 17.4126207,15.0945838 17.0636617,14.7747046 L12.5257773,10.6149773 L7.96323356,15.1775211 Z\"></path>\n      </g>\n  </svg></a>\n          </p></div>\n      </div>\n    <div>\n        <div>\n            <h2>Stream Processing</h2>\n            <p>Proto.Actor is designed to <b>optimize for locality</b>, grains can <b>gradually migrate</b>\n              to cluster members from where it receives the most interactions.\n              This allows Proto.Actor to leverage in-process performance for realtime stream processing.\n            </p>\n            <p><a href=\"https://proto.actor/docs/local-affinity\"> Read More <svg data-src=\"/assets/img/icons/theme/code/right-circle.svg\" version=\"1.1\" viewBox=\"0 0 24 24\" height=\"24px\" width=\"24px\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\">\n      <title>Icon For Right-circle</title>\n      <g fill-rule=\"evenodd\" fill=\"none\" stroke-width=\"1\" stroke=\"none\">\n          <rect height=\"24\" width=\"24\" y=\"0\" x=\"0\" opacity=\"0\"></rect>\n          <circle r=\"10\" cy=\"12\" cx=\"12\" opacity=\"0.3\" fill=\"#000000\"></circle>\n          <path transform=\"translate(12.500001, 12.000001) rotate(-270.000000) translate(-12.500001, -12.000001)\" fill-rule=\"nonzero\" fill=\"#000000\" d=\"M7.96323356,15.1775211 C7.62849853,15.5122561 7.08578582,15.5122561 6.75105079,15.1775211 C6.41631576,14.842786 6.41631576,14.3000733 6.75105079,13.9653383 L11.8939067,8.82248234 C12.2184029,8.49798619 12.7409054,8.4866328 13.0791905,8.79672747 L18.2220465,13.5110121 C18.5710056,13.8308912 18.5945795,14.3730917 18.2747004,14.7220508 C17.9548212,15.0710098 17.4126207,15.0945838 17.0636617,14.7747046 L12.5257773,10.6149773 L7.96323356,15.1775211 Z\"></path>\n      </g>\n  </svg></a>\n          </p></div>\n        <p><img alt=\"Actor migrating to where its messages arrive\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,ssRtNSTayYkOeH8DMZEB_CQxY4hXsqnEhrCzrIc1mKMw/https://proto.actor/docs/images/stream-illustration.png\">\n        </p>\n      </div>\n    <div>\n        <p><img alt=\"Image\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sf-FaRCp_d0CHbvToEV6J7nNuxKzqUZlp9BLRIUz5kZs/https://proto.actor/docs/images/digitaltwins-illustration.png\">\n        </p>\n        <div>\n            <h2>Digital Twins</h2>\n            <p>\n              A digital twin is a virtual representation that serves as the real-time digital counterpart of a physical\n              object or process.\n              By leveraging Proto.Actors local affinity strategy, digital twins can react on external events in realtime.\n            </p>\n            <p><a href=\"https://proto.actor/docs/local-affinity\"> Read More <svg data-src=\"/assets/img/icons/theme/code/right-circle.svg\" version=\"1.1\" viewBox=\"0 0 24 24\" height=\"24px\" width=\"24px\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\">\n      <title>Icon For Right-circle</title>\n      <g fill-rule=\"evenodd\" fill=\"none\" stroke-width=\"1\" stroke=\"none\">\n          <rect height=\"24\" width=\"24\" y=\"0\" x=\"0\" opacity=\"0\"></rect>\n          <circle r=\"10\" cy=\"12\" cx=\"12\" opacity=\"0.3\" fill=\"#000000\"></circle>\n          <path transform=\"translate(12.500001, 12.000001) rotate(-270.000000) translate(-12.500001, -12.000001)\" fill-rule=\"nonzero\" fill=\"#000000\" d=\"M7.96323356,15.1775211 C7.62849853,15.5122561 7.08578582,15.5122561 6.75105079,15.1775211 C6.41631576,14.842786 6.41631576,14.3000733 6.75105079,13.9653383 L11.8939067,8.82248234 C12.2184029,8.49798619 12.7409054,8.4866328 13.0791905,8.79672747 L18.2220465,13.5110121 C18.5710056,13.8308912 18.5945795,14.3730917 18.2747004,14.7220508 C17.9548212,15.0710098 17.4126207,15.0945838 17.0636617,14.7747046 L12.5257773,10.6149773 L7.96323356,15.1775211 Z\"></path>\n      </g>\n  </svg></a>\n          </p></div>\n      </div>\n    <div>\n        <div>\n            <h2>Metrics and Tracing</h2>\n            <p>Observability is an essential feature for distributed systems. Every area of\n              Proto.Actor has been instrumented to allow users to extract runtime and\n              performance metrics.<br>\n              Dashboards for DataDog and Grafana are provided out of the box.\n            </p>\n            <p><a href=\"https://proto.actor/docs/metrics\"> Read More <svg data-src=\"/assets/img/icons/theme/code/right-circle.svg\" version=\"1.1\" viewBox=\"0 0 24 24\" height=\"24px\" width=\"24px\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\">\n      <title>Icon For Right-circle</title>\n      <g fill-rule=\"evenodd\" fill=\"none\" stroke-width=\"1\" stroke=\"none\">\n          <rect height=\"24\" width=\"24\" y=\"0\" x=\"0\" opacity=\"0\"></rect>\n          <circle r=\"10\" cy=\"12\" cx=\"12\" opacity=\"0.3\" fill=\"#000000\"></circle>\n          <path transform=\"translate(12.500001, 12.000001) rotate(-270.000000) translate(-12.500001, -12.000001)\" fill-rule=\"nonzero\" fill=\"#000000\" d=\"M7.96323356,15.1775211 C7.62849853,15.5122561 7.08578582,15.5122561 6.75105079,15.1775211 C6.41631576,14.842786 6.41631576,14.3000733 6.75105079,13.9653383 L11.8939067,8.82248234 C12.2184029,8.49798619 12.7409054,8.4866328 13.0791905,8.79672747 L18.2220465,13.5110121 C18.5710056,13.8308912 18.5945795,14.3730917 18.2747004,14.7220508 C17.9548212,15.0710098 17.4126207,15.0945838 17.0636617,14.7747046 L12.5257773,10.6149773 L7.96323356,15.1775211 Z\"></path>\n      </g>\n  </svg></a>\n          </p></div>\n        <p><img alt=\"Image\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sFt7pBjkZYOOXGSrmvfvmu5U_RbVYDYqdN1hQ1Cn8D7c/https://proto.actor/docs/images/metrics-illustration.png\">\n        </p>\n      </div>\n  </section></div>",
    "labels": "csharp"
  },
  {
    "description": "Of the growing list of WebAssembly capable programming languages, Go is one of our favorites. In this post, we build a real (but tiny) service with TinyGo.",
    "title": "Writing a WebAssembly Service in TinyGo for Wagi",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div> <article>   <p>Small is beautiful. In this post we create a tiny Spin service using the TinyGo compiler for the Go programming language.</p><p>On could fill a library with the “Hello World” examples in circulation today. When I set out to write this post, I decided to base it on a production service instead of a contrived example. In this blog post, we’ll look at a server for <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">favicon</span><span class=\"hljs-selector-class\">.ico</span></code> files. As simple as this little bit of code is, we actually run it at Fermyon.com, and have since the day we launched our website.</p><h2>The Environment: Spin and Wagi</h2><p><a href=\"https://www.fermyon.com/blog/introducing-spin\">Spin</a> is Fermyon’s WebAssembly framework. A wide variety of programming languages can be used to create Spin applications. The core requirement is that the language must be compiled to WebAssembly plus WASI. From there, Spin uses the Wagi protocol to exchange information between the Spin server and the WebAssembly guest code.</p><p><a href=\"https://github.com/deislabs/wagi/blob/main/docs/architecture.md\">Wagi</a> is a simple specification for how HTTP requests and responses can be encoded using WASI. Inspired by the old Common Gateway Interface (CGI) definition for web handling, Wagi (which stands for WebAssembly Gateway Interface) allows developers to write minimal applications in which HTTP information is conveyed via environment variables, and standard output (<code class=\"hljs language-ebnf language-julia\"><span class=\"hljs-attribute\">STDOUT</span></code>) is sent directly back to the web browser.</p><p>So for our little program, we will need no HTTP or server framework, no database, or even a network library at all. Everything will be done via file I/O.</p><p>Again, the program service discussed here in this post is the one we run in production on Fermyon.com. While we’re always evolving, at the time of this writing, Fermyon.com is powered by <a href=\"https://github.com/deislabs/hippo\">Hippo</a>, <a href=\"https://github.com/fermyon/spin\">Spin</a>, <a href=\"https://github.com/deislabs/bindle\">Bindle</a>, and the <a href=\"https://www.nomadproject.io/\">Nomad</a> scheduler.</p><h2>The Language: Go and TinyGo</h2><p>The <a href=\"https://www.fermyon.com/wasm-languages/webassembly-language-support\">list of programming languages that compile to WebAssembly</a> is growing. And one of our perennial favorites is <a href=\"https://www.fermyon.com/wasm-languages/go-lang\">Go</a>. Support for WebAssembly in Google’s version of Go is a little behind. But the <a href=\"https://tinygo.org/\">TinyGo project</a> has filled in with an excellent implementation that, as the name implies, compiles size-optimized Go binaries. While TinyGo supports dozens of target platforms, one of their primary compile targets is WebAssembly with the WASI extensions.</p><p>When we set out to write the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">wagi-favicon</span></code> server, we needed to get it done quickly. Go has great I/O libraries. So we felt it would support our minimalist approach to writing this service.</p><p>One word of warning, though: At the time of this writing, the smallest size for writing a Go program in Wasm seems to be about 300k. Some languages like <a href=\"https://www.fermyon.com/wasm-languages/grain\">Grain</a> and <a href=\"https://www.fermyon.com/wasm-languages/c-lang\">C</a> can be compiled to even smaller sizes. So if your primary concern is binary size, you might start there. But for us, 300-400k is well within our tolerance for an application size. Wagi on our cloud provider doesn’t even blink when executing such small modules.</p><p>For this project to work, you must have both <a href=\"https://tinygo.org/getting-started/install/\">Go and the TinyGo compiler installed</a> on your system.</p><h2>The Problem: Serving <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">favicon</span><span class=\"hljs-selector-class\">.ico</span></code> Files on Wagi</h2><p>We were only three days from launching the <a href=\"https://www.fermyon.com/blog/introducing-bartholomew\">Bartholomew</a>-based Fermyon.com website when we realized we had a problem: We were seeing <code class=\"hljs language-basic language-angelscript\"><span class=\"hljs-symbol\">404 </span><span class=\"hljs-keyword\">Not</span> Found</code> errors in our logs. We were not serving the industry-standard <a href=\"https://en.wikipedia.org/wiki/Favicon\">favicon.ico</a> file that is used to put a little icon in the browser’s location bar.</p><p>Wagi and the rest of the Fermyon Platform are built around the idea that we should think (and code) in terms of <a href=\"https://www.fermyon.com/blog/rethinking-microservices\">microservices</a> that each handle discrete tasks. Rather than add more code to Bartholomew to serve static <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.ico</span></code> files, if we are truly thinking in terms of microservices, we should write a service that handles this one discrete problem. After all, many other websites will need the same functionality, and there’s no reason they should have to install an entire CMS system just to serve out a single static image file.</p><p>So we decided to create a simple server that handles requests for <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">favicon</span><span class=\"hljs-selector-class\">.ico</span></code>, serving out our icon for each request.</p><h2>The Code: A 29-Line Web Service</h2><p>Our service is named <a href=\"https://github.com/fermyon/spin-favicon\">spin-favicon</a>. It consists of a single Go file, a directory to store our static image file, and a few supporting things like the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Makefile</span></code> and <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">LICENSE</span></code>. To test it out, we also included a <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">spin</span><span class=\"hljs-selector-class\">.toml</span></code>, which is a simple configuration file that Spin understands.</p><p>Our code is under 50 lines. Here it is in its entirety:</p><pre><code class=\"hljs language-go language-swift\"><span class=\"hljs-keyword\">package</span> main\n  \n  <span class=\"hljs-keyword\">import</span> (\n      <span class=\"hljs-string\">\"fmt\"</span>\n      <span class=\"hljs-string\">\"io\"</span>\n      <span class=\"hljs-string\">\"net/http\"</span>\n      <span class=\"hljs-string\">\"os\"</span>\n  \n      spin <span class=\"hljs-string\">\"github.com/fermyon/spin/sdk/go/http\"</span>\n  )\n  \n  <span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span></span> {\n      spin.HandleRequest(handle)\n  }\n  \n  <span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-title\">handle</span><span class=\"hljs-params\">(w http.ResponseWriter, r *http.Request)</span></span> {\n      filename := os.Getenv(<span class=\"hljs-string\">\"FAVICON_PATH\"</span>)\n      <span class=\"hljs-keyword\">if</span> filename == <span class=\"hljs-string\">\"\"</span> {\n          filename = <span class=\"hljs-string\">\"/favicon.ico\"</span>\n      }\n      mediaType := <span class=\"hljs-string\">\"image/vnd.microsoft.icon\"</span>\n  \n      <span class=\"hljs-comment\">// Open the file at /favicon and print it.</span>\n      <span class=\"hljs-keyword\">var</span> input, err = os.Open(filename)\n      <span class=\"hljs-keyword\">if</span> err != <span class=\"hljs-literal\">nil</span> {\n          fmt.Fprintf(os.Stderr, <span class=\"hljs-string\">\"Error opening file %s: %s\n\"</span>, filename, err)\n          send404(w)\n          <span class=\"hljs-keyword\">return</span>\n      }\n  \n      w.Header().Add(<span class=\"hljs-string\">\"content-type\"</span>, mediaType)\n      <span class=\"hljs-keyword\">if</span> _, e := io.Copy(w, input); e != <span class=\"hljs-literal\">nil</span> {\n          fmt.Fprintf(os.Stderr, <span class=\"hljs-string\">\"Error writing file %s: %s\n\"</span>, filename, e)\n      }\n  }\n  \n  <span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-title\">send404</span><span class=\"hljs-params\">(w http.ResponseWriter)</span></span> {\n      w.WriteHeader(http.StatusNotFound)\n      w.Header().Add(<span class=\"hljs-string\">\"content-type\"</span>, <span class=\"hljs-string\">\"text/plain\"</span>)\n      w.Write([]<span class=\"hljs-keyword\">byte</span>(<span class=\"hljs-string\">\"Not Found\"</span>))\n  }\n  </code></pre><p>That is the entire service. In a moment we will go through the code in more detail, but first we need to make sure we import the right helper library. The <code class=\"hljs language-maxima language-vim\"><span class=\"hljs-built_in\">go</span>.<span class=\"hljs-built_in\">mod</span></code> file for this code looks like this:</p><pre><code class=\"hljs language-vim language-angelscript\">module github.<span class=\"hljs-keyword\">com</span>/fermyon/spin-favicon\n  \n  <span class=\"hljs-keyword\">go</span> <span class=\"hljs-number\">1.17</span>\n  \n  require github.<span class=\"hljs-keyword\">com</span>/fermyon/spin/sdk/<span class=\"hljs-keyword\">go</span> v0.<span class=\"hljs-number\">1.0</span>\n  </code></pre><p>(Note that the Spin SDK is a nice wrapper around the Wagi protocol.)</p><h3>Using <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span></span></code> to Register an HTTP Handler</h3><p>Go programmers are familiar with the fact that a Go program starts by invoking the <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span></span></code> function. Spin programs are no different. In this case, our <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span></span></code> function has a very simple job: Tell Spin what function to execute when a request comes in:</p><pre><code class=\"hljs language-autoit language-go\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span> {</span>\n      spin.HandleRequest(handle)\n  }\n  </code></pre><p>That tells Spin to use a function named <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">handle</span><span class=\"hljs-params\">()</span></span></code>. Let’s look at that function.</p><h3>Loading an Environment Variable</h3><p>The first few lines of the <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">handle</span><span class=\"hljs-params\">()</span></span></code> function load an environment variable. In Spin, configuration directives can be passed as environment variables. This is a useful way to allow an operations team to set or override a values. In our case, our production instance of spin-favicon stores files in a different location than the default, so the environment variable allows the default favicon path to be overridden.</p><p>The environment variable we care about is <code class=\"hljs language-undefined\">FAVICON_PATH</code>. If it is set, we want to use it as the path to our <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">favicon</span><span class=\"hljs-selector-class\">.ico</span></code> file. If it is not set, then we fall back to a default path of <code class=\"hljs language-jboss-cli\"><span class=\"hljs-string\">/favicon.ico</span></code>.</p><pre><code class=\"hljs language-makefile language-sas\">filename := os.Getenv(<span class=\"hljs-string\">\"FAVICON_PATH\"</span>)\n  if filename == <span class=\"hljs-string\">\"\"</span> {\n      filename = <span class=\"hljs-string\">\"/favicon.ico\"</span>\n  }\n  mediaType := <span class=\"hljs-string\">\"image/vnd.microsoft.icon\"</span>\n  </code></pre><p>Note that we also set the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">mediaType</span></code> (a.k.a content-type or MIME type) here. (The reason for this is a little odd: We found conflicting documentation about what the correct media type was. In the end, this one seems correct. But we wanted to make it easy to locate in case it needed to be changed later.)</p><p>Now that we know what file to look for, we can open it.</p><h3>File I/O and Early Error Handling</h3><p>We now have the full name of the file that holds our favicon. The <code class=\"hljs language-ebnf language-sas\"><span class=\"hljs-attribute\">filename</span></code> variable has either been overridden or is <code class=\"hljs language-jboss-cli\"><span class=\"hljs-string\">/favicon.ico</span></code>. Now it’s time to load the file.</p><pre><code class=\"hljs language-stata language-reasonml\"><span class=\"hljs-comment\">// Open the file at /favicon and print it.</span>\n  <span class=\"hljs-keyword\">var</span> <span class=\"hljs-keyword\">input</span>, <span class=\"hljs-keyword\">err</span> = os.<span class=\"hljs-keyword\">Open</span>(filename)\n  <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">err</span> != nil {\n      fmt.Fprintf(os.Stderr, <span class=\"hljs-string\">\"Error opening file %s: %s\n\"</span>, filename, <span class=\"hljs-keyword\">err</span>)\n      send404(w)\n      <span class=\"hljs-keyword\">return</span>\n  }\n  </code></pre><p>Opening a file is an occasion for an error. So we do this as soon as possible. If it opens successfully, then <code class=\"hljs language-ebnf language-hsp\"><span class=\"hljs-attribute\">input</span></code> is a file handle to our data. But if there is an error, we detect it before we’ve sent any other output to the client. If opening fails, we can log an error and exit.</p><h3>Sending an error response</h3><p>Taking a quick detour from <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">handle</span><span class=\"hljs-params\">()</span></span></code>, the <code class=\"hljs language-stylus language-gcode\"><span class=\"hljs-function\"><span class=\"hljs-title\">send404</span><span class=\"hljs-params\">()</span></span></code> function looks like this:</p><pre><code class=\"hljs language-reasonml language-less\">func send404(w http.ResponseWriter) {\n      w.<span class=\"hljs-constructor\">WriteHeader(<span class=\"hljs-params\">http</span>.StatusNotFound)</span>\n      w.<span class=\"hljs-constructor\">Header()</span>.<span class=\"hljs-constructor\">Add(<span class=\"hljs-string\">\"content-type\"</span>, <span class=\"hljs-string\">\"text/plain\"</span>)</span>\n      w.<span class=\"hljs-constructor\">Write([]<span class=\"hljs-params\">byte</span>(<span class=\"hljs-string\">\"Not Found\"</span>)</span>)\n  }\n  </code></pre><p>This convenience function takes the HTTP response object and sends the following three pieces of information:</p><ul><li>The status code is set to <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">StatusNotFound</span></code> (a.k.a. <code class=\"hljs language-basic language-angelscript\"><span class=\"hljs-symbol\">404 </span><span class=\"hljs-keyword\">Not</span> Found</code>)</li><li>The content type is set to <code class=\"hljs language-applescript language-arduino\"><span class=\"hljs-built_in\">text</span>/plain</code></li><li>The body is set to the plain text string <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">Not Found</span></code></li></ul><p>Once the <code class=\"hljs language-cos language-crmsh\"><span class=\"hljs-keyword\">w</span>.<span class=\"hljs-keyword\">Write</span>()</code> function is called, the data is sent back to the client.</p><p>That’s all there is to error handling in Spin.</p><blockquote><blockquote><p>It would also have been appropriate to send a <code class=\"hljs language-basic language-routeros\"><span class=\"hljs-symbol\">500 </span>Internal Server <span class=\"hljs-keyword\">Error</span></code> message here. We felt that 404 indicated that the server currently did not have a favicon available, and that did indeed capture our intent.</p></blockquote></blockquote><p>Finally, after sending the body, we <code class=\"hljs language-kotlin language-actionscript\"><span class=\"hljs-keyword\">return</span></code> early to stop processing.</p><p>That’s the error case. But if there was no error, then <code class=\"hljs language-ebnf language-hsp\"><span class=\"hljs-attribute\">input</span></code> now has a file. Let’s see how the server handles sending that data back to the browser.</p><h3>Sending the File Content</h3><p>Sending the file content is the easiest part of this job. We only need to do two things:</p><ul><li>Tell the client what type of content we are sending</li><li>Send the content</li></ul><pre><code class=\"hljs language-dockerfile language-lua\">w.Header().<span class=\"hljs-keyword\">Add</span><span class=\"bash\">(<span class=\"hljs-string\">\"content-type\"</span>, mediaType)</span>\n  if _, e := io.<span class=\"hljs-keyword\">Copy</span><span class=\"bash\">(w, input); e != nil {</span>\n      fmt.Fprintf(os.Stderr, <span class=\"hljs-string\">\"Error writing file %s: %s\n\"</span>, filename, e)\n  }\n  </code></pre><p>Earlier, we create the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">mediaType</span></code> variable to store the correct media type (<code class=\"hljs language-stylus language-arduino\">image/vnd<span class=\"hljs-selector-class\">.microsoft</span>.<span class=\"hljs-attribute\">icon</span></code>). We use <code class=\"hljs language-css language-dockerfile\"><span class=\"hljs-selector-tag\">w</span><span class=\"hljs-selector-class\">.Header</span>()<span class=\"hljs-selector-class\">.Add</span>()</code> to add the content type header. That’s step 1. Now all we need to do is copy our Favicon image to the response. Using <code class=\"hljs language-dockerfile language-css\">io.<span class=\"hljs-keyword\">Copy</span><span class=\"bash\">()</span></code>, we send the data straight from the file (<code class=\"hljs language-ebnf language-hsp\"><span class=\"hljs-attribute\">input</span></code>) to the response (<code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">w</span></code>).</p><p>But what happens if our <code class=\"hljs language-dockerfile language-css\">io.<span class=\"hljs-keyword\">Copy</span><span class=\"bash\">()</span></code> step fails? For example, the <code class=\"hljs language-ebnf language-hsp\"><span class=\"hljs-attribute\">input</span></code> file may become unavailable or the remote client may close its connection, which closes <code class=\"hljs language-css language-lua\"><span class=\"hljs-selector-tag\">os</span><span class=\"hljs-selector-class\">.Stdout</span></code>.</p><p>Here we are in a bit of a conundrum, because we have definitely already sent the headers. So we can’t pivot and send a <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">404</span></code> or a <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">500</span></code>. And there is a good chance that the reason for the failure is that <code class=\"hljs language-css language-lua\"><span class=\"hljs-selector-tag\">os</span><span class=\"hljs-selector-class\">.Stdout</span></code> is disconnected. Besides that, we’re sending image data. It doesn’t make sense to try to send a text error message if our copy fails midway through. So we’re left with a dull way of handling the error: Log it.</p><pre><code class=\"hljs language-reasonml language-perl\">fmt.<span class=\"hljs-constructor\">Fprintf(<span class=\"hljs-params\">os</span>.Stderr, <span class=\"hljs-string\">\"Error writing file %s: %s\n\"</span>, <span class=\"hljs-params\">filename</span>, <span class=\"hljs-params\">e</span>)</span>\n  </code></pre><p>Logging to <code class=\"hljs language-css language-lua\"><span class=\"hljs-selector-tag\">os</span><span class=\"hljs-selector-class\">.Stderr</span></code> will result in Spin writing this message to the application’s specific log file. Now all we need to do is compile.</p><h2>Compiling with TinyGo</h2><p>With a normal Go program, we’d compile with <code class=\"hljs language-ebnf language-go\"><span class=\"hljs-attribute\">go build</span></code>. However, since Go does not currently compile to Wasm32-WASI, we need to use the TinyGo compiler. Fortunately, it behaves the same as the regular Go compiler.</p><p>When you’re ready to compile, use TinyGo to build a WebAssembly + WASI binary:</p><pre><code class=\"hljs language-stylus language-armasm\">$ tinygo build -o favicon<span class=\"hljs-selector-class\">.wasm</span> -target wasi main<span class=\"hljs-selector-class\">.go</span>\n  </code></pre><p>The above will create a file named <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">favicon</span><span class=\"hljs-selector-class\">.wasm</span></code>. This is the binary that Spin will execute.</p><blockquote><blockquote><p>Setting <code class=\"hljs language-aspectj language-cmake\">-<span class=\"hljs-keyword\">target</span> wasi</code> is the way we tell TinyGo to build for Wasm32-WASI. Do not set it to <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">wasm</span></code> or it will compile for the browser.</p></blockquote></blockquote><h2>Running The Server</h2><p>To test locally, we need the <a href=\"https://spin.fermyon.dev/quickstart/\">Spin binary</a>. Install whatever is the latest version.</p><p>Next we need to define a <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">spin</span><span class=\"hljs-selector-class\">.toml</span></code> file to tell Spin how to load our new favicon service:</p><pre><code class=\"hljs language-routeros language-ini\">spin_version = <span class=\"hljs-string\">\"1\"</span>\n  authors = [<span class=\"hljs-string\">\"Fermyon Engineering &lt;engineering@fermyon.com&gt;\"</span>]\n  description = <span class=\"hljs-string\">\"A Favicon server written in (Tiny)Go\"</span>\n  name = <span class=\"hljs-string\">\"spin-favicon\"</span>\n  trigger = {<span class=\"hljs-built_in\"> type </span>= <span class=\"hljs-string\">\"http\"</span>, base = <span class=\"hljs-string\">\"/\"</span> }\n  version = <span class=\"hljs-string\">\"1.0.0\"</span>\n  \n  [[component]]\n  id = <span class=\"hljs-string\">\"favicon\"</span>\n  source = <span class=\"hljs-string\">\"favicon.wasm\"</span>\n  files = [<span class=\"hljs-string\">\"favicon.ico\"</span>]\n  [component.trigger]<span class=\"hljs-built_in\">\n  route </span>= <span class=\"hljs-string\">\"/favicon.ico\"</span>\n  executor = {<span class=\"hljs-built_in\"> type </span>= <span class=\"hljs-string\">\"wagi\"</span> }\n  </code></pre><p>The first section (before <code class=\"hljs language-lua language-json\"><span class=\"hljs-string\">[[component]]</span></code>), tells Spin about the application. The most important line is this one:</p><pre><code class=\"hljs language-routeros language-fsharp\">trigger = {<span class=\"hljs-built_in\"> type </span>= <span class=\"hljs-string\">\"http\"</span>, base = <span class=\"hljs-string\">\"/\"</span> }\n  </code></pre><p>This effectively tells Spin to start an HTTP server listening at the path <code class=\"hljs language-undefined\">/</code>.</p><p>Next, the <code class=\"hljs language-lua language-json\"><span class=\"hljs-string\">[[component]]</span></code> section tells Spin all about our module.</p><ul><li><code class=\"hljs language-applescript language-ebnf\"><span class=\"hljs-built_in\">id</span></code> is a string, unique to this file, that names our component</li><li><code class=\"hljs language-bash language-ebnf\"><span class=\"hljs-built_in\">source</span></code> is the path to the <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.wasm</span></code> file that Spin should run (<code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">favicon</span><span class=\"hljs-selector-class\">.wasm</span></code> in our case)</li><li><code class=\"hljs language-ebnf language-gams\"><span class=\"hljs-attribute\">files</span></code> is a list of files that should be copied out of our local filesystem and into Spin’s pseudo-filesystem. In our case, we copy a list with only one member: <code class=\"hljs language-json language-clojure\">[<span class=\"hljs-string\">\"favicon.ico\"</span>]</code></li><li>The <code class=\"hljs language-json language-scheme\">[component.trigger]</code> section defines how Spin should map a request to an invocation of the <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.wasm</span></code> file<ul><li><code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">route</span></code> says that any request to <code class=\"hljs language-jboss-cli\"><span class=\"hljs-string\">/favicon.ico</span></code> should be handled by this <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.wasm</span></code> module.</li><li><code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">executor</span></code> tells Spin that the module should be executed as a Wagi module. (Spin can execute in different ways, but right now Wagi is the most common for everything but <a href=\"https://spin.fermyon.dev/rust-components/\">Rust programs</a>)</li></ul></li></ul><p>While this is a quick look at the <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">spin</span><span class=\"hljs-selector-class\">.toml</span></code>, the entire file format is <a href=\"https://spin.fermyon.dev/configuration/\">well documented</a>.</p><p>Next, we can start Spin.</p><pre><code class=\"hljs language-jboss-cli language-livecodeserver\"><span class=\"hljs-comment\"># Change into the correct directory where the `spin.toml` file is located</span>\n  $ <span class=\"hljs-keyword\">cd</span> spin-favicon\n  <span class=\"hljs-comment\"># Start the server</span>\n  $ spin up\n  Serving HTTP on address http:<span class=\"hljs-string\">//127.0.0.1</span><span class=\"hljs-function\">:3000</span>\n  </code></pre><p>When <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">spin up</span></code> starts, it will print the URL of the webserver. We can add <code class=\"hljs language-jboss-cli\"><span class=\"hljs-string\">/favicon.ico</span></code> and test it out using Curl.</p><pre><code class=\"hljs language-vim language-angelscript\">$ curl -v localhos<span class=\"hljs-variable\">t:3000</span>/favicon.ico           \n  *   Trying <span class=\"hljs-number\">127.0</span>.<span class=\"hljs-number\">0.1</span>:<span class=\"hljs-number\">3000</span>...\n  * Connected <span class=\"hljs-keyword\">to</span> localhost (<span class=\"hljs-number\">127.0</span>.<span class=\"hljs-number\">0.1</span>) port <span class=\"hljs-number\">3000</span> (#<span class=\"hljs-number\">0</span>)\n  &gt; GET /favicon.ico HTTP/<span class=\"hljs-number\">1.1</span>\n  &gt; Hos<span class=\"hljs-variable\">t:</span> localhos<span class=\"hljs-variable\">t:3000</span>\n  &gt; User-Agen<span class=\"hljs-variable\">t:</span> curl/<span class=\"hljs-number\">7.77</span>.<span class=\"hljs-number\">0</span>\n  &gt; Accep<span class=\"hljs-variable\">t:</span> */*\n  &gt; \n  * Mark bundle <span class=\"hljs-keyword\">as</span> not supporting multiuse\n  &lt; HTTP/<span class=\"hljs-number\">1.1</span> <span class=\"hljs-number\">200</span> OK\n  &lt; content-<span class=\"hljs-built_in\">type</span>: image/vnd.microsoft.icon\n  &lt; content-length: <span class=\"hljs-number\">15086</span>\n  &lt; date: Sat, <span class=\"hljs-number\">12</span> Feb <span class=\"hljs-number\">2022</span> <span class=\"hljs-number\">20</span>:<span class=\"hljs-number\">44</span>:<span class=\"hljs-number\">30</span> GMT\n  &lt; \n  Warnin<span class=\"hljs-variable\">g:</span> Binary output can mess <span class=\"hljs-keyword\">up</span> your terminal. Use <span class=\"hljs-string\">\"--output -\"</span> <span class=\"hljs-keyword\">to</span> tell \n  Warnin<span class=\"hljs-variable\">g:</span> curl <span class=\"hljs-keyword\">to</span> output it <span class=\"hljs-keyword\">to</span> your terminal anyway, <span class=\"hljs-built_in\">or</span> consider <span class=\"hljs-comment\">\"--output </span>\n  Warnin<span class=\"hljs-variable\">g:</span> <span class=\"hljs-symbol\">&lt;FILE&gt;</span><span class=\"hljs-comment\">\" to save to a file.</span>\n  * Failure writing output <span class=\"hljs-keyword\">to</span> destination\n  * Closing connection <span class=\"hljs-number\">0</span>\n  </code></pre><p>Above, we can see that we successfully fetched the <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">favicon</span><span class=\"hljs-selector-class\">.ico</span></code>. Now, we could restart the server setting <code class=\"hljs language-undefined\">FAVICON_PATH</code> and see the error case:</p><pre><code class=\"hljs language-gams language-vim\"><span class=\"hljs-symbol\">$</span> spin up -e FAVICON_PATH=/<span class=\"hljs-keyword\">no</span>/such/<span class=\"hljs-keyword\">file</span>.ico\n  </code></pre><p>Now we should see a 404 if we run <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">curl</span></code>:</p><pre><code class=\"hljs language-angelscript language-vim\">*   Trying <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span>:<span class=\"hljs-number\">3000.</span>..\n  * Connected to localhost (<span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span>) port <span class=\"hljs-number\">3000</span> (#<span class=\"hljs-number\">0</span>)\n  &gt; GET /favicon.ico HTTP/<span class=\"hljs-number\">1.1</span>\n  &gt; Host: localhost:<span class=\"hljs-number\">3000</span>\n  &gt; User-Agent: curl/<span class=\"hljs-number\">7.77</span><span class=\"hljs-number\">.0</span>\n  &gt; Accept: *<span class=\"hljs-comment\">/*\n  &gt; \n  * Mark bundle as not supporting multiuse\n  &lt; HTTP/1.1 404 Not Found\n  &lt; content-type: text/plain\n  &lt; content-length: 15\n  &lt; date: Sat, 12 Feb 2022 20:46:23 GMT\n  &lt; \n  File not found\n  * Connection #0 to host localhost left intact\n  </span></code></pre><p>And there we have it! A <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">favicon</span><span class=\"hljs-selector-class\">.ico</span></code> server in less than 50 lines of Go code.</p><h2>Conclusion</h2><p>Go is a great language to write WebAssembly code, though right now we recommend using the TinyGo compiler. In this post, we skipped the usual “Hello World” and went straight to a small but useful service. We walked through the mechanics of creating a Wagi service, and then tested it out. This is an early glimpse at how we here at Fermyon are running our own services, including this website. And if Go isn’t your thing, check out the status of <a href=\"https://www.fermyon.com/wasm-languages/webassembly-language-support\">WebAssembly support for 20+ programming languages</a>.</p> </article> </div></div>",
    "labels": "wasm"
  },
  {
    "description": "As we saw in my previous post, there are three ways to cast safely in C# 7. In this post, I micro-benchmark the three methods of safe casting and dive into the IL to understand the differences.",
    "title": "C# 7: Micro-Benchmarking the Three Ways to Cast Safely",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n  \n  \n  \n  \n  \n    \n  \n  \n  <div>\n    <p>As we saw in my previous post, there are <a href=\"https://www.danielcrabtree.com/blog/152/c-sharp-7-is-operator-patterns-you-wont-need-as-as-often\">three ways to cast safely</a> in C# 7. In this post, I micro-benchmark the three methods of safe casting and dive into the IL to understand the differences.</p>\n  <p>The three methods of safe casting (from my <a href=\"https://www.danielcrabtree.com/blog/152/c-sharp-7-is-operator-patterns-you-wont-need-as-as-often\">previous post</a>) are:</p>\n  <ul>\n  <li><code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> (Safe Casting with <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code>)\n  <ul>\n  <li>Convert with <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code>, then compare to null</li>\n  </ul>\n  </li>\n  <li>Classic <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> (Safe Casting with <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code>)\n  <ul>\n  <li>Check with <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code>, then use the cast operator explicitly</li>\n  </ul>\n  </li>\n  <li>Modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> (Safe Casting with <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> and type patterns)\n  <ul>\n  <li>Convert with <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> using C# 7's type patterns</li>\n  </ul>\n  </li>\n  </ul>\n  <p>Last time I mentioned that a problem with classic <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> is that <code class=\"hljs language-ebnf language-hsp\"><span class=\"hljs-attribute\">input</span></code> was accessed twice and that this was avoided in <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> and modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code>. Once it's compiled in release mode and optimized, is there any difference in performance? Does this difference manifest itself in the bytecode? Is there any difference between <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> and modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code>? These are the questions I'll investigate and answer in this post.</p>\n  <h2>TL;DR</h2>\n  <p>The performance of modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> and <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> are practically identical, but they're about twice as fast as classic <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code>.</p>\n  <p>Modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> <em>might</em> have a razor thin performance edge over <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code>.</p>\n  <h2>Benchmark Code</h2>\n  <p>To compare the performance of the three methods, I wrote some simple code for the methods and a baseline. The baseline includes all the common operations that are included with each method: a comparison and a method call. This allows us to separate the cost of the boilerplate code from the safe casting operations we want to benchmark.</p>\n  <p>If you want to repeat my experiments for yourself, here is the code for the entire program:</p>\n  <pre><code class=\"hljs language-cs language-arduino\"><span class=\"hljs-keyword\">using</span> BenchmarkDotNet.Attributes;\n  <span class=\"hljs-keyword\">using</span> BenchmarkDotNet.Running;\n  \n  <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title\">Experiments</span>\n  {\n      <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Casting</span>\n      {\n          <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">readonly</span> <span class=\"hljs-keyword\">object</span> input = <span class=\"hljs-string\">\"woof\"</span>;\n          <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">readonly</span> <span class=\"hljs-keyword\">string</span> input2 = <span class=\"hljs-string\">\"woof\"</span>;\n  \n          [<span class=\"hljs-meta\">Benchmark</span>]\n          <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">As</span>(<span class=\"hljs-params\"></span>)</span>\n          {\n              <span class=\"hljs-keyword\">string</span> text = input <span class=\"hljs-keyword\">as</span> <span class=\"hljs-keyword\">string</span>;\n              <span class=\"hljs-keyword\">if</span>(text != <span class=\"hljs-literal\">null</span>)\n              {\n                  <span class=\"hljs-keyword\">return</span> text.Length;\n              }\n  \n              <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n          }\n  \n          [<span class=\"hljs-meta\">Benchmark</span>]\n          <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">ClassicIs</span>(<span class=\"hljs-params\"></span>)</span>\n          {\n              <span class=\"hljs-keyword\">if</span>(input <span class=\"hljs-keyword\">is</span> <span class=\"hljs-keyword\">string</span>)\n              {\n                  <span class=\"hljs-keyword\">string</span> text = (<span class=\"hljs-keyword\">string</span>)input;\n                  <span class=\"hljs-keyword\">return</span> text.Length;\n              }\n  \n              <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n          }\n  \n          [<span class=\"hljs-meta\">Benchmark</span>]\n          <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">ModernIs</span>(<span class=\"hljs-params\"></span>)</span>\n          {\n              <span class=\"hljs-keyword\">if</span>(input <span class=\"hljs-keyword\">is</span> <span class=\"hljs-keyword\">string</span> text)\n              {\n                  <span class=\"hljs-keyword\">return</span> text.Length;\n              }\n  \n              <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n          }\n  \n          [<span class=\"hljs-meta\">Benchmark</span>]\n          <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">Baseline</span>(<span class=\"hljs-params\"></span>)</span>\n          {\n              <span class=\"hljs-keyword\">if</span>(input2 != <span class=\"hljs-literal\">null</span>)\n                  <span class=\"hljs-keyword\">return</span> input2.Length;\n  \n              <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n          }\n      }\n  \n      <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Program</span>\n      {\n          <span class=\"hljs-function\"><span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">Main</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">string</span>[] args</span>)</span>\n          {\n              BenchmarkRunner.Run&lt;Casting&gt;();\n          }\n      }\n  }\n  </code></pre>\n  <h2>Benchmark Results</h2>\n  <p>To run the benchmark, I used <a href=\"https://github.com/dotnet/BenchmarkDotNet\">BenchmarkDotNet</a>. This is a great library that is simple to use. It takes care of all the nitty gritty of running a benchmark properly and even calculates statistics to help you analyze the results.</p>\n  <p>You can use BenchmarkDotNet in three easy steps:</p>\n  <ol>\n  <li>Add BenchmarkDotNet to your project using NuGet.</li>\n  <li>Add <code class=\"hljs language-json language-scheme\">[Benchmark]</code> attributes to the methods you want to benchmark.</li>\n  <li>Run the benchmark using <code class=\"hljs language-dockerfile language-xml\">BenchmarkRunner.<span class=\"hljs-keyword\">Run</span><span class=\"bash\">&lt;ClassName&gt;()</span></code>.</li>\n  </ol>\n  <p>Here are the results for the different safe casting methods:</p>\n  <pre><code class=\"hljs language-angelscript language-gherkin\">BenchmarkDotNet=v0<span class=\"hljs-number\">.10</span><span class=\"hljs-number\">.3</span><span class=\"hljs-number\">.0</span>, OS=Microsoft Windows NT <span class=\"hljs-number\">6.2</span><span class=\"hljs-number\">.9200</span><span class=\"hljs-number\">.0</span>\n  Processor=Intel(R) Core(TM) i7 CPU <span class=\"hljs-number\">970</span> <span class=\"hljs-number\">3.20</span>GHz, ProcessorCount=<span class=\"hljs-number\">12</span>\n  Frequency=<span class=\"hljs-number\">3128910</span> Hz, Resolution=<span class=\"hljs-number\">319.6001</span> ns, Timer=TSC\n    [Host]     : Clr <span class=\"hljs-number\">4.0</span><span class=\"hljs-number\">.30319</span><span class=\"hljs-number\">.42000</span>, <span class=\"hljs-number\">64</span>bit RyuJIT-v4<span class=\"hljs-number\">.6</span><span class=\"hljs-number\">.1637</span><span class=\"hljs-number\">.0</span>\n    DefaultJob : Clr <span class=\"hljs-number\">4.0</span><span class=\"hljs-number\">.30319</span><span class=\"hljs-number\">.42000</span>, <span class=\"hljs-number\">64</span>bit RyuJIT-v4<span class=\"hljs-number\">.6</span><span class=\"hljs-number\">.1637</span><span class=\"hljs-number\">.0</span>\n  \n      Method |      Mean |    StdDev |\n  ---------- |---------- |---------- |\n   ClassicIs | <span class=\"hljs-number\">2.0814</span> ns | <span class=\"hljs-number\">0.0006</span> ns |\n    ModernIs | <span class=\"hljs-number\">0.9003</span> ns | <span class=\"hljs-number\">0.0004</span> ns |\n          As | <span class=\"hljs-number\">0.9081</span> ns | <span class=\"hljs-number\">0.0107</span> ns |\n    Baseline | <span class=\"hljs-number\">0.1127</span> ns | <span class=\"hljs-number\">0.0002</span> ns |\n  </code></pre>\n  <p>From these results, we see that modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> and <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> are nearly identical and that they're about twice as fast as classic <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code>. So, feel free to cast safely using <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> with type patterns, there is no performance penalty for its succinct syntax.</p>\n  <h2>IL Code Analysis and Comparison</h2>\n  <p><a href=\"https://twitter.com/mstodd66\">Mark Stoddard</a> asked that I compare the bytecode for the different methods. So, we'll now use <a href=\"http://ilspy.net/\">ILSpy</a> to look at what differences exist between the three approaches to safe casting at the IL code level.</p>\n  <p>Here are the lines of bytecode that are unique to each of the three safe casting methods. The remaining code is boilerplate that is shared by all three methods and the baseline method. You can find the full IL code for each method in the appendix at the end of this post.</p>\n  <pre><code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-section\">As\n  -----------</span>\n  IL<span class=\"hljs-emphasis\">_0001: isinst [mscorlib]System.String\n  IL_</span>0006: stloc.0\n  IL<span class=\"hljs-emphasis\">_0007: ldloc.0\n  \n  </span><span class=\"hljs-section\">Classic Is\n  -----------</span>\n  IL<span class=\"hljs-emphasis\">_0001: isinst [mscorlib]System.String\n  IL_</span>0009: castclass [mscorlib]System.String\n  \n  <span class=\"hljs-section\">Modern Is\n  -----------</span>\n  IL<span class=\"hljs-emphasis\">_0001: isinst [mscorlib]System.String\n  IL_</span>0006: dup\n  IL<span class=\"hljs-emphasis\">_0007: stloc.0\n  </span></code></pre>\n  <p>The first thing we notice is that all three methods use <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">isinst</span></code> to check the type. The difference is in what they do with the result of calling <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">isinst</span></code>, which returns either null or a cast instance of the variable on the top of the stack. <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> and modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> store this result using <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">stloc</span></code>, but classic <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> throws this result away. Therefore, classic <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> needs an expensive call to <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">castclass</span></code> that the other methods do not. Which is why classic <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> is much more expensive than the rest.</p>\n  <p><code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> and modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> are almost identical. <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> stores the result using <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">stloc</span></code> and then loads it back onto the stack using <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">ldloc</span></code> ready for the branch. Whereas modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> uses <code class=\"hljs language-ebnf language-hsp\"><span class=\"hljs-attribute\">dup</span></code> to duplicate the result on the stack and then stores the result using <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">stloc</span></code>, which leaves the duplicated result on the stack ready for the branch. So the only difference is that <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> uses <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">ldloc</span></code> to get a value onto the stack and modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> uses <code class=\"hljs language-ebnf language-hsp\"><span class=\"hljs-attribute\">dup</span></code>.</p>\n  <h2>Why does Modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> use <code class=\"hljs language-ebnf language-hsp\"><span class=\"hljs-attribute\">dup</span></code> in place of <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">ldloc</span></code>?</h2>\n  <p>You might wonder if there is any reason at all for the difference between <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> and modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> as they are equivalent and their performance is nearly identical. Well, it seems that, as you might imagine, <code class=\"hljs language-ebnf language-hsp\"><span class=\"hljs-attribute\">dup</span></code>, duplicating the value on the top of the stack, is ever so slightly faster than <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">ldloc</span></code>, loading the value of a variable onto the stack.</p>\n  <p>We see this difference in the earlier benchmark results as a razor thin edge of 0.0078 nanoseconds, in favor of modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> over <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code>; please note that you shouldn't read too much into this as it is well within the margin of error for the benchmark.</p>\n  <p>The earlier benchmark results were run on 64-bit with RyuJIT. If we run them on 32-bit with LegacyJIT, the difference is a more pronounced, but still tiny 0.0276 nanoseconds, in favor of modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> over <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code>. This miniscule difference is still not particularly significant; it is within 3 standard deviations.</p>\n  <pre><code class=\"hljs language-angelscript language-gherkin\">BenchmarkDotNet=v0<span class=\"hljs-number\">.10</span><span class=\"hljs-number\">.3</span><span class=\"hljs-number\">.0</span>, OS=Microsoft Windows NT <span class=\"hljs-number\">6.2</span><span class=\"hljs-number\">.9200</span><span class=\"hljs-number\">.0</span>\n  Processor=Intel(R) Core(TM) i7 CPU <span class=\"hljs-number\">970</span> <span class=\"hljs-number\">3.20</span>GHz, ProcessorCount=<span class=\"hljs-number\">12</span>\n  Frequency=<span class=\"hljs-number\">3128910</span> Hz, Resolution=<span class=\"hljs-number\">319.6001</span> ns, Timer=TSC\n    [Host]     : Clr <span class=\"hljs-number\">4.0</span><span class=\"hljs-number\">.30319</span><span class=\"hljs-number\">.42000</span>, <span class=\"hljs-number\">32</span>bit LegacyJIT-v4<span class=\"hljs-number\">.6</span><span class=\"hljs-number\">.1637</span><span class=\"hljs-number\">.0</span>\n    DefaultJob : Clr <span class=\"hljs-number\">4.0</span><span class=\"hljs-number\">.30319</span><span class=\"hljs-number\">.42000</span>, <span class=\"hljs-number\">32</span>bit LegacyJIT-v4<span class=\"hljs-number\">.6</span><span class=\"hljs-number\">.1637</span><span class=\"hljs-number\">.0</span>\n  \n      Method |      Mean |    StdDev |\n  ---------- |---------- |---------- |\n   ClassicIs | <span class=\"hljs-number\">1.5004</span> ns | <span class=\"hljs-number\">0.0005</span> ns |\n    ModernIs | <span class=\"hljs-number\">0.7412</span> ns | <span class=\"hljs-number\">0.0104</span> ns |\n          As | <span class=\"hljs-number\">0.7688</span> ns | <span class=\"hljs-number\">0.0002</span> ns |\n    Baseline | <span class=\"hljs-number\">0.1882</span> ns | <span class=\"hljs-number\">0.0006</span> ns |\n  </code></pre>\n  <h2>Conclusion</h2>\n  <p>You should use the modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> for safe casting. Compared to classic <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code>, it's twice as fast and much more succinct. Compared to <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code>, it's much more succinct and <em>might</em> have a razor thin performance advantage.</p>\n  <h2>Appendix - Full IL Code</h2>\n  <p>Here are the full IL code listings for each method.</p>\n  <pre><code class=\"hljs language-avrasm language-css\">As\n  -----------\n  <span class=\"hljs-symbol\">IL_0000:</span> ldarg<span class=\"hljs-number\">.0</span>\n  <span class=\"hljs-symbol\">IL_0001:</span> isinst [mscorlib]System.String\n  <span class=\"hljs-symbol\">IL_0006:</span> stloc<span class=\"hljs-number\">.0</span>\n  <span class=\"hljs-symbol\">IL_0007:</span> ldloc<span class=\"hljs-number\">.0</span>\n  <span class=\"hljs-symbol\">IL_0008:</span> brfalse.s IL_0011\n  \n  <span class=\"hljs-symbol\">IL_000a:</span> ldloc<span class=\"hljs-number\">.0</span>\n  <span class=\"hljs-symbol\">IL_000b:</span> callvirt instance int32 [mscorlib]System.String::get_Length()\n  <span class=\"hljs-symbol\">IL_0010:</span> <span class=\"hljs-keyword\">ret</span>\n  \n  <span class=\"hljs-symbol\">IL_0011:</span> ldc.i4<span class=\"hljs-number\">.0</span>\n  <span class=\"hljs-symbol\">IL_0012:</span> <span class=\"hljs-keyword\">ret</span>\n  </code></pre>\n  <pre><code class=\"hljs language-css language-avrasm\"><span class=\"hljs-selector-tag\">Classic</span> <span class=\"hljs-selector-tag\">Is</span>\n  <span class=\"hljs-selector-tag\">-----------</span>\n  <span class=\"hljs-selector-tag\">IL_0000</span>: <span class=\"hljs-selector-tag\">ldarg</span><span class=\"hljs-selector-class\">.0</span>\n  <span class=\"hljs-selector-tag\">IL_0001</span>: <span class=\"hljs-selector-tag\">isinst</span> <span class=\"hljs-selector-attr\">[mscorlib]</span><span class=\"hljs-selector-tag\">System</span><span class=\"hljs-selector-class\">.String</span>\n  <span class=\"hljs-selector-tag\">IL_0006</span>: <span class=\"hljs-selector-tag\">brfalse</span><span class=\"hljs-selector-class\">.s</span> <span class=\"hljs-selector-tag\">IL_0014</span>\n  \n  <span class=\"hljs-selector-tag\">IL_0008</span>: <span class=\"hljs-selector-tag\">ldarg</span><span class=\"hljs-selector-class\">.0</span>\n  <span class=\"hljs-selector-tag\">IL_0009</span>: <span class=\"hljs-selector-tag\">castclass</span> <span class=\"hljs-selector-attr\">[mscorlib]</span><span class=\"hljs-selector-tag\">System</span><span class=\"hljs-selector-class\">.String</span>\n  <span class=\"hljs-selector-tag\">IL_000e</span>: <span class=\"hljs-selector-tag\">callvirt</span> <span class=\"hljs-selector-tag\">instance</span> <span class=\"hljs-selector-tag\">int32</span> <span class=\"hljs-selector-attr\">[mscorlib]</span><span class=\"hljs-selector-tag\">System</span><span class=\"hljs-selector-class\">.String</span><span class=\"hljs-selector-pseudo\">::get_Length()</span>\n  <span class=\"hljs-selector-tag\">IL_0013</span>: <span class=\"hljs-selector-tag\">ret</span>\n  \n  <span class=\"hljs-selector-tag\">IL_0014</span>: <span class=\"hljs-selector-tag\">ldc</span><span class=\"hljs-selector-class\">.i4</span><span class=\"hljs-selector-class\">.0</span>\n  <span class=\"hljs-selector-tag\">IL_0015</span>: <span class=\"hljs-selector-tag\">ret</span>\n  </code></pre>\n  <pre><code class=\"hljs language-avrasm language-css\">Modern Is\n  -----------\n  <span class=\"hljs-symbol\">IL_0000:</span> ldarg<span class=\"hljs-number\">.0</span>\n  <span class=\"hljs-symbol\">IL_0001:</span> isinst [mscorlib]System.String\n  <span class=\"hljs-symbol\">IL_0006:</span> dup\n  <span class=\"hljs-symbol\">IL_0007:</span> stloc<span class=\"hljs-number\">.0</span>\n  <span class=\"hljs-symbol\">IL_0008:</span> brfalse.s IL_0011\n  \n  <span class=\"hljs-symbol\">IL_000a:</span> ldloc<span class=\"hljs-number\">.0</span>\n  <span class=\"hljs-symbol\">IL_000b:</span> callvirt instance int32 [mscorlib]System.String::get_Length()\n  <span class=\"hljs-symbol\">IL_0010:</span> <span class=\"hljs-keyword\">ret</span>\n  \n  <span class=\"hljs-symbol\">IL_0011:</span> ldc.i4<span class=\"hljs-number\">.0</span>\n  <span class=\"hljs-symbol\">IL_0012:</span> <span class=\"hljs-keyword\">ret</span>\n  </code></pre>\n  <pre><code class=\"hljs language-asciidoc language-routeros\"><span class=\"hljs-section\">Baseline\n  -----------</span>\n  IL<span class=\"hljs-emphasis\">_0000: ldarg.0\n  IL_</span>0001: brfalse.s IL<span class=\"hljs-emphasis\">_000a\n  \n  </span>IL<span class=\"hljs-emphasis\">_0003: ldarg.0\n  IL_</span>0004: callvirt instance int32 [mscorlib]System.String::get<span class=\"hljs-emphasis\">_Length()\n  IL_</span>0009: ret\n  \n  IL<span class=\"hljs-emphasis\">_000a: ldc.i4.0\n  IL_</span>000b: ret\n  </code></pre>\n  <h2>Addendum A - BenchmarkDotNet Baseline</h2>\n  <p><strong><em>Update (12th April 2017)</em></strong>: As <a href=\"http://kristian.hellang.com/\">Kristian Hellang</a> points out in the comments, BenchmarkDotNet includes the option to label one of the benchmarked methods as a baseline. We do that by setting the <code class=\"hljs language-ebnf language-mathematica\"><span class=\"hljs-attribute\">Baseline</span></code> parameter to true in the <code class=\"hljs language-ebnf language-sqf\"><span class=\"hljs-attribute\">Benchmark</span></code> attribute:</p>\n  <pre><code class=\"hljs language-angelscript language-aspectj\">[Benchmark(Baseline=<span class=\"hljs-literal\">true</span>)]\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-built_in\">int</span> Baseline()\n  {\n      <span class=\"hljs-keyword\">if</span>(input2 != <span class=\"hljs-literal\">null</span>)\n          <span class=\"hljs-keyword\">return</span> input2.Length;\n  \n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n  }\n  </code></pre>\n  <p>Doing so causes BenchmarkDotNet to generate results that include the columns <code class=\"hljs language-ebnf language-mathematica\"><span class=\"hljs-attribute\">Scaled</span></code> and <code class=\"hljs language-ebnf language-mathematica\"><span class=\"hljs-attribute\">Scaled-StdDev</span></code>:</p>\n  <pre><code class=\"hljs language-angelscript language-gherkin\">BenchmarkDotNet=v0<span class=\"hljs-number\">.10</span><span class=\"hljs-number\">.3</span><span class=\"hljs-number\">.0</span>, OS=Microsoft Windows NT <span class=\"hljs-number\">6.2</span><span class=\"hljs-number\">.9200</span><span class=\"hljs-number\">.0</span>\n  Processor=Intel(R) Core(TM) i7 CPU <span class=\"hljs-number\">970</span> <span class=\"hljs-number\">3.20</span>GHz, ProcessorCount=<span class=\"hljs-number\">12</span>\n  Frequency=<span class=\"hljs-number\">3128909</span> Hz, Resolution=<span class=\"hljs-number\">319.6002</span> ns, Timer=TSC\n    [Host]     : Clr <span class=\"hljs-number\">4.0</span><span class=\"hljs-number\">.30319</span><span class=\"hljs-number\">.42000</span>, <span class=\"hljs-number\">32</span>bit LegacyJIT-v4<span class=\"hljs-number\">.6</span><span class=\"hljs-number\">.1637</span><span class=\"hljs-number\">.0</span>\n    DefaultJob : Clr <span class=\"hljs-number\">4.0</span><span class=\"hljs-number\">.30319</span><span class=\"hljs-number\">.42000</span>, <span class=\"hljs-number\">32</span>bit LegacyJIT-v4<span class=\"hljs-number\">.6</span><span class=\"hljs-number\">.1637</span><span class=\"hljs-number\">.0</span>\n  \n      Method |      Mean |    StdDev | Scaled | Scaled-StdDev |\n  ---------- |---------- |---------- |------- |-------------- |\n   ClassicIs | <span class=\"hljs-number\">1.5005</span> ns | <span class=\"hljs-number\">0.0002</span> ns |   <span class=\"hljs-number\">8.02</span> |          <span class=\"hljs-number\">0.01</span> |\n    ModernIs | <span class=\"hljs-number\">0.7678</span> ns | <span class=\"hljs-number\">0.0002</span> ns |   <span class=\"hljs-number\">4.10</span> |          <span class=\"hljs-number\">0.00</span> |\n          As | <span class=\"hljs-number\">0.7694</span> ns | <span class=\"hljs-number\">0.0006</span> ns |   <span class=\"hljs-number\">4.11</span> |          <span class=\"hljs-number\">0.00</span> |\n    Baseline | <span class=\"hljs-number\">0.1872</span> ns | <span class=\"hljs-number\">0.0002</span> ns |   <span class=\"hljs-number\">1.00</span> |          <span class=\"hljs-number\">0.00</span> |\n  </code></pre>\n  <h2>Addendum B - Assembly Code Analysis</h2>\n  <p><strong><em>Update (18th April 2017)</em></strong>: Following George Pollard's suggestion, I dug into the assembly code to see if the difference in the IL between modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> and <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> persisted. It did not, the JIT optimized the difference away, and on my computer, they therefore, have identical performance. Although highly unlikely, your results may differ, read on to find out why.</p>\n  <p>To access the assembly code from Visual Studio: set a breakpoint in each method, switch to debug mode, and then use Go To Disassembly (<code class=\"hljs language-undefined\">ALT+G</code>) when your code hits the breakpoint. To ensure you get the optimized assembly code: set optimize code in the build tab of project properties, then in options / debugging / general, untick both <code class=\"hljs language-gauss language-routeros\"><span class=\"hljs-keyword\">Enable</span> Just My <span class=\"hljs-built_in\">Code</span></code> and <code class=\"hljs language-elm language-haskell\"><span class=\"hljs-type\">Suppress</span> <span class=\"hljs-type\">JIT</span> optimization on <span class=\"hljs-keyword\">module</span> load (<span class=\"hljs-type\">Managed</span> only)</code>.</p>\n  <p>I examined the assembly code for modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> and <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> on both x86 and x64. While there were subtle differences between the x86 and x64 code, in both cases, the fully optimized assembly code was identical for modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> and <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code>. So, despite the difference in the IL, this did not persist through to the assembly level and the difference was optimized away.</p>\n  <p>It should be noted that C#'s JIT (just-in-time) compiler is different from an ahead-of-time compiler like you would use in C++. When you compile a C++ program, you target a specific processor and operating system and the compiler generates an executable that is optimized for and only runs on that platform. The JIT compiles your C# program at runtime, so it can be optimized for and run on any platform that is supported by the JIT; even platforms that did not exist when you compiled your C# program into IL.</p>\n  <p>The result is that if you view the assembly code of modern <code class=\"hljs language-actionscript language-ada\"><span class=\"hljs-keyword\">is</span></code> and <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span></code> under a different JIT compiler or a different platform, it's possible you might find differences, because their IL is different and so it might be interpreted differently. However, this is extremely unlikely, since as we've already seen, their IL is equivalent, so a good optimizer should optimize them both to the fastest assembly code for a given platform, which should be the same for both as they're equivalent.</p>\n  \n  \n  </div>\n  \n  \n    \n  \n  \n  <h2><span>Share</span></h2>\n  \n  \n  \n  <h2><span>Comments</span></h2>\n  \n  \n  </div></div>",
    "labels": "csharp"
  },
  {
    "description": "Forget to-do lists. This startup veteran swears by these five documents for maximum productivity.",
    "title": "5 Documents You Should Open Every Day to Maximize Your Success (With Templates)",
    "content": "<div class=\"page\" id=\"readability-page-1\"><article><header><h3><span>Forget to-do lists. This startup veteran swears by these five documents for maximum productivity. </span></h3></header><article><figure><picture><source srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,sbO76yScjtqIi3qZnuyWloEfLGGpSjQXq7rOwqgn5kQs/https://img-cdn.inc.com/image/upload/w_970,h_450,c_fill/images/panoramic/GettyImages-1201393324_web_500535_ee6iyd.jpg,\" media=\"(max-width:600px)\"><source srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,sBwvJYBnE-yTrH2asvhHpRYhj2Cz9VuWstfwQv9UdQVw/https://img-cdn.inc.com/image/upload/w_1920,h_1080,c_fill/images/panoramic/GettyImages-1201393324_web_500535_ee6iyd.jpg,\" media=\"(min-width:601px)\"><img alt=\"5 Documents You Should Open Every Day to Maximize Your Success (With Templates)\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sBwvJYBnE-yTrH2asvhHpRYhj2Cz9VuWstfwQv9UdQVw/https://img-cdn.inc.com/image/upload/w_1920,h_1080,c_fill/images/panoramic/GettyImages-1201393324_web_500535_ee6iyd.jpg\"></picture><p></p><figcaption>Photo: Getty Images</figcaption><p></p></figure><div><p dir=\"ltr\"><a href=\"https://www.inc.com/jessica-stillman/productivity-calendar-hack-shopify-tobias-lutke.html\">Calendar hacks</a>. <a href=\"https://www.inc.com/jessica-stillman/time-management-barack-obama-white-house-system.html\">Prioritization systems</a>. <a href=\"https://www.inc.com/jessica-stillman/why-it-s-worth-making-time-for-this-lengthy-morning-ritual.html\">Creativity boosters</a>. <a href=\"https://www.inc.com/jessica-stillman/how-to-eliminate-distractions-schedule-day-productivity.html\">Scheduling techniques</a>. <a href=\"https://www.inc.com/jessica-stillman/the-secret-to-self-made-billionaire-sara-blakelys-success-her-weekly-not-daily-routine.html\">Weekly workflows</a>. The internet (and, honestly, this column) is full of ideas on how to better organize your work to get more meaningful stuff done in less time with less pain. All of these ideas solve some problems for some people, but it's rare to get a glimpse of the whole suite of systems, documents, and tricks an individual high performer leans on to scaffold her success.&nbsp;</p><p dir=\"ltr\">Which is what makes a recent <a href=\"https://review.firstround.com/ditch-your-to-do-list-and-use-these-docs-to-make-more-impact?utm_source=Firstround.com+Library&amp;utm_campaign=25d9b5c934-brie_wolfson&amp;utm_medium=email&amp;utm_term=0_d9bb43e05b-25d9b5c934-80085564\">First Round Review article</a> from startup veteran and now Kool-Aid Factory founder <a href=\"https://www.briewolfson.com/\">Brie Wolfson</a> so fascinating. In the in-depth piece, she lays out her whole productivity system in meticulous detail, including all the documents she relies on for annual and quarterly planning, as well as organizing her day-to-day work.&nbsp;</p><p dir=\"ltr\">If the chaotic workflow from running your business could use a bit of an overhaul, the whole article is well worth a read. But perhaps the most immediately useful part of the piece is the five documents Wolfson uses daily to remind her of her priorities, boost her energy, and maximize her learning. Helpfully, she even offers templates when needed. Here, in brief, are these five success-boosting documents.&nbsp;</p><p></p><h2 dir=\"ltr\">1. Ongoing Stack Rank (OSR)</h2><p></p><p dir=\"ltr\"><a href=\"https://www.inc.com/jessica-stillman/why-the-super-successful-don-t-use-to-do-lists.html\">To-do lists</a> are a simple and popular way to organize your work, but they have a fatal flaw. The essential gets mixed in with the merely urgent or the genuinely trivial. When you're dreading writing that sales email, it can be tempting to just move down your list and check off \"pick up dry cleaning\"&nbsp;instead. You accomplished a to-do list item, but did you really advance your work?&nbsp;</p><p>What you need is not just a list of things you need to get done sometime, but also a system that shows you what you should be prioritizing now. That's what Wolfson's&nbsp;\"Ongoing Stack Rank\"&nbsp;is designed to accomplish. Like a to-do list, an OSR lists \"things I'm working on or could be working on over a given time period,\"&nbsp;Wolfson explains. But with three key differences:&nbsp;</p><div><ul><li dir=\"ltr\"><p dir=\"ltr\"><strong>An OSR lists only outputs, not constituent tasks. </strong>\"Outputs are defined as shippable units of work,\"&nbsp;Wolfson explains. \"Phrasing them as such will also help remind you that you can only check it off once it's completed. For example, 'hosted dinner for startups' can show up on your list, while 'booked restaurant for startup dinner' shouldn't.\"</p></li><li dir=\"ltr\"><p dir=\"ltr\"><strong>Include status.</strong> Is this in progress? Awaiting approval? Deprioritized until a particular future date? Your OSR should tell you at a glance.&nbsp;</p></li><li dir=\"ltr\"><p dir=\"ltr\"><strong>Ordered by priority.</strong> Your OSR should tell you not just what you <em>could</em> be working on, but what you <em>should</em> work on first.&nbsp;</p></li></ul></div><p dir=\"ltr\">\"Things might move up and down on this list or get added to or removed from it. That's OK! Record it all. This simplified list will provide clarity when things get especially messy and keep those higher-order goals top-of-mind,\" Wolfson insists. <a href=\"https://docs.google.com/spreadsheets/d/16uMnpoEmSsEhffq1mRgCkYrN00AF6t7-LpNbPCprRUY/edit#gid=1930726146\">Here's a template</a>.&nbsp;</p><p></p><h2 dir=\"ltr\">2. \"It's Only the Weekend When\"&nbsp;Post-it</h2><p></p><p dir=\"ltr\">If the OSR is a little complicated, the \"It's Only the Weekend When\"&nbsp;Post-it is so dead simple you can review it at a glance. Which is the point. This <a href=\"https://www.inc.com/jessica-stillman/productivity-time-management-oliver-burkeman-333-method.html\">list of three things you want to accomplish</a> within a given week should follow you everywhere, gently (or not so gently) reminding you of your key priorities. Then, at the end of the week you get the joy of physically checking them off.&nbsp;</p><p dir=\"ltr\">\"Throughout the week, I'll move it around and stick it various places--in my notebook alongside my daily to-do list, on the cover of my notebook, in the corner of my monitor, at the bottom of the keyboard, or even on my bathroom mirror if I'm getting really desperate as the weekend nears!\"&nbsp;reports Wolfson. No template required for this one.&nbsp;</p><p></p><h2 dir=\"ltr\">3. \"What I'm Proud Of\"&nbsp;Scrapbook</h2><p></p><p dir=\"ltr\">Knowing what to work on is only half the battle. You also need the energy and confidence to actually do those things. That's where the \"What I'm Proud Of\" Scrapbook comes in.&nbsp;</p><p dir=\"ltr\">\"This is exactly what it sounds like:&nbsp;a collection of things I'm proud of. It's a running list and hodgepodge of formats (screenshots, emails, pings, feedback, etc.) with no real organizational structure, but over time, it will turn into a fantastic raw data set for the things that give you energy and make you tick,\"&nbsp;explains Wolfson.&nbsp;</p><p dir=\"ltr\">This <a href=\"https://www.inc.com/jessica-stillman/why-every-woman-should-keep-a-brag-list.html\">scrapbook of success</a> not only acts as your personal energy pack, it is also a learning tool. \"Lining up my 'What&nbsp;I'm Proud of Scrapbook' with my OSR side by side helps me figure out what work truly satisfies me,\"&nbsp;Wolfson notes. You may think number crunching is important or your strong suit, but if it never makes it to your scrapbook you can be pretty sure it still doesn't bring you personal joy. You can check out a <a href=\"https://review.firstround.com/ditch-your-to-do-list-and-use-these-docs-to-make-more-impact#3-what-im-proud-of-scrapbook\">screenshot of Wolfson's scrapbook here</a>.&nbsp;</p><p></p><h2 dir=\"ltr\">4. Snag Log</h2><p></p><p dir=\"ltr\">Knowing what brings you happiness is useful, but so is <a href=\"https://www.inc.com/jessica-stillman/dan-pink-regret-failure-resume.html\">knowing what makes you miserable</a>. Use this document, in Wolfson's words, to write down&nbsp;\"the things that give me the ickies.\"&nbsp;</p><p>She writes, \"You know what these things are--the things that made your tummy turn or maybe made you want to throw your laptop out the window or scream into a pillow.\" All you need to do is be honest and diligent about recording them.&nbsp;&nbsp;</p><p>This catalog of miseries not only gives you a private place to exorcize negative emotions, it also helps you identify patterns. If that same meeting, colleague, or type of work pops up again and again, maybe you need to take action to avoid this pain in the future.&nbsp;</p><p></p><h2 dir=\"ltr\">5. \"Today, I Learned\"</h2><p></p><p>\"This document is also relatively straightforward. It's a list of things I learned, usually in bullet form,\" Wolfson explains. These can be technical details (how to do things or where to find them), insights about colleagues (\"Andrea likes a written weekly update,\" for instance), personal details (\"John has a birthday next week\"), or self-insights (\"This kind of work goes a lot better if I <a href=\"https://www.inc.com/jessica-stillman/how-to-be-20-percent-smarter-just-rearrange-your-schedule.html\">do it first thing in the morning</a>\").&nbsp;</p><p dir=\"ltr\">It's a straightforward idea, but Wolfson claims this simple doc has brought her plenty of benefits. It helps her remember details, provides a searchable archive of lessons learned, and saves her from pestering colleagues with the same question multiple times.&nbsp;</p><p>Referencing all five of these documents each day might seem likely to make your desktop a bit crowded (though, be honest, <a href=\"https://www.inc.com/jessica-stillman/productivity-browser-tabs-carnegie-mellon.html\">how many browser tabs do you currently have open?</a>), but Wolfson insists they keep her on track and growing as a professional. Surely, that's worth a little organizational effort. Why not give these docs a try and see if they can help you be more successful too?&nbsp;</p></div></article></article></div>",
    "labels": "leadership"
  },
  {
    "description": "The standard job application of cover letter plus resume is a phenomenally weak way to introduce a candidate. They give you only the faintest clues as to the quality of an applicant. Sometimes, though, a resume gives pretty strong negative clues which allow you to screen out applicants without going much further. Once I got…",
    "title": "Sorting Resumes",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div id=\"page\">\n  \n      <p></p>\n          \n      <div id=\"content\">\n          <main role=\"main\" id=\"main\">\n  \n          \n              \n  <article id=\"post-916\">\n      \n      \n      \n  \n      \n  \n  \n      <div>\n          <p>The standard job application of cover letter plus resume is a phenomenally weak way to introduce a candidate. They give you only the faintest clues as to the quality of an applicant.</p>\n  <p><img height=\"195\" width=\"282\" src=\"https://proxy-prod.omnivore-image-cache.app/282x195,sQpAQg8R5B6VqNZk_58SL8U2cS8uUhzf4S8cEhtWx_eE/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/09/ggth17.jpg?resize=282%2C195&amp;ssl=1\" alt=\"\">Sometimes, though, a resume gives pretty strong <em>negative</em> clues which allow you to screen out applicants without going much further. Once I got a resume from someone who claimed to be an expert in Microsoft Window [sic] programming. Another time the only experience listed on the application was a job at Dunkin’ Donuts. That resume did a pretty good job of following all the suggestions that high school career-guidance advisors love to give out (this guy “managed trays of donuts”) but there was not a smidgen of evidence that the applicant had ever seen a computer.</p>\n  <p>Other than that, though, it can be extremely hard to tell much about a candidate from a resume. Our policy at Fog Creek, then, has three parts:</p>\n  <ol>\n  <li>We try to be selective about how we advertise our jobs, so as to limit the amount of noise in the resume pile.</li>\n  <li>We certainly don’t hire based on resumes; we only screen <em>out</em> based on resumes to reduce the number of people whom we have to interview.</li>\n  <li>In order to sort the remaining resumes to decide what order to interview people, we use a strictly objective system of reviewing and scoring them, so at least we are being fair and consistent in our interpretation of that very weak signal that comes from resumes.</li>\n  </ol>\n  <p>There are several fairly objective measures that we look at, again, <em>solely for the purpose of sorting resumes</em> so that the first people we call are the ones that are most likely to work out.</p>\n  <p><strong>Passion.</strong> We look for evidence that the applicant is passionate about computers and really loves programming. Typical evidence of this:</p>\n  <ul>\n  <li>\n  <p>Jobs with computers or experience programming going back to a very early age. Great programmers are more likely to have spent a summer at computer camp, or building an online appointment scheduler for their uncle the dentist, rather than working at Banana Republic folding clothes. </p>\n  </li>\n  <li>\n  <p>Extra-curricular activities. People who love programming often work on their own programming projects (or contribute to an open-source project) in their spare time.</p>\n  </li>\n  <li>\n  <p>Waxing rhapsodic in their cover letter about how they were moved to tears by <a href=\"http://www.amazon.com/o/asin/0262011530\">The Structure and Interpretation of Computer Programs</a>.</p>\n  </li>\n  <li>\n  <p>Sometimes certain programming languages or technologies on a resume indicate evidence of someone who loves programming enough to explore new technologies. At the time I’m writing this, seeing Ruby on a resume is a good sign of the kind of programmer who loves to check out the latest thing and try to improve their skills because they’re passionate about programming, because not so many employers are really demanding Ruby yet. You have to be careful here; in 1996 Java on a resume was a sign of the same passion, but today it adds almost no information.</p>\n  </li>\n  </ul>\n  <p><strong><img height=\"195\" width=\"282\" src=\"https://proxy-prod.omnivore-image-cache.app/282x195,s6rjFdTfIarry6fZm5tqD4CVCEZLUiLWFekPyUs9KJL0/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/09/ggth18.jpg?resize=282%2C195&amp;ssl=1\" alt=\"\" loading=\"lazy\">Pickiness.</strong> We look closely at the cover letter for evidence that the applicant really wants to work for <em>us.</em> We don’t want to see a generic cover letter talking about me, me, me: we want to see a coherent argument as to why they’ve thought about this seriously and concluded that Fog Creek is the place they want to work. There are two reasons for using this as a clue. First, it’s a sign that the candidate is not applying to hundreds of jobs at the same time. The fact that they took the time to learn about Fog Creek and wrote a custom cover letter just for us means that they have a lot of confidence in their abilities, so they’re applying to a select few employers, not bulk mailing a thousand. A bulk-mailed resume can be a symptom of desperation. More importantly, a custom cover letter is a sign that if we <em>do</em> make this candidate an offer, they’re likely to accept it. That improves our yield. If I only have time to interview six people, all else being equal, I’d rather interview six people who really want to work for Fog Creek, not generic smart people that are also applying to a hundred other jobs. All else being equal.</p>\n  <p><strong>English.</strong> Scoring resumes by English skills was a hard decision for us to make, because computer programming is one of those fields where an immigrant who doesn’t speak English can still be a brilliant programmer. That said, years of experience working with programmers have taught me that programmers who can communicate their ideas clearly are going to be far, far more effective than programmers who can only really communicate well with the compiler. It is crucial for documenting code, it is crucial for writing specifications and technical design documents that other people can review, and it’s crucial even for those meetings where you sit around discussing how to do something best: brilliant programmers who have trouble explaining their ideas just can’t make as much of a contribution. In this particular category, we also consider the neatness and orderliness of their resume. A disorganized resume rife with grammatical errors where nothing lines up is a pretty big red flag for a disorganized thinker or just general sloppiness; for many jobs this can be fine but not for software development. In particular we usually completely disqualify resumes that are full of English mistakes. It’s not that hard, even for a non-native speaker, to find someone to check your resume, and failure to do that usually reflects a profound lack of concern over the quality of the things that you do. That said, we try to be considerate of  non-native speakers who are nonetheless excellent communicators: leaving out articles in that charming Eastern European way, or starting every paragraph with “So” in charming Pacific Northwestian way, is not a showstopper.</p>\n  <p><strong>Brains.</strong> In this category we’re looking for evidence that a candidate is, well, smart, or at least, the kind of nerdy brainiac that went to math camp. Signs of this include high GPAs, high standardized test scores, honors societies like Phi Beta Kappa, people who participate in Top Coder competitions, play competitive chess, or go to ACM Programming contests.</p>\n  <p><strong>Selectivity.</strong> Another thing we look for on resumes is evidence that someone has gone through some highly selective process in the past. Not everyone at Ivy League schools is worth hiring, and not everyone at community college is worth avoiding, but getting into a very selective school does at least mean that <em>someone, somewhere</em> judged you using some kind of selection process and decided that you were pretty smart. Our company criterion for selectivity is usually getting into a school or program that accepts less than 30% of its applicants (there are about 60 schools in the US that meet this standard), or working for a company which is known to have a difficult application process, like a whole day of interviews. Highly selective branches of the military like officer’s training or pilot’s courses, or even just getting into the Marines indicates someone that has made it through some kind of difficult application/selection procedure and all in all this is a positive sign.</p>\n  <p><strong><img data-recalc-dims=\"1\" height=\"195\" width=\"282\" src=\"https://proxy-prod.omnivore-image-cache.app/282x195,sX_z3_pI3jjTkqdsxlXW_eWW-_cTyU0NSdN6_gbHTtl4/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/09/ggth19.jpg?resize=282%2C195&amp;ssl=1\" alt=\"\" loading=\"lazy\">Hard-core.</strong> For experienced programmers, there are certain technologies that are considered somewhat more hard-core than others, simply because they are, well, harder to do well. Again, this is a pretty weak indicator, but all else being equal, I’m more impressed by someone who has done work in OCaml than someone who has worked in Java. Assembler or device-driver or kernel work is somewhat more impressive than Visual Basic or PHP. C++ with ATL is harder than Perl. People who have worked on operating systems or compilers are more hard core than people who have worked on simple database front-ends. </p>\n  <p>I’m sure that this will be seen as incendiary; after all, most of my personal programming experience in the past five years is with VBScript, which is sort of like a version of Visual Basic dumbed down for people with severe brain trauma. Remember again that I said that resumes are a very weak way of judging programmers and you only get the faintest signals from them; that said, some technologies are just <em>harder</em> than other technologies and if you happened to have worked with them successfully, there’s a smidgen more evidence that you might be the right person to hire, so for the purpose of sorting resumes, difficult technologies tend to float you to the top, while claiming competence in, say, Microsoft Word tends to float you toward the bottom.</p>\n  <p><strong>Diversity.</strong> Before I start a massive flame war of international scope by using the loaded term “diversity,” let me carefully define what I mean by this. Specifically, I’m looking for people who come from enough of a different background than the existing team that they are likely to bring new ideas and new ways of thinking to the team and challenge any incipient groupthink that is likely to keep us boxed into our own echo-chamber way of thinking about things. When I say different background, I mean culturally, socially, and professionally. Someone who has a lot of experience with enterprise software may bring useful diversity to a team of internet programmers. Someone who grew up poor is going to bring useful diversity to a startup full of Andover preppies. A stay-at-home mom rejoining the workplace may bring useful diversity to a team of recent graduates. An electrical engineer with Assembler experience may bring useful diversity to a team of Lisp hackers. A recent college graduate from Estonia may bring useful diversity to a team of experienced management consultants from the midwest. The only theory here is that the more diverse your team is, the more likely that someone on the team will have some experience in their background that allows them to come up with a different solution.</p>\n  <p>It is <em>really really important</em> to remember that these categories—Passion, Pickiness, English, Brains, Selectivity, Hard-Core, and Diversity—are <em>not</em> hiring criteria. They are just too weak for that. There are way too many excellent people who would score low on this test or poor programmers who would score high. Before you go off ranting about how Joel only thinks you should hire from the Ivy League, or that I have some kind of GPA fetish, or whatnot, it’s important to understand that this list is just not a list of reasons to hire someone or reject someone. All it is is an objective and fair way to sort a big pile of resumes to find the candidates who are most likely to work out so that you can interview them first, and <em>then</em> decide if they’re worth hiring.</p>\n  <p><strong>If resumes are so weak, can’t we add some other hoops?</strong></p>\n  <p><img height=\"195\" width=\"282\" src=\"https://proxy-prod.omnivore-image-cache.app/282x195,s-RC3Fr3FDajU_Vo2-aVjmjFG4ug8dy7EuFew8T7sHRk/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/09/ggth20.jpg?resize=282%2C195&amp;ssl=1\" alt=\"\" loading=\"lazy\">This is certainly not, by any stretch of the imagination, the ideal set of rules for sorting resumes. I’d much rather be able to sort resumes by the candidate’s ability to implement a recursive algorithm, how long it takes them to find a bug in code, or whether or not they can keep nine items in short term memory, all of which are better indicators of success as programmers than things like whether you got past an elite college’s admissions committee. Unfortunately, those things aren’t on resumes.</p>\n  <p>One temptation of recruiters is to try and add a few extra hoops to the application process. I’ve frequently heard the suggestion of including a programming quiz of some sort in the application procedure. This does work, in the sense that it reduces the number of applications you get, but it doesn’t work, in the sense that it doesn’t really improve the quality. Great developers have enough choices of places to work that only require the usual cover letter/resume application to get started; by inventing artificial hoops and programming tests and whatnot simply to apply, you’re just as likely to scare away good programmers as weak programmers. Indeed, you may be more likely to scare away the best programmers, who have the most alternatives, and get left with a pool of fairly desperate candidates who are willing to do extra work to apply simply because they don’t have any alternatives.</p>\n  <p><strong>Don’t look for experience with particular technologies</strong></p>\n  <p>Once I was on a panel at NYU giving students advice on careers in I.T. My advice, excerpted from <a href=\"https://www.joelonsoftware.com/articles/CollegeAdvice.html\">this article</a>, was that before graduating you should make sure to learn how to write well, maybe by taking a creative writing course, and take a class in Econ so that the business side of the business isn’t a mystery. I also recommended at least one low-level programming course in C or Assembler just to help you understand how computers work at a lower level.</p>\n  <p>On the panel with me was a nice chap from a local headhunter, in fact, one of the better tech recruiters in the city. His speech consisted of 15 minutes of tedious alphabet soup. “We’re seeing a lot of XML, some C++, SOAP and WSDL are getting hot but you’re not seeing as much COM or even ATL.” And on, and on, until my eyes were spinning. This was a fellow who entirely thought of the world in terms of keywords on resumes.</p>\n  <p>To top programmers, the most maddening thing about recruiters is their almost morbid fascination with keywords and buzzwords. The entire industry of professional headhunters and recruiters is bizarrely fixated on the simple algorithm of matching candidates to positions by looking for candidates that have the complete list of technology acronyms that the employer happens to be looking for. It becomes especially infuriating to realize that most of these recruiters have no idea what any of these technologies <em>are</em>. “Oh, you don’t have MSMQ experience? Never mind.” At least when real estate agents prattle on about Subzero refrigerators and Viking stoves, they at least know what these things <em>are</em> (although any stainless steel refrigerator counts as “Subzero” these days). The easiest way to catch-out a technical recruiter is when they inevitably insist on 5 years of experience with Ruby on Rails, or refuse to consider someone for a “Windows API” job when they only have “Win32” on their resume.</p>\n  <p>The reason recruiters do this is because it’s easy, it can be computerized, and it’s the only way they know how to judge developers.</p>\n  <p><strong>For almost all software development positions, though, it is the worst possible way to hire.</strong></p>\n  <p><img height=\"195\" width=\"282\" src=\"https://proxy-prod.omnivore-image-cache.app/282x195,sSEMGVJh6dSXkTybBRgMUWHIfSxBHnTaVPbXljtkHuKY/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/09/ggth21.jpg?resize=282%2C195&amp;ssl=1\" alt=\"\" loading=\"lazy\">Our philosophy is that we’re hiring for the long term, and any technology you happen to know right now may well be obsolete next year. Furthermore, some of these technologies are very easy to learn. If I needed to hire someone to do Ruby development, someone with extensive Smalltalk and Python experience who had never even <em>heard</em> of Ruby would be a lot more likely to be successful than someone who read a book about Ruby once. For someone who is basically a good software developer, learning another programming language is just not going to be a big deal. In two weeks they’ll be pretty productive. In two years, you may need them to do something completely different in a programming language which hasn’t even been invented.</p>\n  <p>The keywords section of a resume can’t be trusted much, anyway: every working programmer knows about these computer programs that filter resumes based on keywords, so they usually have a section of their resume containing every technology they have ever touched, solely to get through the filters.</p>\n  <p>There is, I think, one exception to this rule. If you’re hiring an architect or head developer—that is, the chief software engineer who is going to have to lay out the initial code and figure out how things work together, you probably want to hire someone with a lot of experience in the technology that you’re using. A team developing GUIs for Windows using C++ and MFC is going to need at least one Windows/MFC guru somewhere on the team who can make sure that the code is organized correctly in the first place and who has enough experience to know how to solve the really hard problems that might come up.</p>\n  <p>Don’t start a new project without at least one architect with several years of solid experience in the language, classes, APIs, and platforms you’re building on. If you have a choice of platforms, use the one your team has the most skills with, even if it’s not the trendiest or nominally the most productive. Occasionally, this may mean you interview to find a candidate with really extensive experience in a particular set of technologies (not keywords, mind you: the whole stack, such as LAMP or .NET or J2EE). But most of your software developers should not be hired by keyword matching.</p>\n  <p>Sorting resumes is only one aspect of the hiring process, which includes <a href=\"https://www.joelonsoftware.com/articles/FieldGuidetoDevelopers.html\">making an environment that is attractive to programmers</a>, <a href=\"https://www.joelonsoftware.com/articles/FindingGreatDevelopers.html\">attracting good resumes in the first place</a>, and using a <a href=\"https://www.joelonsoftware.com/articles/fog0000000073.html\">rigorous interview process</a> that helps you hire the programmers who can <a href=\"https://www.joelonsoftware.com/articles/HighNotes.html\">hit the high notes</a>.</p>\n              </div>\n  \n  </article>\n  \n  \n  \n      \n  \n  <div>\n          \n  \n          <p>\n              In 2000 I co-founded Fog Creek Software, where we created lots of cool things like the FogBugz bug tracker, Trello, and Glitch. I also worked with Jeff Atwood to create Stack Overflow and served as CEO of Stack Overflow from 2010-2019.\n  \n  Today I serve as the chairman of the board for <a href=\"https://stackoverflow.com/\">Stack Overflow</a>, <a href=\"https://glitch.com/\">Glitch</a>, and <a href=\"https://hash.ai/\">HASH</a>.</p>\n      </div>\n  \n                  \n          \n              \n          \n          </main>\n      </div>\n  \n      \n  </div></div>",
    "labels": "leadership"
  },
  {
    "description": "This is the first post in a two-part series describing friendly forks and alternative strategies for managing them. Stay tuned for part two coming in May!",
    "title": "The friend zone: friendly forks 101",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n  <div data-dark-theme=\"dark_dimmed\" data-light-theme=\"light\" data-color-mode=\"dark\">\n        <div>\n        <p>This is the first post in a two-part series describing friendly forks and alternative strategies for managing them. Stay tuned for part two coming in May!</p>      </div>\n                <div>\n              \n              <p><img alt=\"The friend zone: friendly forks 101\" height=\"850\" width=\"1600\" src=\"https://proxy-prod.omnivore-image-cache.app/1600x850,sdSN6-dnEBd-6lJQQkCzQWy81fRIQa5cGIcgvty-eek0/https://github.blog/wp-content/uploads/2022/04/friendly-forks-.png?resize=1200%2C630\" srcset=\"https://proxy-prod.omnivore-image-cache.app/800x0,sBvggBm0gkjVIIn03jQGbjsNuewxg_Srn4UTp9Rt5DEw/https://github.blog/wp-content/uploads/2022/04/friendly-forks-.png?resize=800%2C425 800w,https://proxy-prod.omnivore-image-cache.app/1600x0,sMzQnp0wzAwpMOSn-SLcK9BeWnkeDYyO8SEz72Hq7Vxo/https://github.blog/wp-content/uploads/2022/04/friendly-forks-.png?resize=1200%2C630 1600w,\">          </p></div>\n            </div>\n  \n  \n  <div>\n      \n  \n  \n  <main id=\"post-64330\" role=\"main\">\n    \n  <p><em>This is the first post in a two-part series describing friendly forks and alternative strategies for managing them. Stay tuned for part two coming in May!</em></p>\n  <p>You may be familiar with the term, <em>friend zone</em>. It typically carries a bit of a negative connotation, as it describes unrequited affection 💔. However, when it comes to forks of open source projects, we at GitHub believe the friend zone is a great place to be! We dedicate this post to describing the perks of putting your fork in the friend zone. We’ll cover what a <em>friendly fork</em> is, give some examples from the wild, and provide details on three of our favorite friendly forks of the <code class=\"hljs language-undefined\">git/git</code> repository.</p>\n  <h2>💀 To fork or not to fork</h2>\n  <p>Most developers are familiar with the concept of working with source code in repositories. However, what should you do when you want to make one or more major changes to a repository that you do not own? Two options are to submit feature requests or to contribute the features you need yourself. This is a very common approach in open source software, and, when it goes well, it can lead to productive collaboration and useful results for all parties.</p>\n  <p>But what if the proposed features are not accepted into the repository? What if they were never intended to be contributed back to the original project? If you (or your company) have a strong need for these features, creating a <a href=\"https://docs.github.com/en/get-started/quickstart/fork-a-repo\">friendly fork</a> of the repository could be the right choice.</p>\n  <h2>👭 What is a friendly fork?</h2>\n  <p>A friendly fork is a long-lived fork that complements its <em>upstream repository</em> (i.e., the repository from which it was forked) with customizations targeted to a subset of users. Typically, features from the friendly fork are contributed back to the upstream repository through a process known as <em>upstreaming</em>. If that is the case, developers working in the friendly fork sustain relationships with the maintainers of the upstream repository (this is the friend zone we’re so fond of!) to facilitate this flow of features and to improve the software for both user bases. It is also possible, however, for a friendly fork to simply take regular updates from its upstream repository with no maintainer interaction. Friendly forks may or may not eventually re-merge with the upstream repository.</p>\n  <p>Below are some examples of existing friendly forks of the <a href=\"https://github.com/git/git\"><code class=\"hljs language-undefined\">git/git</code></a> repository (which are maintained by folks at GitHub) and their purposes.</p>\n  <ol>\n  <li><a href=\"https://gitforwindows.org/\"><code class=\"hljs language-undefined\">git-for-windows/git</code></a>: hosts Windows-specific features of Git. It also sometimes receives early features which are subsequently upstreamed into <code class=\"hljs language-undefined\">git/git</code>.</li>\n  <li><a href=\"https://github.com/microsoft/git%60#readme\"><code class=\"hljs language-undefined\">microsoft/git</code></a>: focuses on features to support <a href=\"https://en.wikipedia.org/wiki/Monorepo\">monorepos</a>, some of which are subsequently upstreamed into <code class=\"hljs language-undefined\">git/git</code>.</li>\n  <li><code class=\"hljs language-undefined\">github/git</code>: powers GitHub’s backend. It includes GitHub-specific changes, like extra instrumentation specific to GitHub’s infrastructure, but also serves as a staging ground for new features before they are submitted upstream.</li>\n  </ol>\n  <p><code class=\"hljs language-undefined\">git/git</code> is definitely not the only repository with friendly forks. Examples of friendly forks created from other repos include:</p>\n  <ol>\n  <li><a href=\"https://www.msys2.org/\">MSYS2</a>: a fork of <a href=\"https://cygwin.com/\">Cygwin</a> that provides an environment for building, installing, and running native Windows software.</li>\n  <li><a href=\"https://www.centos.org/\">CentOS</a>: a fork of Red Hat Enterprise Linux (RHEL) created in 2004 to offer a RHEL-like experience for the community. (Interestingly, Red Hat now owns the CentOS trademarks).</li>\n  </ol>\n  <p>It is important to note that not all forks can be considered friendly. There are also <em>divergent forks</em>, which are typically created due to insurmountable disagreements in a community caused by disparate goals or personality conflicts. Divergent forks often become so different from their upstream repositories that sharing code becomes difficult, if not impossible. While it is good to know that divergent forks are a thing you may encounter in the wild, we emphatically believe in the power of the friend zone and will center our focus for the rest of this series on getting and keeping forks there.</p>\n  <h2>📖 A tale of three forks</h2>\n  <p>Three of the friendly fork examples provided above are based off of <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">git</span></code>/<code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">git</span></code>, <code class=\"hljs language-undefined\">git-for-windows/git</code>, <code class=\"hljs language-undefined\">microsoft/git</code>, and <code class=\"hljs language-undefined\">github/git</code>. Each of these forks has a unique history that contributes to the strategy used to maintain it. We will dedicate the remainder of this post to describing the history and purpose of each fork.</p>\n  <h3>git-for-windows/git</h3>\n  <p><img loading=\"lazy\" sizes=\"(max-width: 100px) 100vw, 100px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/100x0,s58rMcFdlbhCZCWsu-HFnO1eCIdq6p7xBVv6cYetIiGs/https://github.blog/wp-content/uploads/2022/04/git-for-windows-logo.png?w=100&amp;resize=100%2C100 100w,https://proxy-prod.omnivore-image-cache.app/90x0,sG70BcXG07b5LJ06KsgwvKqd_0kNh9fleuaDFFhkmCKA/https://github.blog/wp-content/uploads/2022/04/git-for-windows-logo.png?w=90 90w,\" height=\"100\" width=\"100\" alt=\"Git for Windows logo\" src=\"https://proxy-prod.omnivore-image-cache.app/100x100,s3BZwL0TugcKaOWkeoUOEN2U-NcdE0oTn77vY_QBqgdk/https://github.blog/wp-content/uploads/2022/04/git-for-windows-logo.png?w=100&amp;resize=100%2C100\"></p>\n  <p><code class=\"hljs language-undefined\">git-for-windows/git</code> is the oldest of our forks for discussion. It was created in 2007 to provide the required adjustments to Git for it to run on Windows. While it may seem odd that Windows-specific features weren’t just added to the <code class=\"hljs language-undefined\">git/git</code> repository, forking was deemed necessary because the <code class=\"hljs language-undefined\">git/git</code> project was (and, still is) run by experts in the Unix systems domain. And Windows, of course, falls outside the scope of that expertise.</p>\n  <p>Although this fork was originally intended to be short-lived, it soon became clear that Windows support would be an ongoing community need that would require a permanent fork. Thus, development in <code class=\"hljs language-undefined\">git-for-windows/git</code> continues in earnest today.</p>\n  <p>Because it was created to give Windows users the option of using Git for version control, the main purposes of <code class=\"hljs language-undefined\">git-for-windows/git</code> are:</p>\n  <ol>\n  <li>Provide a seamless, pain-free experience for Windows users.</li>\n  <li>Separation of concerns (in other words, Windows-specific and Unix-specific features are contributed in different repositories, while shared features can easily flow between the repositories).</li>\n  </ol>\n  <p>As with each fork we discuss in this post, there are some use cases for which it makes sense for new features to be contributed to the fork before they are added upstream. <a href=\"https://git-scm.com/docs/git-update-index#_file_system_monitor\">FS Monitor</a> is an example of this in which the <a href=\"https://en.wikipedia.org/wiki/Request_for_Comments\">Request for Comments</a> went to the <code class=\"hljs language-undefined\">git/git</code> mailing list, but early implementations of the feature were merged into <code class=\"hljs language-undefined\">git-for-windows/git</code> for rapid testing.</p>\n  <h3>microsoft/git</h3>\n  <p><img data-recalc-dims=\"1\" sizes=\"(max-width: 100px) 100vw, 100px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/100x0,seHP_MiiIKXyHXQZD1GsGm6tk9f2xhqZoOyNZrCYcsNg/https://github.blog/wp-content/uploads/2022/04/microsoft-logo.png?w=100 100w,https://proxy-prod.omnivore-image-cache.app/90x0,skHncKUYRH2R_t7yEhzgDtcek8cQrMLzN8i8MORmDJuY/https://github.blog/wp-content/uploads/2022/04/microsoft-logo.png?w=90 90w,\" height=\"100\" width=\"100\" alt=\"Microsoft logo\" src=\"https://proxy-prod.omnivore-image-cache.app/100x100,sDbC7ylkS4NELeSRqDiiLbZlkcFJndSwKviBSE1N23Fs/https://github.blog/wp-content/uploads/2022/04/microsoft-logo.png?w=100&amp;h=100&amp;crop=1&amp;resize=100%2C100\" loading=\"lazy\">\n  </p><p><code class=\"hljs language-undefined\">microsoft/git</code> began as a private fork of <code class=\"hljs language-undefined\">git-for-windows/git</code>, with the initial purpose of supporting Microsoft-internal products. However, it was open-sourced in 2017, and, as a result, its goals today are much more general and community-oriented:</p>\n  <ol>\n  <li>Facilitate easy <a href=\"https://en.wikipedia.org/wiki/Eating_your_own_dog_food\">dogfooding</a>/quick releases of new features for GitHub’s monorepo customers.</li>\n  <li>As with <code class=\"hljs language-undefined\">git-for-windows/git</code>, determine which of these features make sense to contribute back upstream and submit/monitor them on the mailing list.</li>\n  </ol>\n  <p>An example feature that was introduced to <code class=\"hljs language-undefined\">microsoft/git</code> prior to upstreaming is the <a href=\"https://github.blog/2021-11-10-make-your-monorepo-feel-small-with-gits-sparse-index/\">sparse index</a>. This was done to speedily get this new feature into the hands of monorepo customers who needed it most. After that was done, the feature was gradually introduced and refined upstream.</p>\n  <h3>github/git</h3>\n  <p><img data-recalc-dims=\"1\" sizes=\"(max-width: 100px) 100vw, 100px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/100x0,swINzWH0xd0H7TlxII9iL56Y8nII3BC1Ixc-6kaBl6QE/https://github.blog/wp-content/uploads/2022/04/github-logo.png?w=100&amp;resize=100%2C100 100w,https://proxy-prod.omnivore-image-cache.app/90x0,s4p_ZJ-vl5OhUxzGk695IxwxfV5kMzhcGMWwWDCogPD8/https://github.blog/wp-content/uploads/2022/04/github-logo.png?w=90 90w,\" height=\"100\" width=\"100\" alt=\"\" src=\"https://proxy-prod.omnivore-image-cache.app/100x100,scRyE1bNnDz627VQGWLPBP4hMcrlxuAYuUeerwApciTY/https://github.blog/wp-content/uploads/2022/04/github-logo.png?w=100&amp;resize=100%2C100\" loading=\"lazy\"></p>\n  <p><code class=\"hljs language-undefined\">github/git</code>, our final fork for discussion, actually did not begin as a fork. In the early days of GitHub, we carried a handful of changes on top of new Git releases. Because there were only a few, we stored them as <code class=\"hljs language-css language-gams\">*<span class=\"hljs-selector-class\">.patch</span></code> files that got applied on top of each new release before deployment. Over time, however, our custom changes became both more numerous and more applicable to being contributed to <code class=\"hljs language-undefined\">git/git</code>. It became clear that a full-fledged fork would be beneficial to improve management, workflows, and our ability to contribute back to upstream. Thus, in 2012, the official <code class=\"hljs language-undefined\">github/git</code> fork was born.</p>\n  <p>Note that <code class=\"hljs language-undefined\">github/git</code> differs from the above forks in that it is a <em>private</em> friendly fork, while the other two are <em>public</em>. Private friendly forks can be very beneficial to organizations. For example, they can be an excellent testing ground for new features, as they allow you to be confident code has been battle-tested <em>internally</em> and works before submitting publicly upstream. They can also be less beholden to the upstream release cadence, which helps ensure stability for the product.</p>\n  \n  <p>To this day, this fork serves the same purpose of powering GitHub’s infrastructure. It fulfills our need to support features specialized to this infrastructure and is also used as a “staging ground” for new features before submitting them to the open source <code class=\"hljs language-undefined\">git/git</code> repository. Specific examples of the latter use include <a href=\"https://github.blog/2015-09-22-counting-objects/\">bitmaps</a> and <a href=\"https://github.blog/2021-04-29-scaling-monorepo-maintenance/\">multi-pack bitmaps</a>.</p>\n  <h2>👋 That’s all for now!</h2>\n  <p>In this post, we’ve discussed what a friendly fork is and how friendly forks differ from divergent forks. We’ve learned about three different friendly forks of the <code class=\"hljs language-undefined\">git/git</code> repository and their purposes for existing. Thanks for sticking with us this far, and be sure to keep your 👀 peeled for our second post in the “friend zone” series, in which we’ll talk about how these forks are managed and how you can adapt their strategies to your very own friendly fork!</p>\n  \n        \n    </main>\n  \n  \n    </div>\n  \n    <section>\n      <h2>\n        Related posts    </h2>\n      <div>\n        <article id=\"term-post-64307\">\n    <div>\n        <p><a href=\"https://github.blog/2022-04-23-zx-spectrum-40-year-anniversary/\">\n        \n        <img decoding=\"async\" loading=\"lazy\" alt=\"Celebrating 40 years of ZX Spectrum ❤️ 💛 💚 💙\" height=\"318\" width=\"512\" src=\"https://proxy-prod.omnivore-image-cache.app/512x318,sLdeBuU3SCHElNp6Y_GFt0pN5wl8RmiKQE8KjWIaXjnM/https://github.blog/wp-content/uploads/2022/04/zx-spectum-40-yr.2022-04-22-19_54_29.gif?resize=512%2C318\" srcset=\"https://proxy-prod.omnivore-image-cache.app/288x0,s5ljR_K1H4Inj_YR5z4vAk32v31_CTMiUV5foBXDMB7M/https://github.blog/wp-content/uploads/2022/04/zx-spectum-40-yr.2022-04-22-19_54_29.gif?resize=288%2C179 288w,https://proxy-prod.omnivore-image-cache.app/512x0,sWl6wCuIRscGSRotSAuRV_kzF_uy7nZTOANa72Qu7Lsg/https://github.blog/wp-content/uploads/2022/04/zx-spectum-40-yr.2022-04-22-19_54_29.gif?resize=512%2C318 512w,https://proxy-prod.omnivore-image-cache.app/708x0,sTyVH9DIwlYAT52zRLPzTrTK04JIgG-s0CbReBZJdZRM/https://github.blog/wp-content/uploads/2022/04/zx-spectum-40-yr.2022-04-22-19_54_29.gif?resize=708%2C440 708w,https://proxy-prod.omnivore-image-cache.app/932x0,sUL064A-puO7nJ1BhB_6EJGx-qRYfhcKzOVy6tIh0Qwo/https://github.blog/wp-content/uploads/2022/04/zx-spectum-40-yr.2022-04-22-19_54_29.gif?resize=932%2C579 932w,https://proxy-prod.omnivore-image-cache.app/1024x0,sM5sLC-z7_DpHb_WRyc0DUbG96S01gMRkaM35GraJeEg/https://github.blog/wp-content/uploads/2022/04/zx-spectum-40-yr.2022-04-22-19_54_29.gif?resize=1024%2C630 1024w,\">  </a></p><h3><a href=\"https://github.blog/2022-04-23-zx-spectrum-40-year-anniversary/\">Celebrating 40 years of ZX Spectrum ❤️ 💛 💚 💙</a></h3><p>The ZX Spectrum, one of the best-selling microcomputers of all time, celebrates its 40 years anniversary today. Read more about how the community is still active - creating new content, archiving old content, and hacking on all sorts of hardware.</p>\n      \n    </div>\n  </article>\n  <article id=\"term-post-63926\">\n    \n  </article>\n  <article id=\"term-post-64268\">\n    \n  </article>\n      </div>\n    </section>\n  </div></div>",
    "labels": "github"
  },
  {
    "description": "It happens all the time: we get a resume that everyone thinks is really exciting. Terrific grades. All kinds of powerful-sounding jobs. Lots of experience. Speaks seventeen languages. And saved over 10,000 kittens! Look! kittens! And then I call them up, and I can't stand talking to them. Within ten minutes, I realize they are…",
    "title": "The Phone Screen",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div id=\"page\">\n  \n      <p></p>\n          \n      <div id=\"content\">\n          <main role=\"main\" id=\"main\">\n  \n          \n              \n  <article id=\"post-915\">\n      \n      \n      \n  \n      \n  \n  \n      <div>\n          <p>It happens all the time: we get a resume that everyone thinks is really exciting. Terrific grades. All kinds of powerful-sounding jobs. Lots of experience. Speaks seventeen languages. And saved over 10,000 kittens!</p>\n  <p><em>Look! kittens!</em></p>\n  <p>And then I call them up, and I can’t stand talking to them. Within ten minutes, I realize they are not going to make it as programmers. I’ve had people with great resumes tell me a pointer should fit in one byte. Sometimes they just can’t answer the simplest questions, or you feel like you have to wrestle the answers out of them.</p>\n  <p>Before moving on to a full-fledged in-person interview, we usually use a phone screen to make sure that we’re not wasting time and money on someone who is just seriously not smart.</p>\n  <p>A phone screen has distinct advantages over a normal in-person interview. First, it’s cheap. It takes 45 minutes to an hour and actually does eliminate about half of the people who looked really, really good on paper.</p>\n  <p>More importantly, it’s more fair.</p>\n  <p>With a phone interview, because you can’t see the person, it’s easier to focus on the quality of what they’re saying rather than other external factors not relevant to their job, like their appearance, or their nervousness. Ever since Malcolm Gladwell wrote <a href=\"http://www.amazon.com/o/asin/0316010669\">Blink</a>, I’ve been terrified of the prospect that we might be judging candidates too quickly based on things which are not relevant to their ability to do their job—their appearance or confidence or height or general nerdy demeanor might make us way more apt to look on everything else that happens during the interview with rose-colored glasses.</p>\n  <p>The great thing about a phone interview is that it’s much harder to form these kinds of snap judgments; you actually have to listen to what the person is saying and decide if that corresponds to what a smart person might say. This isn’t completely true, of course: you may have prejudices about certain accents or dialects. But at least you are moderately less susceptible to appearance prejudice.</p>\n  <p>My phone interviews have three parts. In the first part, I ask the candidate to describe their career history and basically tell me about themselves. This is mainly intended to get them loosened up and feeling comfortable, to eliminate any nervousness, and to let them sort of present themselves the way they want to be presented. During this stage, you should be looking for evidence that the candidate is a problem solver: the kind of person who <em>gets things done.</em> You’re also looking for passion. You want people who care about the stuff that they did.</p>\n  <p>During this part I’ll drill down on two kinds of things: technology and politics.</p>\n  <blockquote dir=\"ltr\">\n  <p><strong>Technology.</strong> If someone tells me that they implemented such-and-such a project, I’ll ask detailed questions about the technology they used and how they used it. I’ll also ask specifically what role they played. Sole developer? Developer on a team? I’ll tend to go into these questions in great detail, because this is where you uncover the people who either didn’t know what they were doing, or have made things up, or have exaggerated their own roles. If someone’s resume implies that they spent two years coding in Python, for example, I’m going to drill down until I’m pretty confident that it sounds like they really have two years of Python experience. </p>\n  <p>Don’t hesitate to use trick questions. I might say, “I hate Python, because it’s really tedious to declare all your variables. That’s why I like C better.” Python doesn’t make you declare variables (and C does). Don’t be afraid that the candidate will feel pressured to agree with your false assertion. Smart programmers have a certain affinity for the truth, and they’ll call you on it. As Dave Winer says, “<a href=\"http://davenet.scripting.com/1997/05/07/Programmers\">You can’t lie to a compiler</a>.” If they’re really good, they’ll find a way to be diplomatic about it. But they’re going to be passionate enough that they’ll almost forget that they’re in an interview. That’s a good sign.</p>\n  <p><strong>Politics.</strong> Behind the boring list of past employers on the resume, there’s always a story. What I’m looking for is the story of how the candidate handled challenges in the past. I’m looking for people that got things done, even in the face of opposition. I’m looking for people who challenged the status quo, who overcame objections, and who made things happen. So when the resume says, “drove the adoption of .NET,” I want to hear what <em>drove </em>means. In detail. When the resume says that they “founded a company,” I want to hear everything. Whose idea was it? Who convinced whom? Who did what? Did it work out? Why not?</p>\n  </blockquote>\n  <p>The second part of the phone screen is the technical problem. I usually ask the same question for years and years before switching it, because this makes it easier to compare candidates. The question is a wide-ranging, open design question: how would you design a data structure or a block of code to do <em>x?</em> Where&nbsp;<em>x</em> is something kind of big and complicated. I usually have a series of questions ready to guide the candidate down a particular path in the design of this data structure or block of code, because it’s such a big question, and I can often tell how smart the candidate is by how far they get down that path in a fixed amount of time.</p>\n  <p>Here are some ideas to get you started:</p>\n  <ul>\n  <li>How might you design a program that lets people play <a href=\"http://weblog.raganwald.com/2006/06/my-favourite-interview-question.html\">Monopoly</a> with each other over the internet?</li>\n  <li>What would be a good data structure for a photo editor?</li>\n  <li>How would you implement code to operate the elevators in a high rise?</li>\n  <li>How would you implement the rendering engine of a web browser?</li>\n  </ul>\n  <p>The ideal question takes something where the interviewee is deeply familiar with how the thing works from having used it, but is unlikely to have ever implemented it themselves. You want something that can be done over the phone, without too much writing, so “how would you write the code for quicksort” is a bad question, because we don’t expect programmers to be able to recite code over the phone. You want to have a conversation about algorithms and data structures, really, the meat and potatoes of programming, where the goal is <em>not</em> to find the best possible answer, necessarily, but simply to give you the opportunity to talk about code, to talk about time/space tradeoffs, to talk about performance characteristics of code, all of which will add up to giving you a pretty good idea in your mind whether the person you’re talking to is actually pretty good at programming and whether they’re smart or not. If you find yourself explaining everything three times, either you’re terrible at explaining things, or you’re talking to someone who is not that smart.</p>\n  <p>The bottom line in my interviewing technique is that smart people can generally tell if they’re talking to other smart people by having a conversation with them on a difficult or highly technical subject, and the interview question is really just a pretext to have a conversation on a difficult subject so that the interviewer’s judgment can form an opinion on whether this is a smart person or not.</p>\n  <p>The third and final part of the interview is letting the candidate interview <em>me.</em> Remember, the whole philosophy of recruiting is predicated on the idea that smart candidates have a choice of where to work, and if that’s true, the interview process is as much a way for the candidate to decide if they want to work for us as it is a way for us to decide if we want to hire the candidate. “Do you have any questions about Fog Creek, about working at Fog Creek, or anything else you want to ask me?” </p>\n  <p>Sometimes this part of the interview reveals a frightening lack of preparation by the candidate. “So, what exactly does Fog Creek do? And where are you located?” Failing to do even the most basic homework before the interview, by spending five minutes on our web site, does not give me a great deal of confidence in the candidate’s ability to be smart or to get things done.</p>\n  <p>By this point I’ve already decided if this person seems smart enough to score an in-person interview. So I treat the third part of the phone interview as if I were the one being interviewed, and the candidate was the one that had to be sold on Fog Creek. Which they do.</p>\n  <p>Passing a phone screen is never enough to get hired. It’s nothing more than a simple filter designed to save time and expense on in-person interviews, and to eliminate candidates who will never make it before you’ve flown them all the way across the country and put them up in a fancy hotel. Still, even with the phone screen, probably only about one in three candidates makes it all the way through the in-person interview.</p>\n  \n              </div>\n  \n  </article>\n  \n  \n  \n      \n  \n  <div>\n          \n  \n          <p>\n              In 2000 I co-founded Fog Creek Software, where we created lots of cool things like the FogBugz bug tracker, Trello, and Glitch. I also worked with Jeff Atwood to create Stack Overflow and served as CEO of Stack Overflow from 2010-2019.\n  \n  Today I serve as the chairman of the board for <a href=\"https://stackoverflow.com/\">Stack Overflow</a>, <a href=\"https://glitch.com/\">Glitch</a>, and <a href=\"https://hash.ai/\">HASH</a>.</p>\n      </div>\n  \n                  \n          \n              \n          \n          </main>\n      </div>\n  \n      \n  </div></div>",
    "labels": "leadership"
  },
  {
    "description": "A motley gang of anarchists, free-love advocates, and banana-rights agitators have hijacked The Love Boat out of Puerto Vallarta and are threatening to sink it in 7 days with all 616 passengers and 327 crew members unless their demands are met. The demand? A million dollars in small unmarked bills, and a GPL implementation of…",
    "title": "The Guerrilla Guide to Interviewing (version 3.0)",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div role=\"main\" id=\"main\">\n  \n          \n              \n  <article id=\"post-919\">\n      \n      \n      \n  \n      \n  \n  \n      <div>\n          <p>A motley gang of anarchists, free-love advocates, and banana-rights agitators have hijacked <em>The Love Boat</em> out of Puerto Vallarta and are threatening to sink it in 7 days with all 616 passengers and 327 crew members unless their demands are met. The demand? A million dollars in small unmarked bills, and a GPL implementation of WATFIV, that is, the esteemed Waterloo Fortran IV compiler. (It’s surprising how few things the free-love people can find to agree on with the banana-rights people.)</p>\n  <p><img height=\"188\" width=\"250\" src=\"https://proxy-prod.omnivore-image-cache.app/250x188,s2Vknh0IRYitOnzTgxufsDTt0X_pfgqq9Tr4bJEZCiMI/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/10/interviewing1.jpg?resize=250%2C188&amp;ssl=1\" alt=\"\">As chief programmer of the Festival Cruise programming staff, you’ve got to decide if you can deliver a Fortran compiler from scratch in seven days. You’ve got a staff of two programmers to help you.</p>\n  <p>Can you do it?</p>\n  <p>“Well, I suppose, it depends,” you say. One of the benefits of writing this article is that I get to put words into your mouth and you can’t do a darn thing about it.</p>\n  <p>On what? </p>\n  <p>“Um, will my team be able to use UML-generating tools?”</p>\n  <p>Does that really matter? Three programmers, seven days, Waterloo Fortran IV. Are UML tools going to make or break it?</p>\n  <p>“I guess not.”</p>\n  <p>OK, so, what does it depend on? </p>\n  <p>“Will we have 19 inch monitors? And will we have access to all the Jolt we can drink?”</p>\n  <p>Again, does this matter? Is caffeine going to determine whether you can do it?</p>\n  <p>“I guess not. Oh, wait. You said I have a staff of two programmers?”</p>\n  <p>Right.</p>\n  <p>“Who are they?”</p>\n  <p>Does that matter?</p>\n  <p>“Sure! If the team doesn’t get along, we’ll never be able to work together. And I know a few superstar programmers who could crank out a Fortran compiler <em>by themselves</em> in one week, and <em>lots</em> of programmers who couldn’t write the code to print the startup banner if they had six months.”</p>\n  <p>Now we’re on to something!</p>\n  <p>Everybody gives lip service to the idea that people are the most important part of a software project, but nobody is quite sure what you can <em>do</em> about it. The very first thing you have to do right if you want to have good programmers is to <em>hire</em> the right programmers, and that means you have to be able to figure out who the right programmers <em>are</em>, and this is usually done in the interview process. So this chapter is all about interviewing.</p>\n  <p>(The in-person interview is just one part of the hiring process, which starts with <a href=\"https://www.joelonsoftware.com/articles/SortingResumes.html\">sorting resumes</a> and a <a href=\"https://www.joelonsoftware.com/articles/ThePhoneScreen.html\">phone screen</a>. This article only covers in-person interviews.)</p>\n  <p><img height=\"188\" width=\"250\" src=\"https://proxy-prod.omnivore-image-cache.app/250x188,s2IJtYJDovNI3K7rxDmVg3rx2hnmE9czWKWiLbOWhDE0/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/10/interviewing2.jpg?resize=250%2C188&amp;ssl=1\" alt=\"\" loading=\"lazy\">You should always try to have at least six people interview each candidate that gets hired, including at least five who would be peers of that candidate (that is, other programmers, not managers). You know the kind of company that just has some salty old manager interview each candidate, and that decision is the only one that matters? These companies don’t have very good people working there. It’s too easy to fake out one interview, especially when a non-programmer interviews a programmer. </p>\n  <p>If even two of the six interviewers thinks that a person is not worth hiring, don’t hire them. That means you can technically end the “day” of interviews after the first two if the candidate is not going to be hired, which is not a bad idea, but to avoid cruelty you may not want to tell the candidate in advance how many people will be interviewing them. I have heard of companies that allow any interviewer to reject a candidate. This strikes me as a little bit too aggressive; I would probably allow any senior person to reject a candidate but would not reject someone just because one junior person didn’t like them.</p>\n  <p>Don’t try to interview a bunch of people at the same time. It’s just not fair. Each interview should consist of one interviewer and one interviewee, in a room with a door that closes and a whiteboard. I can tell you from extensive experience that if you spend less than one hour on an interview you’re not going to be able to make a decision.</p>\n  <p>You’re going to see three types of people in your interviews. At one end of the scale, there are the unwashed masses, lacking even the most basic skills for this job. They are easy to ferret out and eliminate, often just by asking two or three quick questions. At the other extreme you’ve got your brilliant superstars who write lisp compilers for fun, in a weekend, in Assembler for the Nintendo DS. And in the middle, you have a large number of “maybes” who seem like they might just be able to contribute something. The trick is telling the difference between the superstars and the maybes, because the secret is that you don’t want to hire any of the maybes. Ever.</p>\n  <p>At the end of the interview, you must be prepared to make a sharp decision about the candidate. There are only two possible outcomes to this decision: <em>Hire</em> or <em>No Hire</em>. There is no other possible answer. <em>Never</em> say, “Hire, but not for my team.” This is rude and implies that the candidate is not smart enough to work with you, but maybe he’s smart enough for those losers over in that other team. If you find yourself tempted to say “Hire, but not in my team,” simply translate that mechanically to “No Hire” and you’ll be OK. Even if you have a candidate that would be brilliant at doing your particular task, but wouldn’t be very good in another team, that’s a <em>No Hire</em>. In software, things change so often and so rapidly that you need people that can succeed at just about any programming task that you throw at them. If for some reason you find an idiot savant that is really, really, really good at SQL but completely incapable of ever learning any other topic, <em>No Hire</em>. You’ll solve some short term pain in exchange for a lot of long term pain.</p>\n  <p><em>Never</em> say “Maybe, I can’t tell.” If you can’t tell, that means <em>No Hire</em>. It’s really easier than you’d think. Can’t tell? Just say no! If you are on the fence, that means <em>No Hire.</em> Never say, “Well, Hire, I guess, but I’m a little bit concerned about…” That’s a <em>No Hire</em> as well. Mechanically translate all the waffling to “no” and you’ll be all right.</p>\n  <p><img data-recalc-dims=\"1\" height=\"188\" width=\"250\" src=\"https://proxy-prod.omnivore-image-cache.app/250x188,sI7V-LNQCC0QW5khOjmIrhbz3JrZOrgQroSlIPpleDEc/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/10/interviewing3.jpg?resize=250%2C188&amp;ssl=1\" alt=\"\" loading=\"lazy\">Why am I so hardnosed about this? It’s because it is much, <em>much</em> better to reject a good candidate than to accept a bad candidate. A bad candidate will cost a lot of money and effort and waste other people’s time fixing all their bugs. Firing someone you hired by mistake can take months and be nightmarishly difficult, especially if they decide to be litigious about it. In some situations it may be completely impossible to fire anyone. Bad employees demoralize the good employees. And they might be bad programmers but really <em>nice people</em> or maybe they <em>really need this job</em>, so you can’t bear to fire them, or you can’t fire them without pissing everybody off, or whatever. It’s just a bad scene.</p>\n  <p>On the other hand, if you reject a good candidate, I mean, I <em>guess</em> in some existential sense an injustice has been done, but, hey, if they’re so smart, don’t worry, they’ll get <em>lots</em> of good job offers. Don’t be afraid that you’re going to reject too many people and you won’t be able to find anyone to hire. During the interview, it’s not your problem. Of course, it’s important to seek out good candidates. But once you’re actually interviewing someone, pretend that you’ve got 900 more people lined up outside the door. Don’t lower your standards no matter how hard it seems to find those great candidates.</p>\n  <p>OK, I didn’t tell you the most important part—how do you know whether to hire someone?</p>\n  <p>In principle, it’s simple. You’re looking for people who are</p>\n  <ol>\n  <li>Smart, and</li>\n  <li>Get things done.</li>\n  </ol>\n  <p>That’s it. That’s all you’re looking for. Memorize that. Recite it to yourself before you go to bed every night. You don’t have enough time to figure out much more in a short interview, so don’t waste time trying to figure out whether the candidate might be pleasant to be stuck in an airport with, or whether they really know ATL and COM programming or if they’re just faking it.</p>\n  <p>People who are <em>Smart</em> but don’t <em>Get Things Done</em> often have PhDs and work in big companies where nobody listens to them because they are completely impractical. They would rather mull over something academic about a problem rather than ship on time. These kind of people can be identified because they love to point out the theoretical similarity between two widely divergent concepts. For example, they will say, “Spreadsheets are really just a special case of programming language,” and then go off for a week and write a thrilling, brilliant whitepaper about the theoretical computational linguistic attributes of a spreadsheet as a programming language. Smart, but not useful. The other way to identify these people is that they have a tendency to show up at your office, coffee mug in hand, and try to start a long conversation about the relative merits of Java introspection vs. COM type libraries, <em>on the day you are trying to ship a beta</em>.</p>\n  <p>People who <em>Get Things Done</em> but are not <em>Smart</em> will do stupid things, seemingly without thinking about them, and somebody else will have to come clean up their mess later. This makes them net <em>liabilities</em> to the company because not only do they fail to contribute, but they soak up good people’s time. They are the kind of people who decide to refactor your core algorithms to use the Visitor Pattern, which they just read about the night before, and completely misunderstood, and instead of simple loops adding up items in an array you’ve got an AdderVistior class (yes, it’s spelled wrong) and a VisitationArrangingOfficer singleton and none of your code works any more.</p>\n  <p><img data-recalc-dims=\"1\" height=\"250\" width=\"188\" src=\"https://proxy-prod.omnivore-image-cache.app/188x250,spcKjYFGJnSKOqLaojnmoSL_1e0Sr8NpaJsERfDXak7o/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/10/interviewing4.jpg?resize=188%2C250&amp;ssl=1\" alt=\"\" loading=\"lazy\">How do you detect <em>smart</em> in an interview? The first good sign is that you don’t have to explain things over and over again. The conversation just flows. Often, the candidate says something that shows real insight, or brains, or mental acuity. So an important part of the interview is creating a situation where someone can show you how smart they are. The worst kind of interviewer is the blowhard. That’s the kind who blabs the whole time and barely leaves the candidate time to say, “yes, that’s <em>so</em> true, I <em>couldn’t agree with you more</em>.” Blowhards hire everyone; they think that the candidate must be smart because “he thinks so much like me!”</p>\n  <p>The second worst kind of interviewer is the Quiz Show Interviewer. This is the kind of person who thinks that smart means “knows a lot of facts.” They just ask a bunch of trivia questions about programming and give points for correct answers. Just for fun, here is the worst interview question on Earth: “What’s the difference between varchar and varchar2 in Oracle 8i?” This is a terrible question. There is no possible, imaginable correlation between people that know that particular piece of trivia and people that you want to hire. Who cares what the difference is? You can find out online in about fifteen seconds! Remember, smart does <em>not</em> mean “knows the answer to trivia questions.” Anyway, software teams want to hire people with <em>aptitude</em>, not a particular skill set. Any skill set that people can bring to the job will be technologically obsolete in a couple of years, anyway, so it’s better to hire people that are going to be able to learn any new technology rather than people who happen to know how to make JDBC talk to a MySQL database <em>right this minute</em>.</p>\n  <p>But in general, the way to learn the most about a person is to let them do the talking. Give them open-ended questions and problems.</p>\n  <p>So, what do you ask?</p>\n  <p>My personal list of interview questions originates from my first job at Microsoft. There are actually hundreds of famous Microsoft interview questions. Everybody has a set of questions that they really like. You, too, will develop a particular set of questions and a personal interviewing style which helps you make the <em>Hire/No Hire</em> decision. Here are some techniques that I have used that have been successful.</p>\n  <p>Before the interview, I read over the candidates resume and jot down an interview plan on a scrap of paper. That’s just a list of questions that I want to ask. Here’s a typical plan for interviewing a programmer: </p>\n  <ol>\n  <li>Introduction </li>\n  <li>Question about recent project candidate worked on </li>\n  <li>Easy Programming Question </li>\n  <li>Pointer/Recursion Question</li>\n  <li>Are you satisfied? </li>\n  <li>Do you have any questions? </li>\n  </ol>\n  <p>I am very, very careful to avoid anything that might give me some preconceived notions about the candidate. If you think that someone is smart before they even walk into the room, just because they have a Ph.D. from MIT, then nothing they can say in one hour is going to overcome that initial prejudice. If you think they are a bozo because they went to community college, nothing they can say will overcome that initial impression. An interview is like a very, very delicate scale—it’s very hard to judge someone based on a one hour interview and it may seem like a very close call. But if you know a little bit about the candidate beforehand, it’s like a big weight on one side of the scale, and the interview is useless. Once, right before an interview, a recruiter came into my office. “You’re going to <em>love</em> this guy,” she said. <em>Boy</em> did this make me mad. What I should have said was, “Well, if you’re so sure I’m going to love him, why don’t you just hire him instead of wasting my time going through this interview.” But I was young and naïve, so I interviewed him. When he said not-so-smart things, I thought to myself, “gee, must be the exception that proves the rule.” I looked at everything he said through rose-colored glasses. I wound up saying <em>Hire</em> even though he was a crappy candidate. You know what? Everybody else who interviewed him said <em>No Hire</em>. So: don’t listen to recruiters; don’t ask around about the person before you interview them; and never, ever talk to the other interviewers about the candidate until you’ve both made your decisions independently. That’s the scientific method.</p>\n  <p><img data-recalc-dims=\"1\" height=\"188\" width=\"250\" src=\"https://proxy-prod.omnivore-image-cache.app/250x188,s8s4AeGQNNDxnCtrJXO5vEJioGUNAfVnKZsuSldAg4O4/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/10/interviewing5.jpg?resize=250%2C188&amp;ssl=1\" alt=\"\" loading=\"lazy\">The <em>introduction</em> phase of the interview is intended to put the candidate at ease. I ask them if they had a nice flight. I spend about 30 seconds telling the person who I am and how the interview will work. I always reassure candidates that we are interested in <em>how</em> they go about solving problems, not the actual answer.</p>\n  <p>Part two is a question about some recent project that the candidate worked on. For interviewing college kids, ask them about their senior thesis, if they had one, or about a course they took that involved a long project that they really enjoyed. For example, sometimes I will ask, “what class did you take last semester that you liked the most? It doesn’t have to be computer-related.” When interviewing experienced candidates, you can talk about their most recent assignment from their previous job.</p>\n  <p>Again, ask open-ended questions and sit back and listen, with only the occasional “tell me more about that” if they seem to stall.</p>\n  <p>What should you look for during the open ended questions?</p>\n  <p>One: Look for passion. Smart people are passionate about the projects they work on. They get very excited talking about the subject. They talk quickly, and get animated. Being passionately <em>negative</em> can be just as good a sign. “My last boss wanted to do everything on VAX computers because it was all he understood. What a dope!” There are far too many people around that can work on something and not really care one way or the other. It’s hard to get people like this motivated about anything.</p>\n  <p>Bad candidates just don’t care and will not get enthusiastic at all during the interview. A really good sign that a candidate is passionate about something is that when they are talking about it, they will forget for a moment that they are in an interview. Sometimes a candidate comes in who is very nervous about being in an interview situation—this is normal, of course, and I always ignore it. But then when you get them talking about Computational Monochromatic Art they will get extremely excited and lose all signs of nervousness. Good. I like passionate people who really care. (To see an example of Computational Monochromatic Art try unplugging your monitor.) You can challenge them on something (try it—wait for them to say something that’s probably true and say “that couldn’t be true”) and they will defend themselves, even if they were sweating five minutes ago, because they care so much they forget that you are going to be making Major Decisions About Their Life soon.</p>\n  <p>Two: Good candidates are careful to explain things well, at whatever level. I have rejected candidates because when they talked about their previous project, they couldn’t explain it in terms that a normal person could understand. Often CS majors will just assume that everyone knows what Bates Theorem is or what O(log <em>n</em>) means. If they start doing this, stop them for a minute and say, “could you do me a favor, just for the sake of the exercise, could you please explain this in terms my grandmother could understand.” At this point many people will <em>still</em> continue to use jargon and will completely fail to make themselves understood. <em>Gong!</em> You don’t want to hire them, basically, because they are not smart enough to comprehend what it takes to make other people understand their ideas.</p>\n  <p>Three: If the project was a team project, look for signs that they took a leadership role. A candidate might say, “We were working on X, but the boss said Y and the client said Z.” I’ll ask, “So what did <em>you</em> do?” A good answer to this might be “I got together with the other members of the team and wrote a proposal…” A bad answer might be, “Well, there was nothing I <em>could</em> do. It was an impossible situation.” Remember, <em>Smart</em> and <em>Gets Things Done</em>. The only way you’re going to be able to tell if somebody <em>Gets Things Done</em> is to see if historically they have tended to get things done in the past. In fact, you can even ask them directly to give you an example from their recent past when they took a leadership role and got something done—overcoming some institutional inertia, for example.</p>\n  <p><img data-recalc-dims=\"1\" height=\"188\" width=\"250\" src=\"https://proxy-prod.omnivore-image-cache.app/250x188,sYNYb8W-26Ta8_h6fvMkLQjkZVnzoN0j14-R52SEUfCk/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/10/interviewing6.jpg?resize=250%2C188&amp;ssl=1\" alt=\"\" loading=\"lazy\">Most of the time in the interview, though, should be spent letting the candidate prove that they can write code.</p>\n  <p>Reassure candidates that you understand that it’s hard to write code without an editor, and you will forgive them if the whiteboard gets really messy. Also you understand that it’s hard to write bug-free code without a compiler, and you will take that into account.</p>\n  <p>For the first interview of the day, I’ve started including a really, really easy programming problem. I had to start doing this during the dotcom boom when a lot of people who thought HTML was “programming” started showing up for interviews, and I needed a way to avoid wasting too much time with them. It’s the kind of problem that any programmer working today should be able to solve in about one minute. Some examples:</p>\n  <ol>\n  <li>Write a function that determines if a string starts with an upper-case letter A-Z</li>\n  <li>Write a function that determines the area of a circle given the radius</li>\n  <li>Add up all the values in an array</li>\n  </ol>\n  <p>These softball questions seem too easy, so when I first started asking them, I had to admit that I really expected everyone to sail right through them. What I discovered was that everybody <em>solved</em> the problem, but there was a lot of variation in <em>how long</em> it took them to solve.</p>\n  <p>That reminded me of why I couldn’t trade bonds for a living.</p>\n  <p>Jared is a bond trader. He is always telling me about interesting deals that he did. There’s this thing called an option, and there are puts, and calls, and the market steepens, so you put on steepeners, and it’s all very confusing, but the weird thing is that <em>I know what all the words mean,</em> I know exactly what a put is (the right, but not the responsibility, to sell something at a certain price) and in only three minutes I can figure out what should happen if you own a put and the market goes up, but I need the <em>full</em> three minutes to figure it out, and when he’s telling me a more complicated story, where the puts are just the first bit, there are lots of other bits to the story, I lose track very quickly, because I’m lost in thought (“let’s see, market goes up, that mean interest rates go <em>down</em>, and now, a put is the right to sell something…”) until he gets out the graph paper and starts walking me through it, and my eyes glazeth over and it’s very sad. Even though I understand all the little bits, I can’t understand them <em>fast enough</em> to get the big picture.</p>\n  <p>And the same thing happens in programming. If the basic concepts aren’t so easy that you don’t even have to think about them, you’re not going to get the big concepts.</p>\n  <p>Serge Lang, a math professor at Yale, used to give his Calculus students a fairly simple algebra problem on the first day of classes, one which almost everyone could solve, but some of them solved it <em>as quickly as they could write</em> while others took a while, and Professor Lang claimed that all of the students who solved the problem as quickly as they could write would get an A in the Calculus course, and all the others wouldn’t. The <em>speed</em> with which they solved a simple algebra problem was as good a predictor of the final grade in Calculus as a whole semester of homework, tests, midterms, and a final.</p>\n  <p>You see, if you can’t whiz through the <em>easy</em> stuff at 100 m.p.h., you’re never gonna get the advanced stuff.</p>\n  <p>But like I said, the good programmers stand up, write the answer on the board, sometimes adding a clever fillip (Ooh! Unicode compliant! Nice!), and it takes thirty seconds, and now I have to decide if they’re really good, so I bring out the big guns: recursion and pointers.</p>\n  <p><img data-recalc-dims=\"1\" height=\"188\" width=\"250\" src=\"https://proxy-prod.omnivore-image-cache.app/250x188,s3Po_05A911vVMTuDfatLXeoLWQVK_cRMLBykvgtwvtY/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/10/interviewing7.jpg?resize=250%2C188&amp;ssl=1\" alt=\"\" loading=\"lazy\">15 years of experience interviewing programmers has convinced me that the best programmers all have an easy aptitude for dealing with multiple levels of abstraction simultaneously. In programming, that means specifically that they have no problem with recursion (which involves holding in your head multiple levels of the call stack at the same time) or complex pointer-based algorithms (where the address of an object is sort of like an abstract representation of the object itself).</p>\n  <p>I’ve come to realize that understanding pointers in C is not a skill, it’s an aptitude. In first year computer science classes, there are always about 200 kids at the beginning of the semester, all of whom wrote complex adventure games in BASIC for their PCs when they were 4 years old. They are having a good ol’ time learning C or Pascal in college, until one day the professor introduces pointers, and suddenly, <em>they don’t get it</em>. They just don’t understand anything any more. 90% of the class goes off and becomes Political Science majors, then they tell their friends that there weren’t enough good looking members of the appropriate sex in their CompSci classes, that’s why they switched. <em>For some reason most people seem to be born without the part of the brain that understands pointers.</em> Pointers require a complex form of doubly-indirected thinking that some people just can’t do, and it’s pretty crucial to good programming. A lot of the “script jocks” who started programming by copying JavaScript snippets into their web pages and went on to learn Perl never learned about pointers, and they can never quite produce code of the quality you need.</p>\n  <p>That’s the source of all these famous interview questions you hear about, like “reversing a linked list” or “detect loops in a tree structure.”</p>\n  <p>Sadly, despite the fact that I think that all good programmers should be able to handle recursion and pointers, and that this is an excellent way to tell if someone is a good programmer, the truth is that these days, programming languages have almost completely made that specific art unnecessary. Whereas ten years ago it was rare for a computer science student to get through college without learning recursion and functional programming in one class and C or Pascal with data structures in another class, today <a href=\"https://www.joelonsoftware.com/articles/ThePerilsofJavaSchools.html\">it’s possible in many otherwise reputable schools to coast by on Java alone</a>.</p>\n  <p>A lot of programmers that you might interview these days are apt to consider recursion, pointers, and even data structures to be a silly implementation detail which has been abstracted away by today’s many happy programming languages. “When was the last time you had to write a sorting algorithm?” they snicker.</p>\n  <p>Still, I don’t really care. I want my ER doctor to understand anatomy, even if all she has to do is put the computerized defibrillator nodes on my chest and push the big red button, and I want programmers to know programming down to the CPU level, even if Ruby on Rails <em>does</em> read your mind and build a complete Web 2.0 social collaborative networking site for you with three clicks of the mouse.</p>\n  <p><img data-recalc-dims=\"1\" height=\"188\" width=\"250\" src=\"https://proxy-prod.omnivore-image-cache.app/250x188,sZLdF0SXxMkScnNYbJFuorLLepfXrSR9drOFQLUPDAVY/https://i0.wp.com/www.joelonsoftware.com/wp-content/uploads/2006/10/interviewing8.jpg?resize=250%2C188&amp;ssl=1\" alt=\"\" loading=\"lazy\">Even though the format of the interview is, superficially, just a candidate writing some code on the whiteboard, my real goal here is to have a conversation about it. “Why did you do it that way?” “What are the performance characteristics of your algorithm?” “What did you forget?” “Where’s your bug?”</p>\n  <p>That means I don’t really mind giving programming problems that are too hard, as long as the candidate has some chance of starting out, and then I’m happy to dole out little hints along the way, little toeholds, so to speak. I might ask someone, say, to project a triangle onto a plane, a typical graphics problem, and I don’t mind helping them with the trig (SOH-CAH-TOA, baby!), and when I ask them how to speed it up, I might drop little hints about look-up tables. Notice that the kinds of hints I’m happy to provide are really just answers to trivia questions—the kinds of things that you find on Google.</p>\n  <p>Inevitably, you will see a bug in their function. So we come to question five from my interview plan: “Are you satisfied with that code?” You may want to ask, “OK, so where’s the bug?” The quintessential Open Ended Question From Hell. All programmers make mistakes, there’s nothing wrong with that, they just have to be able to find them. With string functions in C, most college kids forget to null-terminate the new string. With almost any function, they are likely to have off-by-one errors. They will forget semicolons sometimes. Their function won’t work correctly on 0 length strings, or it will GPF if malloc fails… Very, very rarely, you will find a candidate that doesn’t have any bugs the first time. In this case, this question is even more fun. When you say, “There’s a bug in that code,” they will review their code carefully, and then you get to see if they can be diplomatic yet firm in asserting that the code is perfect.</p>\n  <p>As the last step in an interview, ask the candidate if they have any questions. Remember, even though you’re interviewing them, the good candidates have lots of choices about where to work and they’re using this day to figure out if they want to work for you.</p>\n  <p>Some interviewees try to judge if the candidate asks “intelligent” questions. Personally, I don’t care what questions they ask; by this point I’ve already made my decision. The trouble is, candidates have to see about five or six people in one day, and it’s hard for them to ask five or six people different, brilliant questions, so if they don’t have any questions, fine.</p>\n  <p>I always leave about five minutes at the end of the interview to sell the candidate on the company and the job. This is actually important <em>even if you are not going to hire them.</em> If you’ve been lucky enough to find a really good candidate, you want to do everything you can at this point to make sure that they want to come work for you. Even if they are a bad candidate, you want them to like your company and go away with a positive impression.</p>\n  <p>Ah, I just remembered that I should give you some more examples of really bad questions.</p>\n  <p>First of all, avoid the illegal questions. Anything related to race, religion, gender, national origin, age, military service eligibility, veteran status, sexual orientation, or physical handicap is illegal here in the United States. If their resume says they were in the Marines, you can’t ask them, even to make pleasant conversation, if they were in Iraq. It’s against the law to discriminate based on veteran status. If their resume says that they attended the Technion in Haifa, don’t ask them, even conversationally, if they are Israeli, even if you’re just making conversation because your wife is Israeli, or you love Felafel. It’s against the law to discriminate based on national origin.</p>\n  <p>Next, avoid any questions which might make it seem like you care about, or are discriminating based on, things which you don’t actually care about or discriminate based on. The best example of this I can think of is asking someone if they have kids or if they are married. This might give the impression that you think that people with kids aren’t going to devote enough time to their work or that they are going to run off and take maternity leave. Basically, stick to questions which are completely relevant to the job for which they are interviewing.</p>\n  <p>Finally, avoid brain teaser questions like the one where you have to arrange 6 equal length sticks to make exactly 4 identical perfect triangles. Or anything involving pirates, marbles, and secret codes. Most of these are “Aha!” questions—the kind of question where either you know the answer or you don’t. With these questions knowing the answer just means you heard that brain teaser before. So as an interviewer, you don’t get any information about “smart/get things done” by figuring out if they happen to make a particular mental leap.</p>\n  <p>In the past, I’ve used “impossible questions,” also known as “back of the envelope questions.” Classic examples of this are “How many piano tuners are there in Seattle?” The candidate won’t know the answer, but smart candidates won’t give up and they’ll be happy to try and estimate a reasonable number for you. Let’s see, there are probably… what, a million people in Seattle? And maybe 1% of them have pianos? And a piano needs to be tuned every couple of years? And it takes 35 minutes to tune one? All wrong, of course, but at least they’re attacking the problem. The only reason to ask a question like this is that it lets you have a conversation with the candidate. “OK, 35 minutes, but what about travel time between pianos?”</p>\n  <p>“Good point. If the piano tuner could take reservations well in advance they could probably set up their schedule to minimize travel time. You know, do all the pianos in Redmond on Monday rather than going back and forth across 520 three times a day.”</p>\n  <p>A good back-of-the-envelope question allows you to have a conversation with the candidate that helps you form an opinion about whether they are smart. A bad “Aha!” pirate question usually results in the candidate just sort of staring at you for a while and then saying they’re stuck.</p>\n  <p>If, at the end of the interview, you’ve convinced yourself that this person is <em>smart</em> and <em>gets things done</em>, and four or five other interviewers agree, you probably won’t go wrong in hiring them. But if you have any doubts, you’re better off waiting for someone better.</p>\n  <p>The optimal time to make a decision about the candidate is about three minutes after the end of the interview. Far too many companies allow interviewers to wait days or weeks before turning in their feedback. Unfortunately, the more time that passes, the less you’ll remember.</p>\n  <p>I ask interviewers to write <em>immediate</em> feedback after the interview, either a “hire” or “no hire”, followed by a one or two paragraph justification. It’s due 15 minutes after the interview ends.</p>\n  <p>If you’re having trouble deciding, there’s a very simple solution. NO HIRE. Just don’t hire people that you aren’t sure about. This is a little nerve wracking the first few times—what if we <em>never</em> find someone good? That’s OK. If your resume and phone-screening process is working, you’ll probably have about 20% hires in the live interview. And when you find the smart, gets-things-done candidate, <em>you’ll know it.</em> If you’re not thrilled with someone, move on.</p>\n  \n              </div>\n  \n  </article>\n  \n  \n  \n      \n  \n  <div>\n          \n  \n          <p>\n              In 2000 I co-founded Fog Creek Software, where we created lots of cool things like the FogBugz bug tracker, Trello, and Glitch. I also worked with Jeff Atwood to create Stack Overflow and served as CEO of Stack Overflow from 2010-2019.\n  \n  Today I serve as the chairman of the board for <a href=\"https://stackoverflow.com/\">Stack Overflow</a>, <a href=\"https://glitch.com/\">Glitch</a>, and <a href=\"https://hash.ai/\">HASH</a>.</p>\n      </div>\n  \n                  \n          \n              \n          \n          </div></div>",
    "labels": "leadership"
  },
  {
    "description": "C# and other .NET languages can now be compiled to Wasm. In this post, we show how to run cloud-side .NET in a WebAssembly runtime.",
    "title": "Running .NET in WebAssembly",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div> <article>   <p>It’s common to describe C# as an object-oriented language for big Microsoft shops. But nowadays that sells it short. C# has increasingly moved away from its conservative roots, thoughtfully bringing on features from functional and research languages, and gradually shedding ceremony to compete with leaner languages. Today, C# is estimated to be <a href=\"https://redmonk.com/sogrady/2021/08/05/language-rankings-6-21/\">the fifth most popular programming language</a> in the world.</p><p>C# targets the .NET runtime, a language-neutral execution environment that runs a low-level bytecode. Other .NET languages include F#, a functional-object hybrid with a vibrant open source and data science community, and Microsoft’s Visual Basic, a .NET dialect of an old enterprise favourite. Traditionally, the .NET runtime has been a native executable. But recently we’ve seen .NET starting to arrive on WebAssembly. And with it comes <a href=\"https://www.fermyon.com/wasm-languages/c-sharp\">C# - and every other .NET language</a>.</p><p>In this post, we’ll look at how to write and build a server-side WebAssembly app in C#.</p><h2>C#, .NET, and WebAssembly</h2><p>WebAssembly is a <a href=\"https://www.fermyon.com/blog/how-to-think-about-wasm\">binary executable format</a>. C# already compiles one binary executable format, .NET bytecode, but changing it to target another is tricky for a bunch of reasons. For a start, the C# language is deeply entwined with the .NET standard library. For another, C# gets a lot less interesting if you can’t use its NuGet package ecosystem, and in .NET land, packages are distributed as bytecode binaries. Plus, if you compiled C# to Wasm bytecode, that wouldn’t help you with other .NET languages.</p><p>So .NET has taken a different approach to Wasm, one a little more akin to the <a href=\"https://www.fermyon.com/blog/python-wagi\">Python approach</a>. Instead of compiling C# to Wasm bytecode, the strategy is to compile <em>the .NET runtime</em> to Wasm bytecode. This means that any .NET bytecode - whether it’s a C# or F# program, or a third-party NuGet binary package - should ‘just work’, because as far as the program is concerned, it’s just in the .NET runtime. Just as a Python program doesn’t care that the Python interpreter is running on Wasm, the .NET code doesn’t care that the .NET runtime is running on Wasm.</p><p>We’re skipping over a <em>lot</em> of details here. We’ll come back to some of those as we progress. But it’s time to get our hands dirty.</p><h2>Getting the .NET WASI SDK</h2><p>There’s already a limited .NET runtime for Web pages called Blazor, but we’re interested in running Wasm on the server, so we need the <a href=\"https://github.com/SteveSandersonMS/dotnet-wasi-sdk\">Experimental WASI SDK for .NET Core</a>. (Microsoft and .NET might be all open-source and cross-platform and all that, but they still love them some wordy naming.) You’ll also need some prerequisites.</p><h3>Get .NET 7 Preview 2 or above</h3><p>You can get .NET 7 previews from the <a href=\"https://dotnet.microsoft.com/en-us/download/dotnet/7.0\">download site</a>. The WASI SDK repository says you need Preview 4 or above, but that’s not up at the time of writing; fortunately, it seems like Preview 2 works for what we need to do.</p><p>Make sure you have the right version by running <code class=\"hljs language-ada language-applescript\">dotnet <span class=\"hljs-comment\">--version</span></code> - you want to see <code class=\"hljs language-angelscript language-css\"><span class=\"hljs-number\">7.0</span><span class=\"hljs-number\">.100</span>-preview<span class=\"hljs-number\">.2</span></code> or above.</p><h3>Build the WASI SDK</h3><p>You will need to build the WASI runtime from source. For this you will need to be on Linux or WSL. Put aside some time - even on a fairly fast machine!</p><ul><li>Clone the SDK repo: <code class=\"hljs language-crmsh language-awk\">git <span class=\"hljs-keyword\">clone</span> <span class=\"hljs-title\">https</span>://github.com/SteveSandersonMS/dotnet-wasi-sdk</code></li><li>Change to the SDK directory and pull in the runtime module source: <code class=\"hljs language-brainfuck language-jboss-cli\"><span class=\"hljs-comment\">git</span> <span class=\"hljs-comment\">submodule</span> <span class=\"hljs-comment\">update</span> --<span class=\"hljs-comment\">init</span> --<span class=\"hljs-comment\">recursive</span></code></li><li>Follow the <a href=\"https://github.com/SteveSandersonMS/dotnet-wasi-sdk#building-this-repo-from-source\">build instructions</a> in the read-me</li></ul><p>After this is all done you will likely need to open a new terminal window or tab.</p><p>To confirm that it’s working, change to the <code class=\"hljs language-undefined\">samples/ConsoleApp</code> directory and run <code class=\"hljs language-ebnf language-n1ql\"><span class=\"hljs-attribute\">dotnet build</span></code>. You should get a file <code class=\"hljs language-reasonml language-css\"><span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">ConsoleApp</span>.</span></span>wasm</code> in the <code class=\"hljs language-angelscript language-awk\">bin/Debug/net7<span class=\"hljs-number\">.0</span></code> directory.</p><h2>Building the application</h2><p>Now we’re set up, we can build our own application. For this article we’ll build a simple Web page to run with <a href=\"https://spin.fermyon.dev/\">Spin</a>.</p><ul><li>Change to your favourite scratch directory</li><li><code class=\"hljs language-arduino language-dos\"><span class=\"hljs-built_in\">mkdir</span> SpinPage</code></li><li><code class=\"hljs language-bash language-dos\"><span class=\"hljs-built_in\">cd</span> SpinPage</code></li></ul><p>The .NET WASI SDK doesn’t yet support the component model, so we’ll use it in <a href=\"https://github.com/deislabs/wagi\">WAGI (WebAssembly Gateway Interface)</a> mode. You won’t need the WAGI binary, because Spin implements WAGI - the link is so you can check out the specification. For now all you need to know is that WAGI is a WebAssembly version of the venerable CGI standard. That is, it serves Web pages simply by writing them to standard output, or, in .NET speak, the console.</p><p>So we’ll create a C# console app:</p><pre><code class=\"hljs language-routeros language-coffeescript\">dotnet new<span class=\"hljs-built_in\"> console\n  </span></code></pre><p>Now we need to reference the WASI SDK. The SDK will modify how the project gets built, so that it produces a Wasm module instead of a .NET executable.</p><pre><code class=\"hljs language-ada language-dockerfile\">dotnet add <span class=\"hljs-keyword\">package</span> <span class=\"hljs-title\">Wasi.Sdk --prerelease</span>\n  </code></pre><p>And open <code class=\"hljs language-fortran language-irpf90\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">Program</span>.<span class=\"hljs-title\">cs</span></span></code> and change it to the following:</p><pre><code class=\"hljs language-arduino language-gams\"><span class=\"hljs-keyword\">using</span> System.Runtime.InteropServices;\n  \n  <span class=\"hljs-built_in\">Console</span>.WriteLine($<span class=\"hljs-string\">\"Content-Type: text/html\"</span>);\n  <span class=\"hljs-built_in\">Console</span>.WriteLine();\n  <span class=\"hljs-built_in\">Console</span>.WriteLine($<span class=\"hljs-string\">\"&lt;head&gt;&lt;title&gt;Hello from C#&lt;/title&gt;&lt;/head&gt;\"</span>);\n  <span class=\"hljs-built_in\">Console</span>.WriteLine($<span class=\"hljs-string\">\"&lt;body&gt;\"</span>);\n  <span class=\"hljs-built_in\">Console</span>.WriteLine($<span class=\"hljs-string\">\"&lt;h1&gt;Hello from C#&lt;/h1&gt;\"</span>);\n  <span class=\"hljs-built_in\">Console</span>.WriteLine($<span class=\"hljs-string\">\"&lt;p&gt;Current time (UTC): {DateTime.UtcNow.ToLongTimeString()}&lt;/p&gt;\"</span>);\n  <span class=\"hljs-built_in\">Console</span>.WriteLine($<span class=\"hljs-string\">\"&lt;p&gt;Current architecture: {RuntimeInformation.OSArchitecture}&lt;/p&gt;\"</span>);\n  <span class=\"hljs-built_in\">Console</span>.WriteLine($<span class=\"hljs-string\">\"&lt;/body&gt;\"</span>);\n  </code></pre><p>Run <code class=\"hljs language-ebnf language-n1ql\"><span class=\"hljs-attribute\">dotnet build</span></code>. You should now have a Wasm module <code class=\"hljs language-reasonml language-angelscript\">bin/Debug/net7.<span class=\"hljs-number\">0</span>/<span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">SpinPage</span>.</span></span>wasm</code>.</p><p>Let’s hook this up to Spin. Create a new file <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">spin</span><span class=\"hljs-selector-class\">.toml</span></code> in your SpinPage directory, and change it to the following:</p><pre><code class=\"hljs language-routeros language-ini\">spin_version = <span class=\"hljs-string\">\"1\"</span>\n  name = <span class=\"hljs-string\">\"spin-test\"</span>\n  trigger = {<span class=\"hljs-built_in\"> type </span>= <span class=\"hljs-string\">\"http\"</span>, base = <span class=\"hljs-string\">\"/\"</span> }\n  version = <span class=\"hljs-string\">\"1.0.0\"</span>\n  \n  [[component]]\n  id = <span class=\"hljs-string\">\"spin-page\"</span>\n  source = <span class=\"hljs-string\">\"bin/Debug/net7.0/SpinPage.wasm\"</span>\n  [component.trigger]<span class=\"hljs-built_in\">\n  route </span>= <span class=\"hljs-string\">\"/\"</span>\n  executor = {<span class=\"hljs-built_in\"> type </span>= <span class=\"hljs-string\">\"wagi\"</span> }\n  </code></pre><p>And start Spin:</p><pre><code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">spin up</span>\n  </code></pre><p>You should see a message <code class=\"hljs language-cs language-dart\">Serving HTTP <span class=\"hljs-keyword\">on</span> address http:<span class=\"hljs-comment\">//127.0.0.1:3000</span></code>. Click the link to view your page!</p><blockquote><p>If you see an error “failed to find function export <code class=\"hljs language-undefined\">canonical_abi_free</code>” or similar, check you remembered the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">executor</span></code> line in the <code class=\"hljs language-css\"><span class=\"hljs-selector-tag\">spin</span><span class=\"hljs-selector-class\">.toml</span></code> file. Spin defaults to using the Wasm component model; the message is telling you that the .NET WASI runtime doesn’t yet support that model.</p></blockquote><blockquote><p>If it takes a long time to start, check that you’re using the Release build of Spin. The underlying Wasmtime library takes a <em>very</em> long time to load large modules when in Debug mode.</p></blockquote><p>Right now, our program doesn’t do an awful lot - we get a couple of values from the environment and runtime, but other than that it’s all static text. But you can use most of the .NET Base Class Library, including types like <code class=\"hljs language-css language-gams\"><span class=\"hljs-selector-tag\">System</span><span class=\"hljs-selector-class\">.Environment</span></code> for getting WAGI environment variables, and <code class=\"hljs language-css language-gams\"><span class=\"hljs-selector-tag\">System</span><span class=\"hljs-selector-class\">.IO</span><span class=\"hljs-selector-class\">.File</span></code> for open templates or static files. We’ll get more adventurous in future posts, or see the <code class=\"hljs language-gams language-erlang\"><span class=\"hljs-function\"><span class=\"hljs-title\">csharp</span></span>-...</code> and <code class=\"hljs language-gams language-erlang\"><span class=\"hljs-function\"><span class=\"hljs-title\">fsharp</span></span>-...</code> directories in the <a href=\"https://github.com/fermyon/spin-kitchensink/\">Kitchen Sink demo</a>. But let’s close for now with a look behind the scenes.</p><h2>What’s happening here?</h2><p>All right, we’ve proved that we can build WebAssembly modules from C#, and run them using a WASI-compatible execution environment such as Spin. How does it work? What’s going on behind the scenes?</p><p>To be clear, you <em>don’t need to know.</em> As a developer, you just write C#; as a user, you just run the Wasm file. But if you’re kicking the tyres on a preview like this, we’re guessing you’re at least a little bit curious about how it works. So let’s dig in!</p><p>If you watch the output of the build command, you can see it “bundling” your compiled application and the .NET DLLs it depends on:</p><pre><code class=\"hljs language-reasonml language-stylus\">SpinPage -&gt; /home/ivan/SpinPage/bin/Debug/net7.<span class=\"hljs-number\">0</span>/<span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">SpinPage</span>.</span></span>dll\n  <span class=\"hljs-number\">1</span>/<span class=\"hljs-number\">10</span> Bundling <span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">SpinPage</span>.</span></span>dll...\n  <span class=\"hljs-number\">2</span>/<span class=\"hljs-number\">10</span> Bundling <span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">System</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">Collections</span>.</span></span>dll...\n  <span class=\"hljs-number\">3</span>/<span class=\"hljs-number\">10</span> Bundling <span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">System</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">Memory</span>.</span></span>dll...\n  <span class=\"hljs-number\">4</span>/<span class=\"hljs-number\">10</span> Bundling <span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">System</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">Private</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">Runtime</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">InteropServices</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">JavaScript</span>.</span></span>dll...\n  <span class=\"hljs-number\">5</span>/<span class=\"hljs-number\">10</span> Bundling <span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">System</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">Console</span>.</span></span>dll...\n  <span class=\"hljs-number\">6</span>/<span class=\"hljs-number\">10</span> Bundling <span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">System</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">Threading</span>.</span></span>dll...\n  <span class=\"hljs-number\">7</span>/<span class=\"hljs-number\">10</span> Bundling <span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">System</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">Private</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">CoreLib</span>.</span></span>dll...\n  <span class=\"hljs-number\">8</span>/<span class=\"hljs-number\">10</span> Bundling <span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">System</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">Runtime</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">InteropServices</span>.</span></span>dll...\n  <span class=\"hljs-number\">9</span>/<span class=\"hljs-number\">10</span> Bundling <span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">System</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">Runtime</span>.</span></span>dll...\n  <span class=\"hljs-number\">10</span>/<span class=\"hljs-number\">10</span> Bundling <span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">System</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">Private</span>.</span><span class=\"hljs-module\"><span class=\"hljs-identifier\">Uri</span>.</span></span>dll...\n  SpinPage -&gt; /home/ivan/SpinPage/bin/Debug/net7.<span class=\"hljs-number\">0</span>/<span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">SpinPage</span>.</span></span>wasm\n  </code></pre><p>And you can see that the <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.wasm</span></code> file is large compared to the <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.dll</span></code> file:</p><pre><code class=\"hljs language-reasonml language-angelscript\">$ wc -c bin/Debug/net7.<span class=\"hljs-number\">0</span>/<span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">SpinPage</span>.</span></span>dll\n  <span class=\"hljs-number\">5120</span> bin/Debug/net7.<span class=\"hljs-number\">0</span>/<span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">SpinPage</span>.</span></span>dll\n  $ wc -c bin/Debug/net7.<span class=\"hljs-number\">0</span>/<span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">SpinPage</span>.</span></span>wasm\n  <span class=\"hljs-number\">16053525</span> bin/Debug/net7.<span class=\"hljs-number\">0</span>/<span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">SpinPage</span>.</span></span>wasm\n  </code></pre><p>The <code class=\"hljs language-reasonml language-css\"><span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">SpinPage</span>.</span></span>wasm</code> file contains the .NET runtime, <em>and</em> all the DLLs - your application and all the DLLs it depends on. The DLLs <em>aren’t</em> compiled to WebAssembly. They contain the usual .NET bytecode. This is very much the same as the standalone binary of a normal .NET application. But all the infrastructure that’s needed to extract and run that bytecode is now in Wasm rather than in native x64.</p><p>You can even disassemble the <code class=\"hljs language-reasonml language-css\"><span class=\"hljs-module-access\"><span class=\"hljs-module\"><span class=\"hljs-identifier\">SpinPage</span>.</span></span>wasm</code> file and look at the <code class=\"hljs language-autoit language-awk\">$__original_main</code> function. You’ll see calls like this:</p><pre><code class=\"hljs language-autoit language-x86asm\">// Many intervening lines omitted between each <span class=\"hljs-built_in\">call</span>!\n  <span class=\"hljs-built_in\">call</span> $dotnet_wasi_registerbundledassemblies\n  <span class=\"hljs-built_in\">call</span> $mono_wasm_load_runtime\n  <span class=\"hljs-built_in\">call</span> $dotnet_wasi_getentrypointassemblyname\n  <span class=\"hljs-built_in\">call</span> $mono_assembly_open\n  <span class=\"hljs-built_in\">call</span> $mono_wasm_assembly_get_entry_point\n  <span class=\"hljs-built_in\">call</span> $mono_wasm_invoke_method\n  </code></pre><p>So when Spin or Wasmtime runs the <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.wasm</span></code> file, the Wasm code:</p><ul><li>Creates a map from assembly identities to the bytecode of the bundled assemblies (in a Wasm data segment)</li><li>Looks up which assembly contains the entry point (the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">main</span></code> function in the source code, implicit in modern C#)</li><li>Opens that assembly and locates the .NET method corresponding to the entry point (bytecode in the data segment)</li><li>Calls a Wasm function to execute that bytecode</li></ul><p>This is pretty much the same flow as in a native .NET standalone binary. The instruction set is Wasm instead of x64, DLLs are embedded in the Wasm data segment instead of the PE or ELF data segment, but at a high level, the process is very similar. Notice, though, that it happens every time the Wasm module runs. A Wasm module instance is analogous to an operating system process, not to (say) an ASP.NET request handler. This means that you don’t get to amortise the .NET warm-up time across multiple instances. We’ll talk more about this in future posts.</p><p>Finally, to reiterate - to you as the developer, or to the user running your code, all this stuff under the hood is all invisible, just as it is in a native .NET runtime. You don’t need to know about it! This is just a peek at how it works internally.</p><h2>Conclusion</h2><p>In this post, we’ve seen:</p><ul><li>How to get the .NET WASI SDK</li><li>How to build a simple .NET application that runs on Spin</li><li>What’s in the Wasm file and how it runs</li></ul><p>In future posts we’ll look at interacting with WASI features like files and environment variables, and try out some Web and microservice frameworks to see how they go on WASI. But for now, <a href=\"https://github.com/SteveSandersonMS/dotnet-wasi-sdk\">grab the experimental SDK</a> and <a href=\"https://spin.fermyon.dev/quickstart/\">spin something up</a>!</p> </article> </div></div>",
    "labels": "wasm"
  },
  {
    "description": "WebAssembly is really starting to shine is as a standalone runtime environment. In this blog post I explore the Wasmtime WebAssembly runtime, and build a WebAssembly-powered serverless platform in just 70 lines of code.",
    "title": "Building a WebAssembly-powered serverless platform",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n      \n      <div>\n        <div>\n          <p>Interest in WebAssembly is rising, but not where you might expect it. We’ve recently seen <a href=\"https://web.dev/ps-on-the-web/\">Adobe using WebAssembly to bring Photoshop to the web</a>, and an <a href=\"https://www.theregister.com/2022/02/19/webassembly_port_libreoffice/\">experimental port of LibreOffice</a> too. However, for most web developers WebAssembly simply lacks relevance, it doesn’t solve many of their current problems. A recent study by HTTP Archive found that <a href=\"https://almanac.httparchive.org/en/2021/webassembly\">only 0.06% of sites use the technology</a>. Does this mean WebAssembly is doomed? Far from it!</p>\n  \n  <p>Whilst WebAssembly will likely be a (useful) niche player within the browser, where it is really starting to shine is as a standalone runtime environment. It’s being introduced to existing projects and products such as <a href=\"https://cloudblogs.microsoft.com/opensource/2020/04/07/announcing-krustlet-kubernetes-rust-kubelet-webassembly-wasm/\">Kubernetes</a>, <a href=\"https://istio.io/latest/docs/concepts/wasm/\">Istio</a> and <a href=\"https://redpanda.com/\">Red Panda</a>, oh yes … and <a href=\"https://docs.flightsimulator.com/html/Programming_Tools/WASM/WebAssembly.htm\">Microsoft’s Flight Simulator</a>! It’s also heralding a new breed of products with WebAssembly at their core, e.g. <a href=\"https://cosmonic.com/\">Cosmonic</a>, <a href=\"https://www.fermyon.com/\">Fermyon</a>, <a href=\"https://dfinity.org/\">Internet Computer</a> and <a href=\"https://near.org/\">NEAR</a> to name but a few.</p>\n  \n  <p>I’ve written a range of WebAssembly applications using Rust, AssemblyScript and a <a href=\"https://blog.scottlogic.com/2018/04/26/webassembly-by-hand.html\">bit of hand-coding</a>, but haven’t worked directly with a WebAssembly runtime before. I thought it would be fun to create a simple WebAssembly-powered serverless platform, to see what it is like to create a ‘product’ based on WebAssembly.</p>\n  \n  <p>Turns out, it is really quite easy 😀</p>\n  \n  <h2 id=\"embedding-a-webassembly-runtime\">Embedding a WebAssembly runtime</h2>\n  \n  <p>The first step is to find a suitable WebAssembly runtime. Probably the most well-known and mature are:</p>\n  \n  <ul>\n    <li><a href=\"https://wasmedge.org/\">WasmEdge</a> - initially created by Second State, and now lives within the Cloud Native Computing Foundation (CNCF)</li>\n    <li><a href=\"https://wasmer.io/\">Wasmer</a> - a startup, whose runtime has a large number of language integrations.</li>\n    <li><a href=\"https://wasmtime.dev/\">Wasmtime</a> - originally a Mozilla project, using Cranelift - the Wasm JIT compiler used by the browser.</li>\n    <li><a href=\"https://github.com/wasm3/wasm3\">Wasm3</a> - an interpreter, known for its speed and small footprint, making it ideal for embedded systems / IoT.</li>\n  </ul>\n  \n  <p>And if you don’t like any of these options, there’s <a href=\"https://github.com/appcypher/awesome-wasm-runtimes\">at least another 20 to choose from</a>.</p>\n  \n  <p>I opted for Wasmtime due to its solid support for WASI (which we’ll encounter later).</p>\n  \n  <p>Wasmtime, in common with most WebAssemby runtimes, has multiple language embeddings, meaning that you can use it to embed WebAssembly within various languages (e.g. C#, Rust, JavaScript). However, as Wasmtime itself is written in Rust, I opted to use Rust for my servless platform.</p>\n  \n  <p>Let’s take a look at how Wastime works.</p>\n  \n  <p>The following is a very simple WebAssembly module, with a single exported function named <code class=\"hljs language-dockerfile language-applescript\"><span class=\"hljs-keyword\">run</span></code>, which returns the integer <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">42</span></code> on execution:</p>\n  \n  <div><pre><code class=\"hljs language-clojure language-hy\">(<span class=\"hljs-name\">module</span>\n    (<span class=\"hljs-name\">func</span> $run (<span class=\"hljs-name\">result</span> i32)\n      i32.const <span class=\"hljs-number\">42</span>)\n    (<span class=\"hljs-name\">export</span> <span class=\"hljs-string\">\"run\"</span> (<span class=\"hljs-name\">func</span> $run))\n  )\n  </code></pre></div>\n  \n  <p>Most people don’t hand-craft WebAssembly, instead they write applications in high-level languages like Rust, Go or C#, which are then compiled into WebAssembly. However, for simplicity, we’ll go with a very simple hand-crafted module.</p>\n  \n  <p>The following Rust application uses Wasmtime to load the module, locate the exported <code class=\"hljs language-dockerfile language-applescript\"><span class=\"hljs-keyword\">run</span></code> function then executes it:</p>\n  \n  <div><pre><code class=\"hljs language-rust language-dts\"><span class=\"hljs-keyword\">use</span> anyhow::<span class=\"hljs-built_in\">Result</span>;\n  <span class=\"hljs-keyword\">use</span> wasmtime::*;\n  \n  <span class=\"hljs-function\"><span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title\">main</span></span>() -&gt; <span class=\"hljs-built_in\">Result</span>&lt;()&gt; {\n      <span class=\"hljs-comment\">// create a wasmtime engine</span>\n      <span class=\"hljs-keyword\">let</span> engine = Engine::default();\n      <span class=\"hljs-comment\">// load the module</span>\n      <span class=\"hljs-keyword\">let</span> module = Module::from_file(&amp;engine, <span class=\"hljs-string\">\"hello.wat\"</span>)?;\n      <span class=\"hljs-comment\">// create a store and module instance</span>\n      <span class=\"hljs-keyword\">let</span> <span class=\"hljs-keyword\">mut</span> store = Store::new(&amp;engine, ());\n      <span class=\"hljs-keyword\">let</span> instance = Instance::new(&amp;<span class=\"hljs-keyword\">mut</span> store, &amp;module, &amp;[])?;\n      <span class=\"hljs-comment\">// locate the exported function</span>\n      <span class=\"hljs-keyword\">let</span> exported_run = instance.get_typed_func::&lt;(), <span class=\"hljs-built_in\">i32</span>, _&gt;(&amp;<span class=\"hljs-keyword\">mut</span> store, <span class=\"hljs-string\">\"run\"</span>)?;\n      <span class=\"hljs-comment\">// call and print the result</span>\n      <span class=\"hljs-keyword\">let</span> res = exported_run.call(&amp;<span class=\"hljs-keyword\">mut</span> store, ())?;\n      <span class=\"hljs-built_in\">println!</span>(<span class=\"hljs-string\">\"WebAssembly says - {}\"</span>, res);\n      <span class=\"hljs-literal\">Ok</span>(())\n  }\n  </code></pre></div>\n  \n  <p>Building and running this app yields the expected response of <code class=\"hljs language-angelscript language-lsl\"><span class=\"hljs-number\">42</span></code>:</p>\n  \n  <div><pre><code class=\"hljs language-angelscript language-lsl\">% cargo run\n     Compiling hello_wasm v0<span class=\"hljs-number\">.1</span><span class=\"hljs-number\">.0</span> \n      Finished dev [unoptimized + debuginfo] target(s) <span class=\"hljs-keyword\">in</span> <span class=\"hljs-number\">1.34</span>s\n       Running `target/debug/hello_wasm`\n  WebAssembly says <span class=\"hljs-number\">42</span>\n  </code></pre></div>\n  \n  <p>Let’s take a step back and consider what is happening here …</p>\n  \n  <p>Through Wasmtime, we’ve integrated a WebAssembly runtime into our applicatiom.  This runtime is fast, giving near native execution speed, secure, with the code running in a sandboxed environment, and multi-language - in this example we hand-crafted a simple module directly, however, the above few lines of code will happily run WebAssembly modules written in C#, Go, Rust and a whole host of other languages.</p>\n  \n  <h2 id=\"creating-a-serverless-platform\">Creating a serverless platform</h2>\n  \n  <p>Now that we can execute a WebAssembly module within our own code, let’s take a look at how to turn this into a serverless platform. At a high-level we’re going to need a HTTP server, and a way to route HTTP requests to WebAssembly modules.</p>\n  \n  <p>For the HTTP server, I’ve opted for the popular <a href=\"https://github.com/actix/actix-web\">actix-web</a> project. Let’s look at how to set that up …</p>\n  \n  <div><pre><code class=\"hljs language-rust language-livescript\"><span class=\"hljs-meta\">#[actix_web::main]</span>\n  <span class=\"hljs-keyword\">async</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title\">main</span></span>() -&gt; io::<span class=\"hljs-built_in\">Result</span>&lt;()&gt; {\n      HttpServer::new(|| { App::new().service(handler) })\n          .bind(<span class=\"hljs-string\">\"127.0.0.1:8080\"</span>)?\n          .run()\n          .<span class=\"hljs-keyword\">await</span>\n  }\n  \n  <span class=\"hljs-meta\">#[get(<span class=\"hljs-meta-string\">\"/{module_name}\"</span>)]</span>\n  <span class=\"hljs-keyword\">async</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title\">handler</span></span>(module_name: Path&lt;<span class=\"hljs-built_in\">String</span>&gt;) -&gt; <span class=\"hljs-keyword\">impl</span> Responder {\n      <span class=\"hljs-keyword\">let</span> wasm_module = <span class=\"hljs-built_in\">format!</span>(<span class=\"hljs-string\">\"{}{}\"</span>, module_name, <span class=\"hljs-string\">\".wasm\"</span>);  \n      <span class=\"hljs-keyword\">let</span> val = invoke_wasm_module(wasm_module).expect(<span class=\"hljs-string\">\"\"</span>);\n      HttpResponse::<span class=\"hljs-literal\">Ok</span>().body(val)\n  }\n  \n  <span class=\"hljs-function\"><span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title\">invoke_wasm_module</span></span>(module_name: <span class=\"hljs-built_in\">String</span>)\n      -&gt; result::<span class=\"hljs-built_in\">Result</span>&lt;<span class=\"hljs-built_in\">String</span>, wasmtime_wasi::Error&gt; {\n      <span class=\"hljs-keyword\">let</span> engine = Engine::default();\n      <span class=\"hljs-keyword\">let</span> module = Module::from_file(&amp;engine, module_name)?;\n      <span class=\"hljs-keyword\">let</span> <span class=\"hljs-keyword\">mut</span> store = Store::new(&amp;engine, ());\n      <span class=\"hljs-keyword\">let</span> instance = Instance::new(&amp;<span class=\"hljs-keyword\">mut</span> store, &amp;module, &amp;[])?;\n      <span class=\"hljs-keyword\">let</span> exported_run = instance.get_typed_func::&lt;(), <span class=\"hljs-built_in\">i32</span>, _&gt;(&amp;<span class=\"hljs-keyword\">mut</span> store, <span class=\"hljs-string\">\"run\"</span>)?;\n      <span class=\"hljs-keyword\">let</span> res = exported_run.call(&amp;<span class=\"hljs-keyword\">mut</span> store, ())?;\n      <span class=\"hljs-literal\">Ok</span>(res.to_string())\n  }\n  </code></pre></div>\n  \n  <p>In the above code, the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">main</span></code> function creates an Actix Web HTTP, listening to <code class=\"hljs language-accesslog language-angelscript\"><span class=\"hljs-number\">127.0.0.1:8080</span></code>, with requests routed to the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">route</span></code> function. This function uses the path to determine the name of the WebAssembly module to load, then the <code class=\"hljs language-undefined\">invoke_wasm_module</code> function is the code we saw earlier for loading and executing modules.</p>\n  \n  <p>Super simple, we can now create different modules that return different numbers, executing them remotely via HTTP requests. We have a very basic serverless platform. However, it is currently a little limited, there’s not that much you can do with a serverless platform that only allows you to return integers!</p>\n  \n  <h2 id=\"returning-strings\">Returning strings</h2>\n  \n  <p>It would be more useful if our serverless functions (implemented as WebAssembly modules) could return strings rather than single integers. But here is where we encounter a bit of a challenge.</p>\n  \n  <p>The I/O capabilities of WebAssembly are quite limited, you can export and import function (from the host environment), but the only types you can pass are integers. You can also share memory between the host and the WebAssembly runtime, and using this approach it is possible to (indirectly) return strings. A function can write a string to linear memory, then return an integer value pointing to the string’s location. The host can them read the string from this memory location.</p>\n  \n  <p>This sounds simple, but it does add to the overall complexity. Additional ‘glue’ logic is required both within the WebAssembly module to encode the string at a suitable memory location, further glue logic is required on the host-side to decode. There are language-specific solutions to this problem, for example <a href=\"https://rustwasm.github.io/wasm-bindgen/\">wasm-bindgen</a> handles the creation of this ‘glue’ code (for a wide range of types) for Rust applications compiled to WebAssembly. However, for this serverless platform, we want a language-agnostic approach, allowing serverless functions implemented in a wide range of languages.</p>\n  \n  <p>For this we need standards! Fortunately, these exist.</p>\n  \n  <p><a href=\"https://github.com/WebAssembly/WASI\">WebAssembly System Interface</a> (WASI) is a standard system interface for WebAssembly, defining a common set of APIs which are implemented by WebAssembly runtimes.</p>\n  \n  <p>Let’s take a look at how this works in practice.</p>\n  \n  <p>One of the interfaces defined by WASI is standard input (stdin) / output (stdout), we’ll use stdout as a convenient way for our serverless functions to return strings.</p>\n  \n  <p>To demonstrate this we need WebAssembly module that makes use of WASI. Here is a simple application, written in <a href=\"https://www.assemblyscript.org/\">AssemblyScript</a> that uses the WASI APIs:</p>\n  \n  <div><pre><code class=\"hljs language-routeros language-arduino\">import <span class=\"hljs-string\">\"wasi\"</span>;\n  import {<span class=\"hljs-built_in\"> Console </span>} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"as-wasi\"</span>;\n  \n  Console.write(<span class=\"hljs-string\">\"Hello World!\"</span>);\n  </code></pre></div>\n  \n  <p>The above makes use of the <code class=\"hljs language-actionscript language-applescript\"><span class=\"hljs-keyword\">as</span>-wasi</code> module, which is the AssemblyScript implementation of WASI - it includes all the ‘glue’ code required to implement these APIs.</p>\n  \n  <p>Our serverless platform also needs updating to make use of WASI on the ‘host’ side.</p>\n  \n  <div><pre><code class=\"hljs language-rust language-gauss\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title\">invoke_wasm_module</span></span>(module_name: <span class=\"hljs-built_in\">String</span>)\n      -&gt; result::<span class=\"hljs-built_in\">Result</span>&lt;<span class=\"hljs-built_in\">String</span>, wasmtime_wasi::Error&gt; {\n      <span class=\"hljs-keyword\">let</span> engine = Engine::default();\n      <span class=\"hljs-keyword\">let</span> <span class=\"hljs-keyword\">mut</span> linker = Linker::new(&amp;engine);\n      wasmtime_wasi::add_to_linker(&amp;<span class=\"hljs-keyword\">mut</span> linker, |s| s)?;\n  \n      <span class=\"hljs-comment\">// create a buffer to store the response</span>\n      <span class=\"hljs-keyword\">let</span> stdout_buf: <span class=\"hljs-built_in\">Vec</span>&lt;<span class=\"hljs-built_in\">u8</span>&gt; = <span class=\"hljs-built_in\">vec!</span>[];\n      <span class=\"hljs-keyword\">let</span> stdout_mutex = Arc::new(RwLock::new(stdout_buf));\n      <span class=\"hljs-keyword\">let</span> stdout = WritePipe::from_shared(stdout_mutex.clone());\n  \n      <span class=\"hljs-keyword\">let</span> wasi = WasiCtxBuilder::new()\n          .stdout(<span class=\"hljs-built_in\">Box</span>::new(stdout))\n          .build();\n      <span class=\"hljs-keyword\">let</span> <span class=\"hljs-keyword\">mut</span> store = Store::new(&amp;engine, wasi);\n      \n      <span class=\"hljs-keyword\">let</span> module = Module::from_file(&amp;engine, &amp;module_name)?;\n      linker.module(&amp;<span class=\"hljs-keyword\">mut</span> store, &amp;module_name, &amp;module)?;\n  \n      <span class=\"hljs-comment\">// create a module instance via the linker</span>\n      <span class=\"hljs-keyword\">let</span> instance = linker.instantiate(&amp;<span class=\"hljs-keyword\">mut</span> store, &amp;module)?;\n      <span class=\"hljs-keyword\">let</span> instance_main = instance.get_typed_func::&lt;(), (), _&gt;(&amp;<span class=\"hljs-keyword\">mut</span> store, <span class=\"hljs-string\">\"_start\"</span>)?;\n      instance_main.call(&amp;<span class=\"hljs-keyword\">mut</span> store, ())?;\n  \n      <span class=\"hljs-comment\">// read the response into a string</span>\n      <span class=\"hljs-keyword\">let</span> <span class=\"hljs-keyword\">mut</span> buffer: <span class=\"hljs-built_in\">Vec</span>&lt;<span class=\"hljs-built_in\">u8</span>&gt; = <span class=\"hljs-built_in\">Vec</span>::new();\n      stdout_mutex.read().unwrap().iter().for_each(|i| {\n          buffer.push(*i)\n      });\n      <span class=\"hljs-keyword\">let</span> s = <span class=\"hljs-built_in\">String</span>::from_utf8(buffer)?;\n      <span class=\"hljs-literal\">Ok</span>(s)\n  }\n  </code></pre></div>\n  \n  <p>This is a little more complicated than before - but only marginally.</p>\n  \n  <p>The first difference is that we’re making use of the Wasmtime <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Linker</span></code>, as the name suggests, this handles linking the function calls between multiple WebAssembly modules. Its role will become apparent shortly.</p>\n  \n  <p>There is some additional code to create a buffer for capturing the response, and later converting it into a string (there’s probably a simpler way to achieve this, but my Rust skills are really quite modest).</p>\n  \n  <p>The most interesting part of the code is the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">WasiCtxBuilder</span></code>, which is used to create a WASI ‘context’. The WASI interface is modular, in this instance we’re only interested in the stdout functionality, and here we use the builder to create a context with just that. This is an important security feature, we could add a simple permissioning system whereby serverless functions declare their required capabilities, and at runtime, ensure only those are provided via this context.</p>\n  \n  <p>Finally, the module instance is created via the linker, and the <code class=\"hljs language-sqf language-xquery\"><span class=\"hljs-variable\">_start</span></code> function invoked.</p>\n  \n  <p>To understand what is going on here, it helps to take a close look at the WebAssembly module the above AssemblyScript application creates. If you look at the compiled module in its text format (using <code class=\"hljs language-gcode\">was<span class=\"hljs-name\">m2</span>wat</code> from the wasm binary toolkit), you will find that it imports a few functions:</p>\n  \n  <div><pre><code class=\"hljs language-go language-autoit\">  (<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"wasi_snapshot_preview1\"</span> <span class=\"hljs-string\">\"fd_write\"</span> (<span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-params\">(;0;)</span> <span class=\"hljs-params\">(<span class=\"hljs-keyword\">type</span> 8)</span>))</span>\n    (<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"wasi_snapshot_preview1\"</span> <span class=\"hljs-string\">\"proc_exit\"</span> (<span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-params\">(;1;)</span> <span class=\"hljs-params\">(<span class=\"hljs-keyword\">type</span> 3)</span>))</span>\n    (<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"wasi_snapshot_preview1\"</span> <span class=\"hljs-string\">\"environ_sizes_get\"</span> (<span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-params\">(;2;)</span> <span class=\"hljs-params\">(<span class=\"hljs-keyword\">type</span> 2)</span>))</span>\n    (<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"wasi_snapshot_preview1\"</span> <span class=\"hljs-string\">\"environ_get\"</span> (<span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-params\">(;3;)</span> <span class=\"hljs-params\">(<span class=\"hljs-keyword\">type</span> 2)</span>))</span>\n  </code></pre></div>\n  \n  <p>These are part of the WASI specification. The linker is responsible for ‘linking’ these to the implementations provided by the WASI context.</p>\n  \n  <p>Notably, this is how the Wasmtime runtime works. Others my differ, there is no requirement to have a linker, as long as those imports are provided by the host, the runtime is considered compliant. You could event create the implementations yourself.</p>\n  \n  <p>With the platform code updated, and the WASI compliant module deployed, we can returns strings 🎉</p>\n  \n  <p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sxznDq6S6YZEKz__7QrzIn8N7Gs_9A7XGHgV8k2Utqz8/https://blog.scottlogic.com/ceberhardt/assets/serverless-wasm/hello-world.png\"></p>\n  \n  <h2 id=\"passing-parameters\">Passing parameters</h2>\n  \n  <p>The final piece of the puzzle is to find a way to pass data to our serverless functions. Once again, WASI provides some convenient APIs we can use.</p>\n  \n  <p>The WASI specification provides APIs for supplying environment variables. In order to demonstrate, let’s create a more interesting serverless function, this time in Rust (demonstrating that the platform is indeed multi-language):</p>\n  \n  <div><pre><code class=\"hljs language-rust language-reasonml\"><span class=\"hljs-keyword\">use</span> sudoku::Sudoku;\n  \n  <span class=\"hljs-function\"><span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title\">main</span></span>() {\n      <span class=\"hljs-keyword\">let</span> puzzle_line = std::env::var(<span class=\"hljs-string\">\"puzzle\"</span>).unwrap();\n      <span class=\"hljs-keyword\">let</span> sudoku = Sudoku::from_str_line(&amp;puzzle_line).unwrap();\n      <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">let</span> <span class=\"hljs-literal\">Some</span>(solution) = sudoku.solve_unique() {\n          <span class=\"hljs-keyword\">let</span> <span class=\"hljs-built_in\">str</span> = solution.to_str_line().to_string();\n          <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-number\">0</span>..<span class=\"hljs-number\">9</span> {\n              <span class=\"hljs-built_in\">println!</span>(<span class=\"hljs-string\">\"{}\"</span>, <span class=\"hljs-built_in\">str</span>[(i*<span class=\"hljs-number\">9</span>)..(i*<span class=\"hljs-number\">9</span>+<span class=\"hljs-number\">9</span>)].to_string());\n          }\n      } <span class=\"hljs-keyword\">else</span> {\n          <span class=\"hljs-built_in\">println!</span>(<span class=\"hljs-string\">\"failed to solve\"</span>);\n      }\n  }\n  </code></pre></div>\n  \n  <p>The above Rust application uses the <a href=\"https://crates.io/crates/sudoku\">Sudoku</a> crate to solve a sudoku grid, with the unsolved grid provided via the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">puzzle</span></code> environment variable.</p>\n  \n  <p>With Rust, we have to specify the target in order to create a WebAssembly module rather than a native binary. The above code is built as follows:</p>\n  \n  <div><pre><code class=\"hljs language-gcode language-ada\"><span class=\"hljs-meta\">%</span> cargo build --target was<span class=\"hljs-name\">m32</span>-wasi\n  </code></pre></div>\n  \n  <p>The above serverless function, which takes a Sudoku puzzle via an environment variable and returns the result via stdout, has now been compiled to a WASI-compliant WebAssembly module, ready for deployment to our serverless platform.</p>\n  \n  <p>The final step is for the platform itself to provide the required environment variables. We’ll use query string parameters as a simple mechanism for supplying these.</p>\n  \n  <p>Actix web has the concept of <a href=\"https://actix.rs/docs/extractors/\">Extractors</a>, here we update the handler to extract the query string into a HashMap, sending this to our function that invokes the requested wasm module.</p>\n  \n  <div><pre><code class=\"hljs language-rust language-reasonml\"><span class=\"hljs-meta\">#[get(<span class=\"hljs-meta-string\">\"/{module_name}\"</span>)]</span>\n  <span class=\"hljs-keyword\">async</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title\">handler</span></span>(module_name: Path&lt;<span class=\"hljs-built_in\">String</span>&gt;, query: Query&lt;HashMap&lt;<span class=\"hljs-built_in\">String</span>, <span class=\"hljs-built_in\">String</span>&gt;&gt;)\n      -&gt; <span class=\"hljs-keyword\">impl</span> Responder {\n      <span class=\"hljs-keyword\">let</span> wasm_module = <span class=\"hljs-built_in\">format!</span>(<span class=\"hljs-string\">\"{}{}\"</span>, module_name, <span class=\"hljs-string\">\".wasm\"</span>);  \n      <span class=\"hljs-keyword\">let</span> val = invoke_wasm_module(wasm_module, query.into_inner())\n        .expect(<span class=\"hljs-string\">\"invocation error\"</span>);\n      HttpResponse::<span class=\"hljs-literal\">Ok</span>().body(val)\n  }\n  </code></pre></div>\n  \n  <p>The code that instantiates and invokes the module via Wasmtime only needs a few small additions to the part that builds the WASI context, to provide the HashMap from above as the environment variables:</p>\n  \n  <div><pre><code class=\"hljs language-gauss language-lasso\"><span class=\"hljs-comment\">// convert params hashmap to an array</span>\n  <span class=\"hljs-keyword\">let</span> envs: <span class=\"hljs-built_in\">Vec</span>&lt;(<span class=\"hljs-keyword\">String</span>,<span class=\"hljs-keyword\">String</span>)&gt;  = params.iter().<span class=\"hljs-built_in\">map</span>(|(<span class=\"hljs-built_in\">key</span>, value)| {\n      (<span class=\"hljs-built_in\">key</span>.<span class=\"hljs-built_in\">clone</span>(), value.<span class=\"hljs-built_in\">clone</span>())\n  }).<span class=\"hljs-built_in\">collect</span>();\n  \n  <span class=\"hljs-keyword\">let</span> wasi = WasiCtxBuilder::<span class=\"hljs-keyword\">new</span>()\n      .<span class=\"hljs-built_in\">stdout</span>(<span class=\"hljs-built_in\">Box</span>::<span class=\"hljs-keyword\">new</span>(stdout))\n      .<span class=\"hljs-built_in\">envs</span>(&amp;envs)?\n      .<span class=\"hljs-built_in\">build</span>();\n  </code></pre></div>\n  \n  <p>And that’s it, we now have a serverless platform that can invoke functions (compiled to WebAssembly modules), providing parameters via the querystring, with string-based responses:</p>\n  \n  <p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sUU4QidlddyNobV2X4Andbmwlhtox6hyo7_4rCMRtbKA/https://blog.scottlogic.com/ceberhardt/assets/serverless-wasm/sudoku.png\"></p>\n  \n  <h2 id=\"wrap-up\">Wrap-up</h2>\n  \n  <p>So there we have it, a fully functional bare-bones serverless platform, that supports multiple-languages, in just 70 lines of Rust. It’s also lightweight (the platform binary is 12MBytes) secure, and fast. Just how fast?</p>\n  \n  <p>On my machine, the Hello World function written in AssemblyScript takes just 19ms to execute:</p>\n  \n  <div><pre><code class=\"hljs language-groovy language-angelscript\">% curl -o <span class=\"hljs-regexp\">/dev/</span><span class=\"hljs-literal\">null</span> -s -w %{time_total}\\n  <span class=\"hljs-string\">http:</span><span class=\"hljs-comment\">//localhost:8080/hello-world   </span>\n  <span class=\"hljs-number\">0.019504</span>\n  </code></pre></div>\n  \n  <p>Although, 13ms of that time is spent within Actix Web itself, Wasmtime accounts for just 6ms.</p>\n  \n  <p>Hopefully this blog post might help you understand why WebAssembly is creating a lot of buzz and excitement at the moment. It really is a fantastic runtime environment, the multi-language support and especially the security model make it an ideal technique for allowing un-trusted code into your environment.</p>\n  \n  <p>If you want to play with the code I shared in this blog, you can <a href=\"https://github.com/ColinEberhardt/wasm-faas\">find it on GitHub</a>. You can also discuss this post on <a href=\"https://www.reddit.com/r/programming/comments/u68lhn/building_a_webassemblypowered_serverless_platform/\">the Reddit thread</a>.</p>\n  \n  <p>Finally, if this overall approach has piqued your interest, I’d very much recommend taking a look at <a href=\"https://github.com/deislabs/wagi\">WAGI</a>. It uses the same techniques (enviromnent variables and stdout), but is a robust and production-ready application.</p>\n  \n        </div>\n  \n        \n  \n  \n  \n  \n  <div>\n          <p>\n              <svg viewBox=\"0 0 252 252\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M0 69.5L69.5 0h42.4L0 111.9V69.5zm0 70.7L140.2 0h.9l20.7 20.7L0 182.6v-42.4zm0 70.7l176-176 21.2 21.2L1.3 252H0v-41.1zM29.6 252L211.4 70.2l21.2 21.2L72 252H29.6zm70.7 0l146.4-146.4 5.3 5.3v31.9L142.7 252h-42.4z\"></path>\n              </svg>\n  \n  \n  \n              </p><h2>Read more</h2>\n          <p></p>\n          \n      </div>\n  \n        \n          \n          \n          \n  \n  \n  <div>\n          \n          \n          <p>\n              \n              In this post, I look at how WebAssembly can be used to create serverless functions and demonstrate an AWS Lambda function written entirely in Rust.\n              \n          </p>\n          \n      </div>\n  \n          \n          \n  \n  \n  <div>\n          \n          \n          <p>\n              \n              This blog post shares the results of the first State of WebAssembly Survey, with results from 250 respondents surveyed in June 2021. We find that Rust is the most frequently used and most desired WebAssembly language and many other interesting results\n              \n          </p>\n          \n      </div>\n  \n        \n        \n        \n  \n  \n  \n  \n  \n  \n  <div>\n          <h2>Thinking of joining us?</h2><p>\n          If you enjoyed this blog post and are interested in working with smart Developers on challenging software projects,\n          <a href=\"https://www.scottlogic.com/careers/job-family-development\">check out our current vacancies</a>.\n      </p></div>\n      </div>\n      <div>\n        \n        \n        \n  <div>\n    <p>I am Technology Director at Scott Logic and am a prolific technical author, blogger and speaker on a range of technologies.</p>\n  <p>My blog includes posts on a wide range of topics, including WebAssembly, HTML5 / JavaScript and data visualisation with D3 and <a href=\"https://d3fc.io/\">d3fc</a>. You'll also find a whole host of posts about previous technology interests including iOS, Swift, WPF and Silverlight.</p>\n  <p>I'm board member of <a href=\"https://www.finos.org/\">FINOS</a>, which is encouraging open source collaboration in the financial sector. I'm also <a href=\"https://github.com/ColinEberhardt\">very active on GitHub</a>, contributing to a number of different projects.</p>\n  \n    \n        \n        \n    \n  </div>\n        \n        \n  <div>\n      <h4>Categories</h4>\n      <ul>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/index.html\">\n                      <span>Latest Articles</span>\n                  </a>\n              </li>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/category/resources.html\">\n                      <span>Resources</span>\n                  </a>\n              </li>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/category/cloud.html\">\n                      <span>Cloud</span>\n                  </a>\n              </li>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/category/tech.html\">\n                      <span>Tech</span>\n                  </a>\n              </li>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/category/ux.html\">\n                      <span>UX Design</span>\n                  </a>\n              </li>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/category/delivery.html\">\n                      <span>Delivery</span>\n                  </a>\n              </li>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/category/test.html\">\n                      <span>Testing</span>\n                  </a>\n              </li>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/category/data-engineering.html\">\n                      <span>Data Engineering</span>\n                  </a>\n              </li>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/category/people.html\">\n                      <span>People</span>\n                  </a>\n              </li>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/category/videos.html\">\n                      <span>Videos</span>\n                  </a>\n              </li>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/category/open-source.html\">\n                      <span>Open Source</span>\n                  </a>\n              </li>\n          \n              <li>\n                  <a href=\"https://blog.scottlogic.com/category/podcast.html\">\n                      <span>Podcast</span>\n                  </a>\n              </li>\n          \n      </ul>\n  </div>\n  \n        \n      </div>\n    </div></div>",
    "labels": "wasm"
  },
  {
    "description": "Canonic has taken the low-code route to the repetitive tasks of building backends, enabling a wider swath of business users.",
    "title": "Low-Code Backend Builder Canonic Starts with a Graph",
    "content": "<div class=\"page\" id=\"readability-page-1\"><article id=\"22472404\">\n  \n  \n  \n  \n  <p><img data-stateless-media-name=\"media/2022/04/40fb6506-1.-graph.png\" data-stateless-media-bucket=\"cdn.thenewstack.io\" data-image-size=\"large\" alt=\"\" src=\"https://proxy-prod.omnivore-image-cache.app/640x351,smnjlCfvMqCUpzzpVdc8-VNIEIcdEcPgysxANa2PqK6E/https://cdn.thenewstack.io/media/2022/04/40fb6506-1.-graph-1024x562.png\" height=\"351\" width=\"640\"> \n  </p>\n  <div>\n  <p><img height=\"89\" width=\"300\" alt=\"\" src=\"https://proxy-prod.omnivore-image-cache.app/300x89,sWwou1YAHRH_zMgjxW07BLbVJ4tvlRVPaAt7J3Bk1HwE/https://cdn.thenewstack.io/media/2022/04/85d4609e-logotype_blue@4x-300x89.png\" loading=\"lazy\">You’re so tired of building applications in which the backend is essentially similar, with only the frontend substantially different. So is everyone. That’s why there are so many <a href=\"https://thenewstack.io/guide-serverless-technologies-functions-backends-service/\">backend-as-a-service providers</a> out there.</p>\n  <p>The team at Canonic, however, has taken the <a href=\"https://thenewstack.io/using-apis-with-low-code-tools-9-best-practices/\">low-code</a> route, enabling a wider swath of users — sales and marketing teams perhaps, who aren’t necessarily developers — to share the love.</p>\n  <p>Co-founder <a rel=\"external\" href=\"https://www.linkedin.com/in/pagrawl3/?originalSubdomain=in\">Pratham Agrawal</a>, who left the University of Illinois at Urbana-Champaign to start his own design and development shop in India, found too much time spent on repetitive tasks.</p>\n  <p>“Some of the projects had very similar backend with minor tweaks and a different frontend. I always felt I could have saved multiple hours of effort if this kind of information was already structured in the backend and only its frontend was required to be built,” he <a rel=\"external\" href=\"https://www.theadreview.com/meet-pratham-agrawal/\">told</a> AdReview.</p>\n  <p>Fellow co-founders <a rel=\"external\" href=\"https://www.linkedin.com/in/aditi-jain-001b766b/?originalSubdomain=in\">Aditi Jain</a>, <a rel=\"external\" href=\"https://www.linkedin.com/in/iamsimranjot/?originalSubdomain=in\">Simranjot Singh</a> and <a rel=\"external\" href=\"https://www.linkedin.com/in/kartikgrewal/?originalSubdomain=in\">Kartik Grewal</a>, who worked with Awrawal at chatbot vendor Haptik, had similar experiences and set out in May 2020 to create a better option.</p>\n  <p>“Canonic was born out of a need to make backend development easy, reusable and powerful,” said Jain of the India-based startup. “We felt the need to simplify this in a way where product engineering is not limited by the technical know-how of writing code, and code can be auto-generated while keeping the possibility open for maximum customization with or without code.”</p>\n  <h2>Built on a Graph</h2>\n  <p>The graph is the starting point for any project built on Canonic. It allows users to visually organize information in a hierarchy, showing relationships among the different components and create REST and GraphQL APIs in minutes.</p>\n  <p>“Think of it like a mind map,” Jain explained. “Using the graph, the user can intuitively define the core structure of their APIs and tables along with any integrations that they want to link.”</p>\n  <p>It allows you to build complex workflows, similar to Zapier, to allow data to flow from one integration to another. You basically define the central nervous system of the backend using the graph. Based on the graph, Canonic deploys a serverless API along with a database and any associated services, such as triggers or webhooks. It’s all serverless and powered by AWS.</p>\n  <p>It includes:</p>\n  <ul>\n  <li>A content management system (CMS) that dynamically adapts to the data that you define.</li>\n  <li>CRUD APIs to programmatically manage content and build and integrate with applications.</li>\n  <li>Auto-generated documentation for all the APIs that the user creates, along with examples and a playground to trigger and test these APIs.</li>\n  </ul>\n  <p>“This API is fully extensible, which means that you can easily add more functionality in the form of custom endpoints — we have an in-built code editor — and workflows spanning hundreds of third-party integrations. Overall, you can essentially create complex backend services and APIs all through a web-based application with minimal backend experience,” Jain said.</p>\n  <p>Canonic is a web app; everything created on the platform remains on the platform itself in the provided database. The user, however, can select the region where the project will be deployed.</p>\n  <p>There’s an <a rel=\"external\" href=\"https://canonic.dev/features/sdk/\">SDK</a> that allows you to integrate your project directly into your own code editor, though the team touts Canonic as a one-stop backend platform that enables you to see and do everything in one place.</p>\n  <p>The CMS is based on AWS Cloudfront. Data is encrypted in transit and at rest, and role-based authentication and governance includes permissioned API keys&nbsp;based on least-privileged access.</p>\n  <p>Users can import data from Microsoft SQL Server, Airtable, MongoDB, PostGres, MySQL or Google Sheets and Canonic will auto-generate the schema model of that database.</p>\n  <p>No-code identity login is provided through integrations with Okta, Auth0 and OneLogin.</p>\n  <p>Users can also schedule triggers, such as sending daily reports, monthly reports or other reminders without writing any code.</p>\n  <p>The technology came out of beta last August, and the team has grown to nine employees.</p>\n  <p><iframe allowfullscreen=\"\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" frameborder=\"0\" src=\"https://www.youtube.com/embed/MpInTJgGwmM?feature=oembed\" height=\"360\" width=\"640\" title=\"Supercharge the Backend to your Frontend\" loading=\"lazy\"></iframe></p>\n  \n  <p>Fintech startup smallcase turned to Canonic while building out an internal roadmap tool for the company</p>\n  <p>“After exploring a few existing tools, we realized we were running into roadblocks due to some custom requirements. Hence, we decided to explore no-code/low-code platforms. It felt unnecessary to hire someone for just the backend or frontend requirement, which would in turn cost us a lot of time, money and effort,” said Shivang Bhandari, a frontend engineer who works primarily on the core code for transactions on the platform.</p>\n  <p>“Canonic’s ability to deploy serverlessly, the sheer intuitiveness of the platform and the pricing were very reasonable. There were certain guides and docs already written around the roadmap use case, which made it really easy to set things up and even build an initial POC (proof of concept.)</p>\n  <p>“The product is super intuitive to use and projects are easy to deploy. The Canonic team is very prompt in helping in case I get stuck or want to understand workflows better.”</p>\n  <h2>Crowded Space</h2>\n  <p>There are plenty of competitors in the low-code/no-code development space including <a rel=\"external\" href=\"https://www.xano.com/\">Xano</a>, <a href=\"https://thenewstack.io/supabase-takes-aim-at-firebase-with-a-scalable-postgres-service/\">Supabase</a>, <a href=\"https://thenewstack.io/backendless-badass-baas\">Backendless</a>, and among those adding in frontend as well, there’s <a rel=\"external\" href=\"https://bubble.io/\">Bubble</a>, <a href=\"https://thenewstack.io/appsmith-an-open-source-low-code-framework-to-build-internal-apps/\">AppSmith</a> and <a rel=\"external\" href=\"https://www.appgyver.com/\">AppGyver</a>.</p>\n  <p>Jain said Canonic stands out in three ways:</p>\n  <ol>\n  <li>It is completely serverless and priced according to the number of API calls.</li>\n  <li>Users can define business logic on top of their database using hundreds of integrations.</li>\n  <li>The graphic user interface has been a big hit with customers.</li>\n  </ol>\n  <p>Going forward the company wants to double down on relevant use cases to make it even easier to satisfy complex requirements.</p>\n  <p>It’s also looking to increase the number of building blocks available by opening up the platform and creating a marketplace.</p>\n  <p>“The user’s role becomes that of a composer. They just take different pieces that are already built out and put them together to build something truly complex in hours rather than months,” Jain said.</p>\n  <p>“The third aspect we want to focus on is what happens when a user hits the limits of the platform. We want the graduation to be transparent, reliable and on par with developer handovers. The user should not have to start from scratch.”</p>\n  <p>The New Stack is a wholly owned subsidiary of Insight Partners, an investor in the following companies mentioned in this article: Bubble.</p>\n  \n  </div>\n  </article></div>",
    "labels": "nocode"
  },
  {
    "description": "As developers, we love the benefits of containers, but they're not always easy to deploy. It can be a cumbersome process to build a container image, push",
    "title": "Simplify Azure Container Apps deployments with \"az containerapp up\"",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n      \n          \n              \n                      \n          \n      \n                  \n          \n              \n                      \n          <p><span>\n      \n  \n      \n          \n          \n          <span>‎Apr 28 2022</span>\n      \n          \n          <span>11:04 PM</span>\n      \n      \n  \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n      \n  </span>\n          </p>\n      \n                  \n          \n              <div id=\"bodyDisplay\">\n              \n                  \n                      \n                      \n                          \n  \n  <p>As developers, we love the benefits of containers, but they're not always easy to deploy. It can be a cumbersome process to build a container image, push it to a registry, and then set up infrastructure and deploy the container.</p>\n  \n  <p><a rel=\"noopener noreferrer\" href=\"https://docs.microsoft.com/en-us/azure/container-apps/overview\">Azure Container Apps</a> is a modern, fully-managed, serverless platform for running containers. While we don't have to manage infrastructure, it's still up to us to figure out how to build our container image and deploy it.</p>\n  \n  <p>Today, we're introducing a preview feature in the Azure CLI that streamlines the process of deploying to Azure Container Apps in a single command. Whether your source code is on your local machine or in GitHub, \"az containerapp up\" is the only command you need to get your app running in Azure Container Apps.</p>\n  \n  <h2 id=\"toc-hId-395724089\">How does it work?</h2>\n  \n  <p>\"az containerapp up\" is the newest in the rich set of <a rel=\"noopener noreferrer\" href=\"https://docs.microsoft.com/en-us/cli/azure/containerapp?view=azure-cli-latest&amp;preserve-view=true\">Azure CLI commands</a> for managing and deploying Azure Container Apps. It will:</p>\n  <ul>\n  <li>Provision your Azure resources, including: an Azure Container Apps environment, a container app, an Azure Container Registry, and an Azure Log Analytics workspace.<br>Build your container image and push it to the container registry.</li>\n  <li>Deploy your container to the container app.</li>\n  </ul>\n  <p>If you want to, you can deploy to existing resources like Container Apps environments or use existing container registries. And you can update your app by running the same \"az containerapp up\" command again.</p>\n  \n  <h2 id=\"toc-hId--1411730374\">Install the containerapp CLI extension</h2>\n  \n  <p>\"az containerapp up\" is available in version 0.3.2 or above of the Container Apps Azure CLI extension. To make sure you have the latest version, run:</p>\n  \n  <pre tabindex=\"0\"><code class=\"hljs language-livecodeserver language-pgsql\">az <span class=\"hljs-built_in\">extension</span> <span class=\"hljs-built_in\">add</span> <span class=\"hljs-comment\">--name containerapp --upgrade</span></code></pre>\n  \n  <h2 id=\"toc-hId-1075782459\">Deploy from a local source</h2>\n  \n  <p>\"az containerapp up\" can deploy from a local source. It needs a Dockerfile in your source directory.</p>\n  \n  <p>Run the \"az containerapp up\" command, providing a name for the container app and the location of your source code.</p>\n  \n  <pre tabindex=\"0\"><code class=\"hljs language-jboss-cli language-brainfuck\">az containerapp up <span class=\"hljs-params\">--name</span> my-app <span class=\"hljs-params\">--source</span> <span class=\"hljs-string\">./my-app</span></code></pre>\n  \n  <p>That's it! The command does everything needed to build and deploy the app:</p>\n  <ul>\n  <li>Creates a resource group.</li>\n  <li>Creates an Azure Container Registry.</li>\n  <li>Creates an Azure Log Analytics workspace.</li>\n  <li>Creates an Azure Container Apps environment.</li>\n  <li>Builds the container image and pushes it to the container registry.\n  <ul>\n  <li>It builds the image using the Dockerfile in your source directory.</li>\n  <li>The build runs in the cloud. It's fast and doesn't require Docker on your machine.</li>\n  </ul>\n  </li>\n  <li>Creates an Azure Container App.</li>\n  <li>Deploys the container to the container app.</li>\n  <li>If the Dockerfile includes an EXPOSE command, it'll also configure the app's ingress and target port.</li>\n  </ul>\n  <p>When you make updates to the app, simply run the same \"az containerapp up --name my-app --source .\" command again to build and deploy it.</p>\n  \n  <h2 id=\"toc-hId--731672004\">Deploy from GitHub</h2>\n  \n  <p>If you have an app in GitHub that you want to deploy, run the following command to set up all the resources and a GitHub Actions workflow to build and deploy the app:</p>\n  \n  <pre tabindex=\"0\"><code class=\"hljs language-jboss-cli language-perl\">az containerapp up <span class=\"hljs-params\">--name</span> my-app <span class=\"hljs-params\">--repo</span> https:<span class=\"hljs-string\">//github.com/my-name/my-app</span></code></pre>\n  \n  <p>You'll be prompted to log in to GitHub and, like with local source, the command does the rest.</p>\n  <ul>\n  <li>Creates a resource group.</li>\n  <li>Creates an Azure Container Registry.</li>\n  <li>Creates an Azure Log Analytics workspace.</li>\n  <li>Creates an Azure Container Apps environment.</li>\n  <li>Creates an Azure Container App.</li>\n  <li>Sets up a GitHub Actions workflow to build and deploy the app.</li>\n  </ul>\n  <p>To make updates to the app, push your changes to GitHub and the workflow will automatically build and deploy the app.</p>\n  \n  <h2 id=\"toc-hId-1755840829\">Customizing the command</h2>\n  \n  <p>By default, \"az containerapp up\" will use intelligent defaults to create your resources. You can override the defaults and even deploy to existing resources by providing the appropriate parameters.</p>\n  \n  <p>To learn more, run \"az containerapp up --help\".</p>\n  \n  <h2 id=\"toc-hId--51613634\">What's next?</h2>\n  \n  <p>The \"az containerapp up\" command is in preview. Use it to deploy to Azure Container Apps and <a rel=\"noopener noreferrer\" href=\"https://github.com/microsoft/azure-container-apps/issues\">let us know</a> what you think!</p>\n                      \n                  \n              \n              \n              \n                  \n              \n              \n              \n              \n              \n              \n          </div>\n          \n              \n          \n              \n                      \n                  \n          \n              \n                      \n                  \n          \n      \n      \n  </div></div>",
    "labels": "Azure"
  },
  {
    "description": "We want to evaluate how well candidates can code, and we also want to ensure candidates can show their talents in a fair and unbiased manner.",
    "title": "How GitHub does take home technical interviews",
    "content": "<div class=\"page\" id=\"readability-page-1\"><section>\n  \n      <div data-dark-theme=\"dark_dimmed\" data-light-theme=\"light\" data-color-mode=\"dark\">\n              <p>We believe our technical interviews should be as similar as possible to the way we work at GitHub. </p></div>\n  \n      <div data-dark-theme=\"dark_dimmed\" data-light-theme=\"light\" data-color-mode=\"dark\"><p><img alt=\"How GitHub does take home technical interviews\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sDqqalk-Gunq-PzsCsDDGm3C27-fGqTdm3fY8fv5ZBks/https://github.blog/wp-content/uploads/2022/02/Engineering-Company@2x.png?resize=1600%2C850\"></p></div>\n      \n  \n  </section><div id=\"post-63463\">\n      <p>There are many ways to evaluate an engineering candidate’s skills. One way is to ask them to solve a problem or write some code. We have been striving for a while to make this experience better at GitHub. This blog post talks about how candidates at GitHub do the “take home” portion of their interview—a technical challenge done independently—and how we improved on that process.</p>\n  <p>We believe the technical interview should be as similar as possible to the way we work at GitHub. That means:</p>\n  <ul>\n  <li>Writing code on GitHub and submitting a pull request.</li>\n  <li>Using your preferred editor, operating system, and tools.</li>\n  <li>Using the internet for documentation and help.</li>\n  <li>Respecting time limits.</li>\n  </ul>\n  <p>In order to make this process seamless for candidates, we automate with a <a href=\"https://docs.github.com/en/developers/apps\">GitHub app</a> called Interview-bot. This app uses the <a href=\"https://docs.github.com/en/rest\">GitHub API</a> and existing GitHub features.</p>\n  <p>First, candidates get to choose the programming language they’ll use to take the interview. They’ll get an email asking them to take the interview at their convenience by signing into Interview-bot.</p>\n  <p>Each interview is aimed at being similar to the day-to-day problems that we solve at GitHub. These aren’t problems to trick or test obscure knowledge. Interviews come with a clear set of instructions and a time limit. We place this time limit because we respect your time and want to ensure that we don’t bias toward candidates who have more time to invest in the solution.</p>\n  <p>The exercise is contained in a repository in a separate organization on GitHub. When the candidate signs in, we make a <a href=\"https://docs.github.com/en/rest/reference/repos#create-an-organization-repository\">new repository</a>, grab a copy of the exercise and <a href=\"https://docs.github.com/en/rest/reference/git#create-a-tree\">copy the files</a>, <a href=\"https://docs.github.com/en/rest/reference/issues#create-an-issue\">issues</a>, and <a href=\"https://docs.github.com/en/rest/reference/pulls#create-a-pull-request\">pull requests</a> into the repository. This is done as a copy and not a fork or clone because we can alter the files in the process to fix things up. It also allows us to remove any Git history that might hide embarrassing clues on how to complete the exercise. 😉</p>\n  <p><img data-recalc-dims=\"1\" sizes=\"(max-width: 1000px) 100vw, 1000px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1240x0,s1TgT-VOF0x12IN7h1txvJaO_rW2YtTaeIUphq8eIeac/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-1.png?resize=1024%2C324?w=1240 1240w,https://proxy-prod.omnivore-image-cache.app/300x0,sLYXl_l2Ic1Y2uhbTnnWLTQwanBFKhrR-b_cz6wUEHTY/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-1.png?resize=1024%2C324?w=300 300w,https://proxy-prod.omnivore-image-cache.app/768x0,sDShCiSJyHZfcclAJEHDg4o-Ri1crpr5tKw2VfEro-D0/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-1.png?resize=1024%2C324?w=768 768w,https://proxy-prod.omnivore-image-cache.app/1024x0,ssQK4o3DIAdCGt-iDNspJjHbrhz7S-IRdbCaIGzxf87Y/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-1.png?resize=1024%2C324?w=1024 1024w,\" height=\"324\" width=\"1024\" alt=\"Diagram showing that the candidate exercise is copied from &quot;based repository&quot; to &quot;candidate repositor&quot;\" src=\"https://proxy-prod.omnivore-image-cache.app/1024x324,sK1tyo5jGlk0GflMkoj9c7FxuUduSIgACVmHjJd3U3yg/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-1.png?resize=1024%2C324\"></p>\n  <p>The candidate is given access to the repository, and a timer starts. They can now clone the exercise to their local machine, or use <a href=\"https://github.blog/2021-12-16-technical-interviews-via-codespaces/\">GitHub Codespaces</a>. They are able to use whatever editor, tooling, and operating system they want. Again, <em>we hope to make this as close as possible to how the candidate will be working in a day to day environment at GitHub</em>.</p>\n  <p>When the candidate is satisfied with their pull request, they can submit it for review. The application will listen for the pull request via <a href=\"https://docs.github.com/en/developers/webhooks-and-events/webhooks\">webhooks</a> and will confirm that the pull request has been submitted.</p>\n  <p><img data-recalc-dims=\"1\" sizes=\"(max-width: 1000px) 100vw, 1000px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1600x0,slprvNx92xQZXoD8cBp9SWVJ-8QRtYYY8sQMl1KS-lwY/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-2.png?resize=1024%2C284?w=1600 1600w,https://proxy-prod.omnivore-image-cache.app/300x0,s92Xx9hItCCZFWSUswBLrFBcXwqWijnwUZ6YPLXBWVP0/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-2.png?resize=1024%2C284?w=300 300w,https://proxy-prod.omnivore-image-cache.app/768x0,sceIpAOgrrreeetzz0qN3rptrvfptNo1S4kBRDwkecGM/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-2.png?resize=1024%2C284?w=768 768w,https://proxy-prod.omnivore-image-cache.app/1024x0,sqvTkrsccl_znPdswFDk-0MHym-PZ_Bp70CPCK1AxpSU/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-2.png?resize=1024%2C284?w=1024 1024w,https://proxy-prod.omnivore-image-cache.app/1536x0,ssXrc3Vv_N_6gYXq7mMG64TrORSFhuA9r3rcEpaFiS9s/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-2.png?resize=1024%2C284?w=1536 1536w,\" height=\"284\" width=\"1024\" alt=\"Screenshot of pull request confirmation that candidate will receive\" src=\"https://proxy-prod.omnivore-image-cache.app/1024x284,s6_378-qW2l88aF321DExtZAFHaR0UzsLjs8X-6bshYI/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-2.png?resize=1024%2C284\" loading=\"lazy\"></p>\n  <p>At this point, we anonymize the pull request and copy it back to the base repository.</p>\n  <p><img data-recalc-dims=\"1\" sizes=\"(max-width: 1000px) 100vw, 1000px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1246x0,srBug6pEfOAmRRroxu5mI87y2qgjpMngUpsM7bQOgZBk/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-3.png?resize=1024%2C756?w=1246 1246w,https://proxy-prod.omnivore-image-cache.app/300x0,sfFcljMuE1e4IXe2dCwWKAdb3WDI024HXrBNvEilvWZQ/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-3.png?resize=1024%2C756?w=300 300w,https://proxy-prod.omnivore-image-cache.app/768x0,sb9SLDJtG-AjCMVpQzDGIvyf9He6xngP6ViOS57bxSsE/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-3.png?resize=1024%2C756?w=768 768w,https://proxy-prod.omnivore-image-cache.app/1024x0,s4RWtm_BhEA_i5UcIeH46OddHMEJufJVuC2D_44tqTqs/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-3.png?resize=1024%2C756?w=1024 1024w,\" height=\"756\" width=\"1024\" alt=\"Diagram that shows how the anonymized candidate response is sent back to the base repository\" src=\"https://proxy-prod.omnivore-image-cache.app/1024x756,siApuaGDvyx71LF4NkHm6oEVnS0QKThqpkimltRoQQZE/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-3.png?resize=1024%2C756\" loading=\"lazy\"></p>\n  <p>The pull request contains the code changes and comments from the candidate. To further reduce bias, the system anonymizes the submission (as best as it can) by removing the title. The Git commits and pull request will display Interview-bot as the author. To the reviewer, the pull request comes from Interview-bot and <em>not</em> the candidate.</p>\n  <p><img data-recalc-dims=\"1\" sizes=\"(max-width: 1000px) 100vw, 1000px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1418x0,sE_Ow3Gmrbc2z1zlfEb4BjqSHaruIpdL1Cz-MKyj0gBY/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-4.png?resize=1024%2C321?w=1418 1418w,https://proxy-prod.omnivore-image-cache.app/300x0,sO7_Krk69gdisFwBlYchlGy_iO7S4nlv9uC2ZzQIlMlc/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-4.png?resize=1024%2C321?w=300 300w,https://proxy-prod.omnivore-image-cache.app/768x0,sKn4mdi7dbHRLYvPrmdmxI16azan4CB-NH4lHy0Y6IGY/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-4.png?resize=1024%2C321?w=768 768w,https://proxy-prod.omnivore-image-cache.app/1024x0,sIf97auj5jBaN_bspLkNUWQis5eonSToSSHRENbf1Eys/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-4.png?resize=1024%2C321?w=1024 1024w,\" height=\"321\" width=\"1024\" alt=\"Sample pull request from interview-bot, showing anonymized ID rather than candidate name\" src=\"https://proxy-prod.omnivore-image-cache.app/1024x321,sFOb_mU36tefiW7b4vyBv1cqiABRvXLK8K7GxIi7N0n8/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-4.png?resize=1024%2C321\" loading=\"lazy\"></p>\n  <p>The pull request includes automated tests and a rubric so that interviewers know how to mark it and each submission is evaluated objectively and consistently. The tests run through <a href=\"https://github.com/features/actions\">GitHub Actions</a> and provide a base level for the reviewer.</p>\n  <p>For each language, we’ve got teams of engineers who review the exercise. Using <a href=\"https://docs.github.com/en/organizations/organizing-members-into-teams/managing-code-review-settings-for-your-team\">GitHub’s code review team feature</a>, an engineer at GitHub is assigned to review the code. To mark the code, we provide a clear scorecard on the pull request as a comment. This clear set of marking criteria helps limit any personal bias the interviewer might have. They’ll mark the review based on given technical criteria and apply <a href=\"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/reviewing-proposed-changes-in-a-pull-request\">an “Approve” or “Request changes”</a> status to give the candidate a pass or fail, respectively.</p>\n  <p>Finally, Interview-bot tracks for <a href=\"https://docs.github.com/en/developers/webhooks-and-events/webhooks\">changes on the pull request</a> review and then informs the assigned staff member so they can follow up with the candidate, who hopefully moves on to the next stage of the GitHub interview process. At the start of the interview process, Interview-bot associates each candidate with an issue in an internal repository. This means that staff can track candidates and their progress all within GitHub.</p>\n  <p><img data-recalc-dims=\"1\" sizes=\"(max-width: 1000px) 100vw, 1000px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1600x0,sRCD6EnXyRMWXhmNx1c1nczNZ8bVXkVRr_3bdU80lgXM/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-5.png?resize=1024%2C176?w=1600 1600w,https://proxy-prod.omnivore-image-cache.app/300x0,sbrNAHR2rhqL5whCU1C1XJioVfdCsZ_Ef_9oSwDVJslk/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-5.png?resize=1024%2C176?w=300 300w,https://proxy-prod.omnivore-image-cache.app/768x0,sDZKnnQcwIxOlZVuCccc8mnrEK1DceHnOzPH4K0Mpuc4/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-5.png?resize=1024%2C176?w=768 768w,https://proxy-prod.omnivore-image-cache.app/1024x0,s8IhuDeYUPEjydm1sxG5iwTYvqyCrJQKsqY02iptYlqc/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-5.png?resize=1024%2C176?w=1024 1024w,https://proxy-prod.omnivore-image-cache.app/1536x0,sTdWaYZhDjmM1_UOTjeI7_GkIGTP77wxI3FBzoUPlE3U/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-5.png?resize=1024%2C176?w=1536 1536w,\" height=\"176\" width=\"1024\" alt=\"Sample status update from Interview-bot\" src=\"https://proxy-prod.omnivore-image-cache.app/1024x176,sj5MsLh3PoVo9l1vXQvR4VkrbFl4vtt2q23Zrxj2U1ac/https://github.blog/wp-content/uploads/2022/02/github-take-home-interviews-fig-5.png?resize=1024%2C176\" loading=\"lazy\"></p>\n  <p>Using the existing GitHub APIs and tooling, we created an interview process that mirrors as closely as possible how you’ll work at GitHub, focused on reducing bias and improving the candidate’s experience.</p>\n  <p>If you’re interested in applying at GitHub, please check out our <a href=\"https://github.com/about/careers\">careers page!</a></p>\n  \n      \n  \n  </div></div>",
    "labels": "github"
  },
  {
    "description": "Après \"Lost in management\", le sociologue François Dupuy publie aux éditions du Seuil, \"La faillite de la pensée managériale\".\n  \n      Il y décortique les raisons pour... - L'interview management",
    "title": "\"La multiplication des chefs de projet est une catastrophe managériale majeure\", affirme le sociologue François Dupuy",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n                      <div>\n                              \n  \n        \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n          \n              \n      \n  \n              <p>\n      <strong>L'Usine Nouvelle - Qu'est ce qui vous a poussé à revenir sur un sujet dont on pouvait penser que vous aviez fait le tour dans votre précédent livre ?</strong></p>\n      \n  \n  <p>\n      <strong>François Dupuy</strong> - Beaucoup de personnes, et pas seulement mon éditeur, m'ont demandé d'écrire la suite. De mon côté, j'avais envie de revenir sur certains phénomènes que j'ai observés en intervenant dans des entreprises ou dans mes travaux de recherche. Certaines personnes me disaient que j'avais bien démonté les mécanismes de ce qui ne marchait pas mais que je ne donnais pas de solutions. De mon côté, je voulais, après avoir expliqué ce qui ne va pas, approfondir les raisons de cette situation, revenir sur le pourquoi ça ne va pas.</p>\n  \n  \n                                          \n  \n                                                                                                  \n  \n  \n                          \n  <p>\n      <strong>Le titre de votre essai fait référence à une pensée managériale. Ce terme de pensée est-il une manifestation de votre ironie ?</strong></p>    \n  \n  \n  \n  \n  \n  \n  \n          \n              \n      \n  \n  <p>\n      Quand je parle de pensée, je ne me réfère pas à un grand système d'explication du monde avec des concepts définis. Il faut entendre ce terme au sens où tous nos actes procèdent de notre façon de penser. Or, la manière dont raisonne le management est en faillite et a déjà mené certaines entreprises à la ruine.</p>    \n  \n  \n  \n  \n  \n  \n  \n          \n              \n      \n  \n  <p>\n      A l'origine du phénomène, il y a la formation des managers encadrants. Un technicien qui a réussi dans sa fonction est nommé manager mais personne ne pense à le former, alors qu'il va avoir une tâche relativement complexe à réaliser, gérer des Hommes. Du côté des dirigeants, la pensée financière a tué toutes les autres formes de pensée.</p>\n  <p>\n      <strong>Comment expliquez-vous ce choix qui semble peu raisonnable ?</strong></p>\n  <p>\n      Il y a une forme de paresse intellectuelle terrifiante. On ne raisonne plus, on applique des recettes. On ne creuse pas la question de l'organisation et des hommes. On se contente de la connaissance ordinaire. Or, les sciences sociales le démontrent, une organisation humaine est tellement complexe que son fonctionnement n'apparaît pas à l'oeil nu. De nombreux travaux de cette discipline ont montré comment cela marche justement. Cela revient à faire comme si les études de médecine n'existaient pas et qu'on continuait à aller voir des rebouteux. Mais si la pratique de la médecine a pû progresser, c'est parce qu'on a développé parallèlement des savoirs très complexes sur les virus par exemple.</p>\n  <p>\n      <strong>Une chose me frappe dans les livres récents sur le management, c'est qu'on n'y parle plus du tout ou très rarement de \"pouvoir\". Ce mot semble faire peur, comment l'interprétez-vous ?</strong></p>\n  <p>\n      Prenons l'exemple de ce qui est pour moi la catastrophe managériale majeure : la multiplication des chefs de projet, le fonctionnement \"en mode projet\". On prend un brave type ou une brave fille et on lui dit <em>\"tu vas faire travailler ensemble des gens venant de services différents\"</em> et en général on ne lui donne aucun moyen pour le faire. Pourtant, on crée des postes de chef de projet pour tout et n'importe quoi. Les dirigeants semblent croire qu'il suffit de donner le titre de chef pour qu'une personne le soit, que changer l'organigramme c'est changer l'organisation. C'est bien sûr faux.</p>\n  <p>\n      Pour les sciences sociales, avoir du pouvoir c'est contrôler quelque chose d'important pour les gens qui vont travailler ensemble. Comment voulez-vous que la personne nommée chef de projet ait une quelconque autorité si elle ne contrôle pas une ressource stratégique ?</p>\n  <p>\n      Comme on ne pense pas ces questions, on pratique soit la coercition soit l'incantation. La première se manifeste par tous les systèmes de contrôle et de reporting. Pour la seconde, vous avez tous ces chefs d'entreprise qui deviennent des sortes de gourous (il ne leurs manque que la robe blanche) expliquant les valeurs fondamentales de l'entreprise. Comme si les gens se comportaient en fonction des valeurs de l'entreprise ! Pourtant, les sciences sociales (encore elles !) ont établi depuis longtemps que les valeurs sont le résultat d'une action, pas quelque chose qu'on impose.<img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,slhp8G3DOtyjMJdbqNfCUD8kUVx4VWes3jytabn0VhA4/https://www.usinenouvelle.com/mediatheque/4/9/0/000259094_illustration_large.jpg\" data-original=\"https://www.usinenouvelle.com/mediatheque/4/9/0/000259094_illustration_large.jpg\"></p>\n  <p>\n      <strong>Vous raillez beaucoup dans votre lire le discours sur les valeurs.</strong></p>\n  <p>\n      Rendez-vous compte. Quand on les étudie, on découvre que la valeur la plus souvent mentionnée dans les entreprises est l'innovation. Or que voit-on ? Une multiplication des systèmes de contrôle, un enfermement de l'action dans ces systèmes. Comment voulez vous que les personnes innovent ? Le résultat de cette contradiction est de créer du cynisme. Les salariés feignent d'approuver mais ils continuent comme avant.</p>\n  <p>\n      <strong>Vous parlez beaucoup des sciences sociales. Vous prêchez un peu pour votre paroisse ?</strong></p>\n  <p>\n      C'est comme si vous disiez à votre médecin qui vous conseille un examen qu'il prêche pour sa paroisse. Il s'appuie sur son savoir pour faire au mieux. Ceci dit, je ne milite pas pour que tous les chefs d'entreprises deviennent sociologues, mais pour qu'ils aient la curiosité de s'intéresser à des savoirs établis qui leur rendraient de grands services, à eux et à leurs salariés.</p>\n  <p>\n      Je vais prendre un exemple et être un peu provocateur. Pendant des années sociologues, psychologues, psychiatres ont dit et même écrit <em>\"attention le travail se détériore, cela peut avoir des conséquences tragiques\"</em>. Et puis il y a eu les suicides. Ce qui me fait écrire que 25 suicides sont plus efficaces que 25 livres pour faire prendre conscience de certaines réalités.</p>\n  <p>\n      <strong>N'évacuez-vous pas un peu vite l'hypothèse que les dirigeants sont rationnels, puisqu'ils sont soumis à une logique financière, ils s'y conforment tout simplement ?</strong></p>\n  <p>\n      Ils ont fait le choix de s'ajuster à une seule variable, la finance. Mais parallèlement, ils s'aperçoivent du désengagement des salariés et des problèmes que cela pose. Pour revenir aux valeurs, l'engagement est la deuxième valeur la plus citée dans les entreprises européennes. Cela fait quinze ans là aussi que les sociologues parlent de ces phénomènes. Bien sûr que l'engagement (défini comme mettre dans son travail un peu plus de soi que ce que prévoit le contrat de travail) est un facteur de productivité. Aujourd'hui, de plus en plus de salariés préfèrent mettre ce surplus ailleurs que dans l'entreprise, dans l'associatif, le non marchand... Ils se désintéressent du gain monétaire. Le désengagement va coûter très cher aux entreprises. Philippe Aghion avait calculé le coût de la défiance, j'attends qu'on mesure celui des effets de la pensée paresseuse avec impatience.</p>\n  <p>\n      <strong>Comment favorise-t-on l'engagement ?</strong></p>\n  <p>\n      Comment voulez vous que les salariés soient engagés si vous leur faites passer en permanence le message que vous ne leur faites pas confiance, comme en attestent tous les systèmes coercitifs pour les surveiller, pour encadrer leur travail... Il y a des gens qui vous disent point par point ce que vous devez faire, et il faudrait s'engager, c'est-à-dire donner un peu de soi ? Il faut des dispositifs concrets, comme des récompenses, des modèles, qui favorisent cet engagement et pas un énième discours sur les valeurs. A ce sujet, je ne résiste pas à vous raconter cette anecdote : j'ai vu une entreprise, où on imprime les valeurs au dos du badge d'accès. Comme ça, si vous croisez un salarié et que vous lui demandez les valeurs, il a une antisèche !</p>\n  <p>\n      <strong>Depuis le début de l'interview, vous insistez sur les discours et les systèmes contradictoires dans l’entreprise. D'où vient cette contradiction ?</strong></p>\n  <p>\n      Il faudrait agir dans le bon sens. Les dirigeants devraient commencer par définir une stratégie et réfléchir après aux comportements dont ils ont besoin pour réussir. Aujourd'hui, on définit une stratégie, on donne trois valeurs et il faudrait que les choses se fassent. Et bien non, cela ne fonctionne pas ainsi.</p>\n  <p>\n      En outre, je crois qu'on privilégie trop la pensée linéaire et pas assez la pensée complexe. On développe une pensée segmentée où l'on traite une question à la fois, une pensée séquentielle où l'on s'attache à travailler problème par problème. Ce faisant on ignore les liens entre les différents niveaux. Je suis intervenu dans une entreprise où il était évident que le problème observé à un endroit trouvait sa source dans un autre service. Il m'a été répondu <em>\"on vous a fait venir pour régler ce problème là, pas pour aller voir ailleurs\".</em> C'est la pensée PowerPoint, ce flambeau de la paresse intellectuelle, cette succession de points les uns après les autres.</p>\n  <p>\n      <strong>Si on accepte votre diagnostic, comment expliquez-vous qu'il soit concomitant au développement des écoles de management ?</strong></p>\n  <p>\n      On les appelle école de commerce ou business schools pas école de management. Ce sont les complices, avec les cabinets de conseil, de ce que je dénonce. Leur fonctionnement explique beaucoup de choses. Les programmes sont divisés en matière. Autrement dit, la personne n'est jamais considérée comme une personne à part entière.</p>\n  <p>\n      En outre, un second phénomène affreux s'y déroule : le relativisme des savoirs. Dans un amphithéâtre, un enseignant plus ou moins formé va développer son cours. Et il y a un élève qui va dire <em>\"ben non je ne suis pas d'accord, ça ne se passe pas comme ça, moi je pense que...\"</em> Et l'enseignant laisse trop souvent faire. On met sur le même plan 50 ans de recherches scientifiques et le témoignage d'un gars sûrement sympathique. On est dans la démagogie pédagogique. Ceci s'explique : la concurrence est telle entre les écoles qu'elles ne veulent pas faire de mal à leurs participants, à leurs élèves. Rien qu'aux <a rel=\"\" href=\"https://www.usinenouvelle.com/etats-unis/\" title=\"Toute l'information économique et industrielle aux Etats-Unis\">Etats-Unis</a>, on en compte 600. Or apprendre ça fait mal, je dirai même que ça doit faire mal.</p>\n  <p>\n      <i><strong>Propos recueillis par Christophe Bys</strong></i></p>\n  \n  \n                              \n                                                              <div data-xiti-promotion-variant=\"standard\" data-xiti-promotion-format=\"sous-article\" data-xiti-promotion-adid=\"125\" data-xiti-chapter2=\"sous-article-meme-rubrique\">\n                  \n                  <p>Sélectionné <b>pour vous</b></p>\n  \n                  \n                                                                              \n                                                                                                          \n                      <section>\n                          \n                                                      <a data-xiti-name=\"1799527\" href=\"https://www.usinenouvelle.com/article/le-piston-affecte-l-engagement-des-salaries-selon-helena-gonzalez-gomez.N1799527\">\n                                  <figure>\n                                                                                                                                                      <img alt=\"«Le piston affecte l'engagement des salariés», selon Helena González-Gómez\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sho7GhVrK5zbIm4wituivuGn-gKPhDkSsFmNqTLKPdcI/https://www.usinenouvelle.com/mediatheque/7/9/2/001226297_256x170_c.png\">\n                                  </figure>\n                              </a>\n                                                  \n  \n                          \n                          \n                          \n                      </section>\n                                                                              \n                                                              \n                      \n                                                                              \n                                                              \n                      \n                  \n                  \n              </div>\n                                                          </div>\n                      \n                      \n                                                  <section>\n          \n          <h2>SUR LE <b>MÊME SUJET</b></h2>\n  \n          \n          <ul data-xiti-chapter2=\"sous-article-a-lire-aussi\">\n                                                                  <li>\n                          \n                          <a data-xiti-name=\"270098\" href=\"https://www.usinenouvelle.com/article/mediter-c-est-apprendre-a-manager-tourne-vers-les-autres-explique-sebastien-henry.N270098\">\n                              \"Méditer, c'est apprendre à manager, tourné vers les autres\", explique Sébastien Henry\n                          </a>\n                          \n                      </li>\n                                                                                  <li>\n                          \n                          <a data-xiti-name=\"290188\" href=\"https://www.usinenouvelle.com/article/dans-le-management-l-influence-des-universites-americaines-est-aussi-forte-que-celle-d-hollywood-dans-le-cinema-selon-olivier-fournout.N290188\">\n                              \"Dans le management, l’influence des universités américaines est aussi forte que celle d’Hollywood dans le cinéma\", selon Olivier Fournout\n                          </a>\n                          \n                      </li>\n                                                                                  <li>\n                          \n                          <a data-xiti-name=\"296868\" href=\"https://www.usinenouvelle.com/article/merci-est-le-mot-le-plus-important-du-management-rappelle-jean-edouard-gresy.N296868\">\n                              \"Merci est le mot le plus important du management\", rappelle Jean-Edouard Grésy\n                          </a>\n                          \n                      </li>\n                              \n          </ul>\n          \n      </section>\n  \n                                      </div></div>",
    "labels": "leadership"
  },
  {
    "description": "Rossynt - Roslyn syntax tree viewer for C#.",
    "title": "Rossynt",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div><article><p>Rossynt - <strong>Ros</strong>lyn <strong>syn</strong>tax <strong>t</strong>ree viewer for C#. Works on JetBrains Rider and all other IntelliJ IDEA-based IDEs.</p>\n  \n  <h2>System Requirements</h2>\n  \n  <ul><li><a rel=\"nofollow\" href=\"https://dotnet.microsoft.com/download/dotnet\">ASP.NET Core Runtime</a> (3.1, 5.0 or 6.0)</li><li><a rel=\"nofollow\" href=\"https://docs.microsoft.com/en-us/dotnet/core/tools/\">.NET CLI tool</a></li></ul>\n  \n  <p>These are all included if you have installed <a rel=\"nofollow\" href=\"https://dotnet.microsoft.com/download/dotnet\">.NET SDK</a> or <a rel=\"nofollow\" href=\"https://visualstudio.microsoft.com/downloads/\">Visual Studio</a>.</p>\n  \n  <h2>Features</h2>\n  \n  <ul><li>View syntax tree of C# files, including scratch files.</li><li>View properties of each node.</li><li>Highlight selected node in source code.</li><li>Find corresponding node for selected text.</li><li>Support light theme and dark theme.</li></ul>\n  \n  <h2>Settings</h2>\n  \n  <ul><li>To configure the plugin, go to<ul><li><code class=\"hljs language-coq language-gherkin\">Settings | <span class=\"hljs-type\">Tools</span> | <span class=\"hljs-type\">Rossynt</span></code> for Windows and Linux</li><li><code class=\"hljs language-coq language-gherkin\">Preferences | <span class=\"hljs-type\">Tools</span> | <span class=\"hljs-type\">Rossynt</span></code> for macOS</li></ul></li></ul></article></div></div>",
    "labels": "dotnet"
  },
  {
    "description": "Did you know? Screensavers were introduced to stop images getting burned into your PC screens. It’s true! Older screens weren't nearly as nice as they are now. If you left your monitor on for lon",
    "title": "The .NET Tools Blog",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n      <div>\n                              <p><a href=\"https://blog.jetbrains.com/dotnet/\">\n                      <img alt=\"Dotnet logo\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s7-bpAHv7NIp2OqcVXBdYuo8ZdN-2_SGf90Q12TXLGqU/https://blog.jetbrains.com/wp-content/uploads/2019/01/dotUltimate_icon.svg\">\n                  </a></p>\n          </div>\n                          \n              <div>\n                                      <h2>.NET Annotated Monthly | May 2022</h2>                    <div>\n                          <p><img loading=\"lazy\" alt=\"Rachel Appel\" height=\"200\" width=\"200\" src=\"https://proxy-prod.omnivore-image-cache.app/200x200,sLqh2MATR44tA9bhb86UYdvEkwiprLkBXUKqUDdcC7WM/https://secure.gravatar.com/avatar/e34736e840f97eeb2e6d2fe4db7aba22?s=200&amp;r=g\"></p>\n                      </div>\n                                          \n  \n  <p>Did you know? Screensavers were introduced to <a href=\"https://twitter.com/MicrosoftUK/status/1514174766709682180\">stop images getting burned into your PC</a> screens. It’s true!&nbsp;Older screens weren’t nearly as nice as they are now. If you left your monitor on for long periods of time and left a wallpaper or program visible, it would burn traces of it into the screen. Much like when you look directly at a light and then look away.</p>\n  \n  \n  \n  <figure><img alt=\"\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s0Wj4-BOdRCXgwICb0yPsKi6D77IVO3aEjibqg-gTDAU/https://lh5.googleusercontent.com/9NOcUC3YuEMlq1HL8e3kWhI6sRDuEHogCMKpr-dEe5hn1u7AWhrQT93FqmnLrM3oNwSqW1PtwUPrBrFnZkraOhsWCU_ZIsXIK5P5ry-6YYIY9N7Rz7zDciya1TTVvZ09PFXcroE5\"></figure>\n  \n  \n  \n  <h2><span id=\"NET_news\"></span>.NET news<span></span></h2>\n  \n  \n  \n  <ul><li><a href=\"https://devblogs.microsoft.com/dotnet/csharp-11-preview-updates/?WT.mc_id=DOP-MVP-4025064\">C# 11 Preview Updates – Raw string literals, UTF-8 and more!</a></li><li><a href=\"https://devblogs.microsoft.com/dotnet/announcing-dotnet-7-preview-3/\">Announcing .NET 7 Preview 3</a></li><li><a href=\"https://devblogs.microsoft.com/dotnet/dotnet-maui-rc-1/\">.NET MAUI Release Candidate</a></li><li><a href=\"https://devblogs.microsoft.com/dotnet/asp-net-core-updates-in-dotnet-7-preview-3/\">ASP.NET Core updates in .NET 7 Preview 3</a></li><li><a href=\"https://devblogs.microsoft.com/dotnet/dotnet-maui-preview-14/\">Announcing .NET MAUI Preview 14</a></li><li><a href=\"https://devblogs.microsoft.com/dotnet/corewcf-v1-released/\">CoreWCF 1.0 has been Released, WCF for .NET Core and .NET 5+</a></li></ul>\n  \n  \n  \n  <h2><span id=\"Featured_content\"></span>Featured content&nbsp;<span></span></h2>\n  \n  \n  \n  <p>We’d like to thank <strong>Chris Woodruff</strong> for curating this month’s featured content! Chris (or Woody as he is commonly known) has a huge passion around software architecture especially around APIs. You can find him Tweeting as <a href=\"https://twitter.com/cwoodruff\">@cwoodruff</a>, on <a href=\"https://www.linkedin.com/in/chriswoodruff/\">LinkedIn </a>and finally trying to blog more at <a href=\"https://woodruff.dev/\">Woodruff.Dev</a>. Woody also has an expensive bourbon collecting hobby that takes him to the Bourbon Trail in Kentucky several times a year.</p>\n  \n  \n  \n  <p>Woody has a great online workshop covering ASP.NET 5 Web API that anyone can learn more about REST APIs. You can find the online workshop here “<a href=\"https://woodruff.dev/aspnet-5-web-api-workshop/\">ASP.NET 5 Web API Workshop</a>” and the code for the workshop on his <a href=\"https://github.com/cwoodruff/aspnet-5-web-api-workshop\">GitHub repo</a>.</p>\n  \n  \n  \n  <p>The ASP.NET 6 Web API workshop will be coming out later this year but Woody has the code for the workshop available here at the <a href=\"https://github.com/cwoodruff/Chinook6WebAPI\">Chinook6WebAPI </a>repo.</p>\n  \n  \n  \n  <ul><li><a href=\"https://www.infoq.com/articles/design-first-api-development/\">Design-First Approach to API Development: How to Implement and Why It Works</a> – Steve Rodda and Shane Hastie. Love this article around taking our APIs to the next level beyond just CRUD. That is the reason why I don’t just pass my EF Core Entities through my API endpoints. I use what I call APIModels (other call them DTOs) to allow me to change the shape of my APIs for behaviors.</li><li><a href=\"https://www.infoq.com/presentations/rest-graphql-grpc/\">API Showdown: REST vs. GraphQL vs. gRPC – Which Should You Use?</a> – Discussion covering REST, GraphQL, and gRPC, what it takes to get started, and when each is the right/wrong tool for the job.</li><li><a href=\"https://www.buzzsprout.com/1714721/8555211\">Unlock the Secrets of Great, Lasting APIs • Mike Amundsen &amp; Casey Rosenthal</a>&nbsp; – GOTO – Today, Tomorrow and the Future Podcast. Great discussion with my friend and role model Mike Amundsen. I watch, listen or read anything from Mike!</li><li><a href=\"https://www.infoq.com/articles/what-software-architecture/\">Software Architecture: It Might Not Be What You Think It Is</a> – Pierre Pureur and Kurt Bittner. Great view of software architecture and refreshing to see a pivot to spread software architecture through all team members.</li><li><a href=\"https://medium.com/@yong.hu/why-it-projects-fail-how-can-we-do-better-c32190ca8bc5\">Why IT Projects Fail; How Can We Do Better?</a> – Yong Hu. I work with Yong and he is someone I respect a lot so his message about why software projects fail is very enlightening.</li><li><a href=\"https://philmckinney.medium.com/the-8-books-that-inspired-the-most-ideas-this-year-69488d1361e\">The 8 Books That Inspired The Most Ideas This Year</a> – Phil McKinney. I read many looks! Even ones that are not leather bound in an apartment that smells of rich mahogany. :-) Phil has a great list of books everyone needs to read to help us get better ideas and improve our creativity.</li></ul>\n  \n  \n  \n  <h2><span id=\"NET_programing_tutorials_and_tips\"></span>.NET &amp; programing tutorials and tips&nbsp;<span></span></h2>\n  \n  \n  \n  <p><strong>.NET tutorials and tips</strong></p>\n  \n  \n  \n  <ul><li><a href=\"https://alt-dev.com.au/why-you-may-be-doing-async-wrong-in-c\">Why you may be doing async wrong, in C#</a> – Ashley Rowe shows how code samples are done both synchronously and asynchronously, and with excerpts of how you can avoid common async pitfalls.</li><li><a href=\"https://weblog.west-wind.com/posts/2022/Apr/22/Async-and-Async-Void-Event-Handling-in-WPF\">Async and Async Void Event Handling in WPF</a> – Rick Strahl details what to watch for when updating .NET WPF code to an async model.</li><li><a href=\"https://blog.ndepend.com/c-async-await-explained/\">C# async await explained</a> – And a bit more on async coding with Patrick Smacchia, as he explains what you need to build async code.&nbsp;</li><li><a href=\"https://andrewlock.net/keeping-up-with-dotnet-learning-about-new-features-and-apis/\">Keeping up with .NET: learning about new features and APIs</a> – Hot off the press, Andrew Lock reviews some new .NET features that we all should know. Note that one way to keep up with new features is to read blog posts just like this one.</li><li><a href=\"https://wildermuth.com/2022/04/04/query-strings-optional-arguments-minimal-apis-aspnetcore/\">How to Access Query Strings in Minimal APIs</a> – Shawn Wildermuth does a minimal writeup on using query strings in Minimal APIs.</li><li><a href=\"https://swimburger.net/blog/dotnet/how-to-get-the-full-public-url-of-aspdotnet-core\">How to get the full public URL of ASP.NET Core</a> and <a href=\"https://swimburger.net/blog/dotnet/how-to-generate-absolute-urls-in-aspdotnet-core\">How to generate absolute URLs in ASP.NET Core</a> – Niels Swimberghe focuses on URLs this month. Check out these informative blog posts details how to get and generate them.</li><li><a href=\"https://developer.okta.com/blog/2022/04/20/dotnet-6-web-api\">Secure Your .NET 6 Web API</a> – Nickolas Fisher reviews some details on how to secure .NET 6 Web API projects.</li><li><a href=\"https://blog.maartenballiauw.be/post/2022/04/11/nullable-reference-types-in-csharp-migrating-to-nullable-reference-types-part-1.html\">Nullable reference types in C#</a> | <a href=\"https://blog.maartenballiauw.be/post/2022/04/19/internals-of-csharp-nullable-reference-types-migrating-to-nullable-reference-types-part-2.html\">Internals of C# nullable reference types </a> | <a href=\"https://blog.maartenballiauw.be/post/2022/04/25/annotating-your-csharp-code-migrating-to-nullable-reference-types-part-3.html\">Annotating your C# code – Migrating to nullable reference types</a> – Maarten Balliauw is publishing a series revealing everything you need to know about nullable reference types in C#.</li><li><a href=\"https://devblogs.microsoft.com/odata/tutorial-build-grpc-odata-in-asp-net-core/?WT.mc_id=DOP-MVP-4025064\">Tutorial: Build gRPC &amp; OData in ASP.NET Core</a> – gRPC + OData + .NET Core? Yes, please! Thanks to Sam Xiu for this nice tutorial on how to put together these technologies in one app.</li><li><a href=\"https://code-maze.com/insertion-sort-csharp/\">Insertion Sort in C#</a> and <a href=\"https://code-maze.com/csharp-json-deserialization-poco-class/\">JSON Deserialization to a POCO Class in C#</a> – Check out Code Maze. They publish several articles each month like these two, which are short and helpful. Code Maze also hosts its own set of authors who produce quality posts.</li><li><a href=\"https://khalidabuhakmeh.com/aspnet-core-interview-questions-and-answers\">ASP.NET Core Interview Questions and Answers</a> – A nice resource for those who are interviewing by Khalid Abuhakmeh, JetBrains advocate and teammate. Hmmm, wait a minute. Now we’re suspicious. Is Khalid interviewing? What do you think?</li><li><a href=\"https://www.learmoreseekmore.com/2022/04/part-1-a-crud-operation-demo-with-dotne6-web-api-sql-database-angular13.html\">A CRUD Operation Demo With .NET6 Web API | SQL Database | Angular13</a> Check out this excellent 4 Part Series by Naveen Bommidi on business dev essentials – CRUD ops with .NET and Angular as the JS frontend. Thanks Naveen!</li><li><a href=\"https://www.syncfusion.com/blogs/post/generating-qr-codes-and-other-barcodes-in-net-maui.aspx\">Generating QR Codes and Other Barcodes is Now Easy in .NET MAUI</a> – Have you ever wanted to make your own QR codes for things? For those who haven’t, they are such a convenience! They’re a great way to integrate the physical and virtual by way of a phone. Let Sheik Syed show you how.</li><li><a href=\"https://blog.couchbase.com/asp-net-core-crud-with-nosql-part-1/\">ASP.NET Core CRUD with NoSQL</a> and <a href=\"https://blog.couchbase.com/asp-net-crud-nosql-part-2/\">Part 2</a> – This two part series by Matthew Groves will have you up and running with CRUD operations but in NoSQL. CRUD isn’t for just relational databases. You must do these same operations with document and object databases too, though storage formats are different.</li><li><a href=\"https://codeblog.jonskeet.uk/2022/04/16/taking-net-maui-for-a-spin/\">Taking .NET MAUI for a Spin</a> – In this post, Jon Skeet takes MAUI for a spin as promised.</li><li><a href=\"https://markheath.net/post/azure-functions-table-storage\">Update Your Azure Functions Table Storage Bindings</a> – This is a good one for those who have Azure Functions out there running. At some point you’ll want to update them. Post by Mark Heath.</li><li><a href=\"https://nodogmablog.bryanhogan.net/2022/04/lambda-function-urls-triggering-net-6-lambda-functions-with-a-https-request/\">Lambda Function URLs – triggering .NET 6 Lambda functions with a HTTPS Request</a> – A nice “how-to” where Bryan Hogan demonstrates how to execute .NET Lambdas with an HTTP Request.</li><li><a href=\"https://visualstudiomagazine.com/articles/2022/02/10/blazor-hybrid-net-7.aspx\">What’s Coming for Blazor Hybrid in .NET 7</a> – Find out what Blazor Hybrid apps are (tldr; desktop/native apps) and what their entry into .NET means in this post by David Ramel.&nbsp;</li><li><a href=\"https://dev.to/moesmp/transaction-middleware-in-aspnet-core-2608\">Transaction middleware in ASP.NET Core</a> – One of the big selling points of ASP.NET Core is the ability to create pluggable middleware. This helps reduce coupling and create more robust codebases. So thanks to Mohsen Esmailpour for this nice light post on middleware basics.</li><li><a href=\"https://github.com/FluentValidation/FluentValidation/releases/tag/11.0\">FluentValidation version 11 Released!</a> – Jeremy Skinner has released a new version of FluentValidation.&nbsp;</li><li><a href=\"https://github.com/IzyPro/WatchDog\">WatchDog</a> – WatchDog by Ulelu Israel is a realtime HTTP exception logger. This utility is useful for those who want to not just log the data but have a nice dashboard to view metrics.</li></ul>\n  \n  \n  \n  <p>Daniel Lawson penned a nice thread on immutability in programming, with C# as the example.</p>\n  \n  \n  \n  <div data-tweet-id=\"1519248178205401090\" class=\"tweet-placeholder\"></div> \n  \n  \n  \n  <p><strong>Related programming tutorials and tips:</strong></p>\n  \n  \n  \n  <ul><li><a href=\"https://www.smashingmagazine.com/2022/04/use-storytelling-ux/\">How To Use Storytelling In UX</a> – Even if you’re a dev who does no frontend work, this is a solid but also fun way to work with frontends and designers. It’s definitely in the “good to know” category – so set aside a few minutes for it. Post by Marli Mesibov.</li><li><a href=\"https://dev.to/github/use-copilot-to-write-and-translate-a-binary-search-algorithm-lcm\">Use Copilot to Write and Translate a Binary Search Algorithm</a> – GitHub Copilot is a new software program run by AI that pair programs with you. In this post, Rizèl Scarlett demonstrates how to use this algorithm to translate a binary search algorithm.&nbsp;</li><li><a href=\"https://www.red-gate.com/simple-talk/databases/sql-server/learn/the-ins-and-outs-of-joining-tables-in-sql-server/\">The ins and outs of joining tables in SQL Server</a> – I see what you did with that blog post title, Greg Larsen. Anyway, for those who don’t do SQL a lot or are newer to it, db relationships and with that joining tables is a cornerstone of SQL development. So check this fairly in-depth tutorial out and when you’re done you can join tables like a pro.</li><li><a href=\"https://auth0.com/blog/url-uri-urn-differences/\">URL, URI, URN: What’s the Difference?</a> – Great question! This topic is one that a lot of web developers don’t bother to investigate, and may not need in their day-to-day jobs but the distinctions are useful and often important. Good thing Andrea Chiarelli has answers to this question!</li><li><a href=\"https://www.jacksondunstan.com/articles/5530\">C++ For C# Developers</a> – If you want to learn a new thing this year and don’t know C++ already, read this. Seriously. Jackson Dunstan has created what amounts to a book (it’s 53 lengthy posts long) on C++ for C# devs. This will help you get a great perspective on what’s even closer to the metal than you can get even with unsafe code in C#.</li></ul>\n  \n  \n  \n  <p>Swapna Kumar Panda teaches the difference between these two lines of JavaScript. It is code like this in JavaScript that very easily frustrates people!</p>\n  \n  \n  \n  <figure></figure>\n  \n  \n  \n  <h2><span id=\"Interesting_and_cool_stuff\"></span>Interesting and cool stuff<span></span></h2>\n  \n  \n  \n  <ul><li><a href=\"https://auth0.com/blog/bringing-social-work-skills-to-the-workplace/\">Bringing Social Work Skills to the Workplace</a> – Jessica Keaton writes up a short but to the point post on social skills and the workplace. Pass this around to certain colleagues. You know who.</li><li><a href=\"https://stackoverflow.blog/2022/04/07/you-should-be-reading-academic-computer-science-papers/\">You should be reading academic computer science papers</a> – Ryan Donovan of GitHub puts it perfectly: “You read documentation and tutorials to become a better programmer, but if you really want to be cutting-edge, academic research is where it’s at.”&nbsp;</li><li><a href=\"https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=6648592\">20 Years of Patterns’ Impact</a> – Speaking of academic style papers. This gem from the IEEE Rebecca Wirfs-Brock et al., is an old but important perspective on why patterns are as they are today.</li></ul>\n  \n  \n  \n  <h2><span id=\"And_finally_the_latest_from_JetBrains\"></span>And finally, the latest from JetBrains<span></span></h2>\n  \n  \n  \n  <p>Here’s a chance to catch up on JetBrains news that you might have missed:</p>\n  \n  \n  \n  <p><strong>Releases</strong></p>\n  \n  \n  \n  <ul><li><a href=\"https://blog.jetbrains.com/dotnet/2022/04/19/introducing-riderflow-a-free-unity-editor-plugin-for-scene-management/\">Introducing RiderFlow, a Free Unity Editor Plugin for Scene Management</a></li><li><a href=\"https://blog.jetbrains.com/dotnet/2022/04/19/resharper-2022-1/\">ReSharper 2022.1 Released</a></li><li><a href=\"https://blog.jetbrains.com/dotnet/2022/04/19/dottrace-dotmemory-dotcover-dotpeek-2022-1/\">The 2022.1 Release of dotTrace, dotMemory, dotCover, and dotPeek!</a></li></ul>\n  \n  \n  \n  <p>🛠 Check out our <a href=\"https://www.jetbrains.com/dotnet/guide/\">.NET Guide</a>! It’s a learning tool with tons of videos, tips, tricks, and info on a variety of .NET related topics. 🛠</p>\n  \n  \n  \n  <p><strong>Blog posts, webinars, etc..:</strong></p>\n  \n  \n  \n  <ul><li><a href=\"https://blog.jetbrains.com/dotnet/2022/04/28/phone-calls-with-net-and-twilio-webinar-recording/\">Phone Calls with .NET and Twilio – Webinar Recording</a></li><li><a href=\"https://blog.jetbrains.com/dotnet/2022/04/25/webinar-using-the-bff-pattern-to-secure-spa-and-blazor-applications/\">Webinar – Using the BFF pattern to secure SPA and Blazor Applications</a></li><li><a href=\"https://blog.jetbrains.com/dotnet/2022/04/29/resharper-rider-2022-1-1-bug-fixes/\">ReSharper and Rider 2022.1.1 bug fixes have landed</a></li><li><a href=\"https://blog.jetbrains.com/dotnet/2022/04/27/htmx-for-asp-net-core-developers-tutorial/\">HTMX for ASP.NET Core Developers – Tutorial</a></li><li><a href=\"https://blog.jetbrains.com/dotnet/2022/04/19/rider-2022-1/\">Rider 2022.1 Comes With Full Unreal Engine Support and Remote Development</a></li></ul>\n  \n  \n  \n  <p>Don’t miss this fantastic offer! <a href=\"https://www.codemag.com/\">CODE Magazine</a> is offering a <a href=\"https://www.codemag.com/subscribe/jetbrains?jb_newsletter&amp;amp;utm_medium=email&amp;amp;utm_campaign=free-subs\">free subscription</a> to JetBrains customers. Get your copy today!</p>\n  \n  \n  \n  <p>Sharing is caring! So share content that you find useful with other readers. Don’t keep it to yourself! Send us an <a href=\"mailto:dotnet-advocates@jetbrains.com\">email</a> with your suggestions for publication in future newsletters!</p>\n  \n  \n  \n  <p><a href=\"https://info.jetbrains.com/Dotnet-Annotated-Subscription.html\">Subscribe to .NET Annotated!</a></p>\n                      \n                                                                          </div>\n                      <div>\n                  <p>\n                      </p><h2>Discover more</h2>\n                  <p></p>\n                  \n              </div>\n                  </div></div>",
    "labels": "dotnet"
  },
  {
    "description": "By dotNET",
    "title": "ASP.NET Community Standup - YARP 1.1 Release",
    "content": "<div class=\"page\" id=\"readability-page-1\">\n        <center>\n        <iframe allowfullscreen=\"\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" frameborder=\"0\" title=\"ASP.NET Community Standup - YARP 1.1 Release\" src=\"https://www.youtube.com/embed/2AERbOJwXG4\" height=\"350\" width=\"619.4690265486726\"></iframe>\n        </center>\n        <br>\n          <a href=\"https://www.youtube.com/watch?v=2AERbOJwXG4\">ASP.NET Community Standup - YARP 1.1 Release</a>\n          <div><p>By <a href=\"https://www.youtube.com/c/dotNET\">dotNET</a></p></div>\n        \n      </div>",
    "labels": "dotnet"
  },
  {
    "description": "Everybody loves Alpine images because they are light and have a smaller attack surface, but maybe they are not the best option anymore.",
    "title": "Stop using Alpine Docker images",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div><div><p data-selectable-paragraph=\"\" id=\"08b1\">Everybody loves Alpine images because they are light and have a smaller attack surface, but <em>maybe</em> they are not the best option anymore. It's time to talk again about distroless images.</p></div><div><figure><div tabindex=\"0\" role=\"button\"><p><img role=\"presentation\" height=\"177\" width=\"700\" src=\"https://proxy-prod.omnivore-image-cache.app/700x177,sUFERoXUqL0NwR8iHsBM2egr-WIo3rN8yzHgvveorKjI/https://miro.medium.com/max/1400/1*m3N8_10LjzpLIknBC16O9Q.png\" alt=\"\"></p></div></figure><p data-selectable-paragraph=\"\" id=\"099d\">At <a rel=\"noopener ugc nofollow\" href=\"https://sumup.com.br/\">SumUp</a>, we use Kubernetes with Docker images a lot, so we are always looking for the best options when it comes to base images. Distroless images are not something new, but for some reason, I don't feel they've been adopted as much as they should.</p><h2 data-selectable-paragraph=\"\" id=\"37c5\">What is a distroless image?</h2><p data-selectable-paragraph=\"\" id=\"662f\"><em>D'abord, </em>I have to say <strong>this isn't something new</strong>, and I mean it. It has been around for years, and you can check it in <a rel=\"noopener ugc nofollow\" href=\"https://github.com/GoogleContainerTools/distroless\">GoogleContainerTools/distroless</a>.</p><blockquote><p data-selectable-paragraph=\"\" id=\"d395\">“Distroless” images contain only your application and its runtime dependencies. They do not contain package managers, shells or any other programs you would expect to find in a standard Linux distribution.</p></blockquote><p data-selectable-paragraph=\"\" id=\"cde6\">This is enough to understand that your container won't have anything but what you are using.</p><h2 data-selectable-paragraph=\"\" id=\"495f\">Why should I use them?</h2><p data-selectable-paragraph=\"\" id=\"c916\">Nowadays everybody has a CI and CD pipeline, but sometimes it takes ages to build, push and pull images. Distroless images are lighter, which means faster pulling and pushing.</p><p data-selectable-paragraph=\"\" id=\"849f\">Distroless images won't necessarily make your build step faster, but they are going to improve pulling and pushing time. Docker provides a <a rel=\"noopener ugc nofollow\" href=\"https://hub.docker.com/_/scratch\">super minimal image</a> that won't create extra layers when you use it as your image's base. Fewer layers are equal to faster downloads and uploads.</p><p data-selectable-paragraph=\"\" id=\"630e\">Faster pipelines mean faster feedback to developers and fewer CI minutes spent, which is important when you are using a tool like <a rel=\"noopener ugc nofollow\" href=\"https://github.com/features/actions\">actions</a>.</p><p data-selectable-paragraph=\"\" id=\"672a\">Security is also an important matter because you should try to decrease as much as you can your attack surface. You shouldn't have tools like sudo or ping in your container if you are not going to use them.</p><blockquote><p data-selectable-paragraph=\"\" id=\"2850\">If your code is vulnerable, you are less susceptible to an RCE that leads to a shell, but the RCE is still happening.</p><p data-selectable-paragraph=\"\" id=\"03f3\">- Erick Durán</p></blockquote><p data-selectable-paragraph=\"\" id=\"961d\">Tools that help a malicious actor to gather more pieces of information or perform privilege escalations should always be avoided. You should take a look at <a rel=\"noopener ugc nofollow\" href=\"https://github.com/erickduran/docker-distroless-poc\">erickduran/docker-distroless-poc</a> README.</p><h2 data-selectable-paragraph=\"\" id=\"7849\">When you shouldn't use distroless images</h2><p data-selectable-paragraph=\"\" id=\"639e\">Quite easy to say when to use distroless images, but when you shouldn't use them?</p><p data-selectable-paragraph=\"\" id=\"4887\">If you want to debug your application inside the container you could profit from a shell and some other installed tools, but distroless doesn't have any of that. The obvious answer is to use normal images for development and keep distroless to production.</p><p data-selectable-paragraph=\"\" id=\"205e\">Using different images in the development moves the developers away from the real production environment, which is not ideal, but creating testing steps in your CI pipeline that uses the same environment as in production should cover this issue. Be careful with this trade-off.</p><h2 data-selectable-paragraph=\"\" id=\"5994\">What about an example?</h2><p data-selectable-paragraph=\"\" id=\"370a\">The repository <a rel=\"noopener ugc nofollow\" href=\"https://github.com/GoogleContainerTools/distroless#examples-with-docker\">GoogleContainerTools/distroless</a> has an example of how to make a distroless image for a Golang tool.</p><figure><div tabindex=\"0\" role=\"button\"><p><img role=\"presentation\" height=\"538\" width=\"700\" src=\"https://proxy-prod.omnivore-image-cache.app/700x538,sTsgAqB-RyqnBDng1xedbgPg8K48NPWKmAIjT6MI2U70/https://miro.medium.com/max/1400/1*m-PijN_g4CLuRU4fVOryxA.png\" alt=\"\"></p></div></figure><p data-selectable-paragraph=\"\" id=\"6c96\">This is a simple and easy example, mainly because Golang resulting binaries don't have runtime dependencies by default.</p><p data-selectable-paragraph=\"\" id=\"4d49\">Instead, let's suppose we need to create a distroless image to use ping binary because we will be using it in one of our services to check if a host is up. This means we need to find all runtime dependencies and <a rel=\"noopener ugc nofollow\" href=\"https://unrealcontainers.com/blog/identifying-application-runtime-dependencies/\">this is not an easy task</a>, but I'll keep it as simple as possible.</p><figure><div tabindex=\"0\" role=\"button\"><p><img role=\"presentation\" height=\"210\" width=\"700\" src=\"https://proxy-prod.omnivore-image-cache.app/700x210,sEMtEuLFaaDlKuIw-K4ijO05TbhvV244-YFk68cOndSo/https://miro.medium.com/max/1400/1*nQKTWM2BtyqDN69jNEKNqQ.png\" alt=\"\"></p></div></figure><p data-selectable-paragraph=\"\" id=\"060d\">I ran the ldd command in Ubuntu and it shows us its dependencies, so I developed the following Dockerfile. Also, note that not every runtime dependency was in the ldd command output and I had to use other methods to discover them.</p><figure><div tabindex=\"0\" role=\"button\"><p><img role=\"presentation\" height=\"482\" width=\"700\" src=\"https://proxy-prod.omnivore-image-cache.app/700x482,sE6IqeJjxjUibUc8sZq9MwmgzxjjJzZQGV2FPIv4eygw/https://miro.medium.com/max/1400/1*INBLKIlvTq0mKthMkMXZ1g.png\" alt=\"\"></p></div></figure><p data-selectable-paragraph=\"\" id=\"8859\">Yet, this is not the smartest solution. The Dockerfile above creates an image with 5.44MB and we could improve it by using Alpine instead of Ubuntu. If you run the same ldd command but inside an Alpine environment you also have fewer and lighter dependencies.</p><figure><div tabindex=\"0\" role=\"button\"><p><img role=\"presentation\" height=\"282\" width=\"700\" src=\"https://proxy-prod.omnivore-image-cache.app/700x282,sEllYEt8klM2-703P-HcMuc_EACDu49cTrblQI70X8O0/https://miro.medium.com/max/1400/1*M79-rfw3pSIcU9ltdRIYGw.png\" alt=\"\"></p></div></figure><p data-selectable-paragraph=\"\" id=\"9a6c\">It works well and <strong>uses only 1.43MB</strong>, which is around <strong>74% less space</strong> than the Alpine image and the image we have built using Ubuntu in the first stage.</p><h2 data-selectable-paragraph=\"\" id=\"5d69\">Conclusion</h2><p data-selectable-paragraph=\"\" id=\"bef9\">The title says you should stop using Alpine, but I think I showed you that this is just a matter of doing the right choice for the right occasion. Also, combining Alpine and <a rel=\"noopener ugc nofollow\" href=\"https://hub.docker.com/_/scratch\">scratch</a> creates amazing distroless images.</p><p data-selectable-paragraph=\"\" id=\"d111\">The problem is that building distroless images for your applications is still quite manual and not as fun as you wish. Since it requires greater efforts from developers it's usually left behind in favour of the famous Alpine images.</p><p data-selectable-paragraph=\"\" id=\"4e84\">I think the idea is to use distroless images in production environments and while performing manual and automated tests. You don't want to make it more stressful for developers to debug applications.</p><p data-selectable-paragraph=\"\" id=\"e959\">I hope the community gives the deserved attention distroless images should have and this causes more improvements, like automating their creation as much as we can.</p></div></div></div>",
    "labels": "docker"
  },
  {
    "description": "The new releases of Dockerfile 1.4 and Buildx v0.8+ come with the ability to define multiple build contexts. This means you can use files from different local directories as part of your build. Let's look at why it’s useful and how you can leverage it in your build pipelines. When you invoke the docker build…",
    "title": "Dockerfiles now Support Multiple Build Contexts",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n                  <div>\n                  \n                  \n                  \n                  \n                  <p>The new releases of <a rel=\"noopener\" href=\"https://hub.docker.com/r/docker/dockerfile\"><strong>Dockerfile 1.4</strong></a> and <a rel=\"noopener\" href=\"https://github.com/docker/buildx/releases\"><strong>Buildx v0.8+</strong></a> come with the ability to define multiple build contexts. This means you can use files from different local directories as part of your build. Let’s look at why it’s useful and how you can leverage it in your build pipelines.</p>\n  <p>When you invoke the <code class=\"hljs language-ebnf language-n1ql\"><span class=\"hljs-attribute\">docker build</span></code> command, it takes one positional argument which is a path or URL to the build context. Most commonly, you’ll see <code class=\"hljs language-armasm language-erlang\"><span class=\"hljs-symbol\">docker</span> <span class=\"hljs-keyword\">build </span>.</code> making the current working directory the build context.</p>\n  <p>Inside a <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code> you can use <code class=\"hljs language-dockerfile language-dos\"><span class=\"hljs-keyword\">COPY</span></code> and <code class=\"hljs language-dockerfile language-avrasm\"><span class=\"hljs-keyword\">ADD</span></code> commands to copy files from your build context and make them available to your build steps. In BuildKit, we also added build mounts with <code class=\"hljs language-dockerfile language-routeros\"><span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> --mount</span></code> that allow accessing build context files directly — without copying them — for extra performance.</p>\n  <h2>Conquering Complex Builds</h2>\n  <p>But, as builds got more complicated, the ability to only access files from one location became quite limiting. That’s why we added multi-stage builds where you can copy files from other parts of the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code> by adding the <code class=\"hljs language-ada language-angelscript\"><span class=\"hljs-comment\">--from</span></code> flag and pointing it to the name of another <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code> stage or a remote image.</p>\n  <p>The new named build context feature is an extension of this pattern. You can now define additional build contexts when running the build command, give them a name, and then access them inside a <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code> the same way you previously did with build stages.</p>\n  <p><span>Additional build contexts can be defined with a new <code class=\"hljs language-fortran language-inform7\">--build-context [<span class=\"hljs-keyword\">name</span>]=[<span class=\"hljs-keyword\">value</span>]</code> flag. The key component defines the name for your build context and the value can be:</span></p>\n  <ul>\n  <li aria-level=\"1\"><span>Local directory – e.g. <code class=\"hljs language-n1ql language-awk\">--<span class=\"hljs-keyword\">build</span>-context project2=../<span class=\"hljs-keyword\">path</span>/<span class=\"hljs-keyword\">to</span>/project2/src</code></span></li>\n  <li aria-level=\"1\"><span>Git repository – e.g. <code class=\"hljs language-awk language-groovy\">--build-context qemu-src=https:<span class=\"hljs-regexp\">//gi</span>thub.com<span class=\"hljs-regexp\">/qemu/</span>qemu.git</code></span></li>\n  <li aria-level=\"1\"><span>HTTP URL to a tarball – e.g. <code class=\"hljs language-awk language-groovy\">--build-context src=https:<span class=\"hljs-regexp\">//</span>example.org<span class=\"hljs-regexp\">/releases/</span>src.tar</code></span></li>\n  <li aria-level=\"1\"><span>Docker image – Define with a <code class=\"hljs language-arduino language-groovy\">docker-<span class=\"hljs-built_in\">image</span>:<span class=\"hljs-comment\">//</span></code> prefix, e.g. <code class=\"hljs language-arduino language-groovy\">--build-context alpine=docker-<span class=\"hljs-built_in\">image</span>:<span class=\"hljs-comment\">//alpine:3.15</span></code></span></li>\n  </ul>\n  \n  <p><span>On the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code> side, you can reference the build context on all commands that accept the “from” parameter. Here’s how that might look:</span></p>\n  <div id=\"highlighter_85755\"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p></td><td><div><p><code class=\"hljs language-dockerfile language-ebnf\"><span class=\"hljs-keyword\">FROM</span> </code><code class=\"hljs language-undefined\">[</code><code class=\"hljs language-applescript language-delphi\"><span class=\"hljs-built_in\">name</span></code><code class=\"hljs language-undefined\">]</code></p><p><code class=\"hljs language-dockerfile language-gradle\"><span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> --from=</span></code><code class=\"hljs language-undefined\">[</code><code class=\"hljs language-applescript language-delphi\"><span class=\"hljs-built_in\">name</span></code><code class=\"hljs language-undefined\">]</code> <code class=\"hljs language-erlang language-jboss-cli\">...</code></p><p><code class=\"hljs language-routeros language-dockerfile\"><span class=\"hljs-builtin-name\">RUN</span> <span class=\"hljs-attribute\">--mount</span>=from=</code><code class=\"hljs language-undefined\">[</code><code class=\"hljs language-applescript language-delphi\"><span class=\"hljs-built_in\">name</span></code><code class=\"hljs language-undefined\">]</code> <code class=\"hljs language-undefined\">…</code></p></div></td></tr></tbody></table></div>\n  \n  <p><span>The value of <code class=\"hljs language-json language-scheme\">[name]</code> is matched with the following priority order:</span></p>\n  <ul>\n  <li aria-level=\"1\"><span>Named build context defined with <code class=\"hljs language-jboss-cli language-prolog\"><span class=\"hljs-params\">--build-context</span> [name]=<span class=\"hljs-string\">..</span></code></span></li>\n  <li aria-level=\"1\"><span>Stage defined with <code class=\"hljs language-delphi language-pgsql\"><span class=\"hljs-keyword\">AS</span> [<span class=\"hljs-keyword\">name</span>]</code> inside <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code></span></li>\n  <li aria-level=\"1\"><span>Remote image <code class=\"hljs language-json language-scheme\">[name]</code> in a container registry</span></li>\n  </ul>\n  \n  <p><span>If no <code class=\"hljs language-ada language-angelscript\"><span class=\"hljs-comment\">--from</span></code> flag is set, files are loaded from the main build context.</span></p>\n  <h2>Example #1: Pinning an Image</h2>\n  <p><span>Let’s start with an example of how you can use build contexts to pin an image used by a <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code> to a specific version.</span></p>\n  <p><span>This is useful in many different cases. For example, you can use the </span><a rel=\"noopener\" href=\"https://www.docker.com/blog/capturing-build-information-buildkit/\"><span>new BuildInfo feature</span></a><span> to capture all the build sources and run a build with the same dependencies as a previous build did, even if the image tags have been updated.</span></p>\n  <p><span><code class=\"hljs language-dsconfig language-gradle\"><span class=\"hljs-string\">docker </span><span class=\"hljs-string\">buildx </span><span class=\"hljs-string\">imagetools </span><span class=\"hljs-string\">inspect </span><span class=\"hljs-built_in\">--format</span> <span class=\"hljs-string\">'{{json .BuildInfo}}'</span> <span class=\"hljs-string\">moby/</span><span class=\"hljs-string\">buildkit</span></code></span></p>\n  <div id=\"highlighter_964643\"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p></td><td><div><p><code class=\"hljs language-1c language-abnf\"><span class=\"hljs-string\">\"sources\"</span></code><code class=\"hljs language-undefined\">: [</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"hljs language-undefined\">{</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"hljs language-1c language-abnf\"><span class=\"hljs-string\">\"type\"</span></code><code class=\"hljs language-undefined\">: </code><code class=\"hljs language-1c language-abnf\"><span class=\"hljs-string\">\"docker-image\"</span></code><code class=\"hljs language-undefined\">,</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"hljs language-1c language-abnf\"><span class=\"hljs-string\">\"ref\"</span></code><code class=\"hljs language-undefined\">: </code><code class=\"hljs language-1c language-abnf\"><span class=\"hljs-string\">\"docker.io/library/alpine:3.15\"</span></code><code class=\"hljs language-undefined\">,</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"hljs language-1c language-abnf\"><span class=\"hljs-string\">\"pin\"</span></code><code class=\"hljs language-undefined\">: </code><code class=\"hljs language-1c language-abnf\"><span class=\"hljs-string\">\"sha256:21a3deaa0d32a8057914f36584b5288d2e5ecc984380bc0118285c70fa8c9300\"</span></code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"hljs language-undefined\">},</code></p></div></td></tr></tbody></table></div>\n  \n  <p><code class=\"hljs language-armasm language-groovy\"><span class=\"hljs-symbol\">docker</span> <span class=\"hljs-keyword\">buildx </span><span class=\"hljs-keyword\">build </span>--<span class=\"hljs-keyword\">build-context </span>alpine:<span class=\"hljs-number\">3</span>.<span class=\"hljs-number\">15</span><span class=\"hljs-symbol\">=docker</span>-image://alpine:<span class=\"hljs-number\">3</span>.<span class=\"hljs-number\">15</span><span class=\"hljs-comment\">@sha256:21a3deaa0d32a8057914f36584b5288d2e5ecc984380bc0118285c70fa8c9300 .</span>\n  </code></p>\n  <p><span><br>\n  When your <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code> uses <code class=\"hljs language-angelscript language-avrasm\">alpine:<span class=\"hljs-number\">3.15</span></code>, even if it’s been updated with a newer version in the registry, your new build will still use the same exact image your previous build did.</span></p>\n  <p><span>As another example, you may just want to try a different image or different version for debugging or developing your image. A common pattern could be that you haven’t released your image yet, and it’s only in the test registry or staging environment. Let’s say you built your app and pushed it to a staging repository, but now want to use it in your other builds that would usually use the release image.</span></p>\n  \n  <p><span><code class=\"hljs language-armasm language-arduino\"><span class=\"hljs-symbol\">docker</span> <span class=\"hljs-keyword\">buildx </span><span class=\"hljs-keyword\">build </span>--<span class=\"hljs-keyword\">build-context </span>myorg/myapp<span class=\"hljs-symbol\">=docker</span>-image://staging.myorg.com/registry/myapp .</code></span></p>\n  <p><span><br>\n  You can also think about the previous examples as a way to create an alias for an image.</span></p>\n  <h2>Example #2: Multiple Projects</h2>\n  <p><span>Probably the most requested use case for named contexts capability is the possibility to use multiple local source directories.</span></p>\n  <p><span>If your project contains multiple components that need to be built together, it’s sometimes tricky to load them with a single build context where everything needs to be contained in one directory. There’s a variety of issues: every component needs to be accessed by their full path, you can only have one <code class=\"hljs language-asciidoc language-css\"><span class=\"hljs-title\">.dockerignore</span></code> file, or maybe you’d like each component to have its own <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code>.</span></p>\n  <p><span>If your project has the following layout:</span></p>\n  <pre>project\n  ├── app1\n  │   ├── .dockerignore\n  │   ├── src\n  ├── app2\n  │   ├── .dockerignore\n  │   ├── src\n  ├── Dockerfile\n  </pre>\n  <p>…with this Dockerfile:</p>\n  <div id=\"highlighter_797064\"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p></td><td><div><p><code class=\"hljs language-oxygene language-pgsql\"><span class=\"hljs-keyword\">FROM</span> … <span class=\"hljs-keyword\">AS</span> build1</code></p><p><code class=\"hljs language-dockerfile language-gradle\"><span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> –from=app1 . /src</span></code></p><p><code class=\"hljs language-oxygene language-pgsql\"><span class=\"hljs-keyword\">FROM</span> … <span class=\"hljs-keyword\">AS</span> build2</code></p><p><code class=\"hljs language-dockerfile language-gradle\"><span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> –from=app2 . /src</span></code></p><p><code class=\"hljs language-dockerfile language-gradle\"><span class=\"hljs-keyword\">FROM</span> …</code></p><p><code class=\"hljs language-gradle language-oxygene\"><span class=\"hljs-keyword\">COPY</span> –<span class=\"hljs-keyword\">from</span>=build1 <span class=\"hljs-regexp\">/out/</span>app1 <span class=\"hljs-regexp\">/bin/</span></code></p><p><code class=\"hljs language-gradle language-oxygene\"><span class=\"hljs-keyword\">COPY</span> –<span class=\"hljs-keyword\">from</span>=build2 <span class=\"hljs-regexp\">/out/</span>app2 <span class=\"hljs-regexp\">/bin/</span></code></p></div></td></tr></tbody></table></div>\n  <p>…you can invoke your build with <code class=\"hljs language-armasm language-routeros\"><span class=\"hljs-symbol\">docker</span> <span class=\"hljs-keyword\">buildx </span><span class=\"hljs-keyword\">build </span>–<span class=\"hljs-keyword\">build-context </span>app1<span class=\"hljs-symbol\">=app1</span>/src –<span class=\"hljs-keyword\">build-context </span>app2<span class=\"hljs-symbol\">=app2</span>/src .</code>. Both of the source directories are exposed separately to the Dockerfile and can be accessed by their respective names.</p>\n  <p>This also allows you to access files that are outside of your main project’s source code. Normally when you’re inside the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code>, you’re not allowed to access files outside of your build context by using the <code class=\"hljs language-jboss-cli language-routeros\"><span class=\"hljs-string\">../</span></code> parent selector for security reasons. But as all build contexts are passed directly from the client, you’re now able to use <code class=\"hljs language-n1ql language-awk\">--<span class=\"hljs-keyword\">build</span>-context othersource=../../<span class=\"hljs-keyword\">path</span>/<span class=\"hljs-keyword\">to</span>/other/project</code> to avoid this limitation.</p>\n  <h2><span>Example #3: Override a Remote Dependency with a Local One</span></h2>\n  <p><span>When exposing multiple source contexts to the builds there may be cases where your project always depends on multiple local directories, like in the previous example. Other times, however, you may want your dependencies to be loaded from a remote source by default, while still leaving you the option to replace it with a local source when you want to do some extra debugging.</span></p>\n  <p><span>As an example, let’s look at a common pattern where your app depends on another project that you build from source code using multi-stage builds.</span></p>\n  <p><span>Something like:</span></p>\n  <div id=\"highlighter_148139\"><p><code class=\"hljs language-delphi language-oxygene\">FROM golang <span class=\"hljs-keyword\">AS</span> <span class=\"hljs-keyword\">helper</span></code></p><p><code class=\"hljs language-routeros language-dockerfile\"><span class=\"hljs-builtin-name\">RUN</span> apk <span class=\"hljs-builtin-name\">add</span> git</code></p><p><code class=\"hljs language-dockerfile language-jboss-cli\"><span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /src</span></code></p><p><code class=\"hljs language-routeros language-angelscript\">ARG <span class=\"hljs-attribute\">HELPERAPP_VERSION</span>=1.0</code></p><p><code class=\"hljs language-crmsh language-dockerfile\">RUN git <span class=\"hljs-keyword\">clone</span> <span class=\"hljs-title\">https</span></code><code class=\"hljs language-undefined\">:</code><code class=\"hljs language-awk language-bash\"><span class=\"hljs-regexp\">//gi</span>thub.com<span class=\"hljs-regexp\">/someorg/</span>helperapp.git &amp;&amp; cd helperapp &amp;&amp; git checkout <span class=\"hljs-variable\">$HELPERAPP_VERSION</span></code></p><p><code class=\"hljs language-dockerfile language-awk\"><span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /src/helperapp</span></code></p><p><code class=\"hljs language-dockerfile language-routeros\"><span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> go build -o /out/helperapp .</span></code></p><p><code class=\"hljs language-dockerfile language-ebnf\"><span class=\"hljs-keyword\">FROM</span> alpine</code></p><p><code class=\"hljs language-gradle language-oxygene\"><span class=\"hljs-keyword\">COPY</span> –link –<span class=\"hljs-keyword\">from</span>=helper <span class=\"hljs-regexp\">/out/</span>helperapp <span class=\"hljs-regexp\">/bin</span></code></p><p><code class=\"hljs language-gradle language-oxygene\"><span class=\"hljs-keyword\">COPY</span> –link –<span class=\"hljs-keyword\">from</span>=build <span class=\"hljs-regexp\">/out/my</span>app <span class=\"hljs-regexp\">/bin</span></code></p></div>\n  \n  <p>This works quite well. When you do a build, <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">helperapp</span></code> is built directly from its source repository and copied next to your app binary. Whenever you need to use a different version you can use the <code class=\"hljs language-undefined\">HELPERAPP_VERSION</code> build argument to specify a different value.</p>\n  <p>But let’s say you’re developing your application and have found a bug. You’re not quite sure if the bug is in your application code or in the helper app. You’d want to make some local changes to the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">helperapp</span></code> code to analyze what’s going on. The problem is that with your current code you’d need to push your changes to Github first so they can then be pulled down by the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code>. Doing this for every code change would be very painful.</p>\n  <p>Instead, consider if we change the previous code to:</p>\n  <div id=\"highlighter_245385\"><p><code class=\"hljs language-delphi language-oxygene\">FROM alpine <span class=\"hljs-keyword\">AS</span> <span class=\"hljs-keyword\">helper</span>-clone</code></p><p><code class=\"hljs language-routeros language-dockerfile\"><span class=\"hljs-builtin-name\">RUN</span> apk <span class=\"hljs-builtin-name\">add</span> git</code></p><p><code class=\"hljs language-dockerfile language-jboss-cli\"><span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /src</span></code></p><p><code class=\"hljs language-routeros language-angelscript\">ARG <span class=\"hljs-attribute\">HELPERAPP_VERSION</span>=1.0</code></p><p><code class=\"hljs language-crmsh language-dockerfile\">RUN git <span class=\"hljs-keyword\">clone</span> <span class=\"hljs-title\">https</span></code><code class=\"hljs language-undefined\">:</code><code class=\"hljs language-awk language-bash\"><span class=\"hljs-regexp\">//gi</span>thub.com<span class=\"hljs-regexp\">/someorg/</span>helperapp.git &amp;&amp; cd helperapp &amp;&amp; git checkout <span class=\"hljs-variable\">$HELPERAPP_VERSION</span></code></p><p><code class=\"hljs language-delphi language-oxygene\">FROM scratch <span class=\"hljs-keyword\">AS</span> <span class=\"hljs-keyword\">helper</span>-src</code></p><p><code class=\"hljs language-crmsh language-gradle\">COPY –<span class=\"hljs-attr\">from=</span>helper-<span class=\"hljs-keyword\">clone</span> <span class=\"hljs-title\">/src</span>/helperapp /</code></p><p><code class=\"hljs language-dockerfile language-ebnf\"><span class=\"hljs-keyword\">FROM</span> golang</code><code class=\"hljs language-undefined\">:</code><code class=\"hljs language-delphi language-cos\">alpine <span class=\"hljs-keyword\">AS</span> <span class=\"hljs-keyword\">helper</span></code></p><p><code class=\"hljs language-dockerfile language-ebnf\"><span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> helperapp</span></code></p><p><code class=\"hljs language-routeros language-dockerfile\"><span class=\"hljs-builtin-name\">RUN</span> –<span class=\"hljs-attribute\">mount</span>=target=.</code><code class=\"hljs language-undefined\">,</code><code class=\"hljs language-angelscript language-cs\"><span class=\"hljs-keyword\">from</span>=helper-src go build -o /<span class=\"hljs-keyword\">out</span>/helperapp .</code></p><p><code class=\"hljs language-dockerfile language-ebnf\"><span class=\"hljs-keyword\">FROM</span> alpine</code></p><p><code class=\"hljs language-gradle language-oxygene\"><span class=\"hljs-keyword\">COPY</span> –link –<span class=\"hljs-keyword\">from</span>=helper <span class=\"hljs-regexp\">/out/</span>helperapp <span class=\"hljs-regexp\">/bin</span></code></p><p><code class=\"hljs language-gradle language-oxygene\"><span class=\"hljs-keyword\">COPY</span> –link –<span class=\"hljs-keyword\">from</span>=build <span class=\"hljs-regexp\">/out/my</span>app <span class=\"hljs-regexp\">/bin</span></code></p></div>\n  \n  <p>By default, this <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code> behaves exactly like the previous one, making a clone from GitHub to get the source code. But now, because we have added a separate stage <code class=\"hljs language-delphi language-ebnf\"><span class=\"hljs-keyword\">helper</span>-src</code> that contains the source code for <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">helperapp</span></code>, we can use the new named contexts feature to override it with our local source directory when needed.</p>\n  <p><span><code class=\"hljs language-delphi language-n1ql\">docker buildx build –build-context <span class=\"hljs-keyword\">helper</span>-src=../path/<span class=\"hljs-keyword\">to</span>/my/<span class=\"hljs-keyword\">local</span>/<span class=\"hljs-keyword\">helper</span>/checkout .</code></span></p>\n  <p><picture>\n  <source sizes=\"(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) and (max-width: 1280px) 1280px, (min-width: 1281px) 1304px, 100vw\" data-lazy-sizes=\"(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) and (max-width: 1280px) 1280px, (min-width: 1281px) 1304px, 100vw\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1304x0,stIqDGUpOK2rk24fGufeh76pHq5ab_YnN8JPrWn92_r8/https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd.png.webp 1304w,https://proxy-prod.omnivore-image-cache.app/1280x0,sBMk-H9voLAoQ0uhfgYx2rpeK6R2E72qm1FXf8mjRBjU/https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-1280x1042.png.webp 1280w,https://proxy-prod.omnivore-image-cache.app/980x0,sOwrZKQwfBe68JJ7r4udaGPMqrT81IqVlae2C-wROAbk/https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-980x798.png.webp 980w,https://proxy-prod.omnivore-image-cache.app/480x0,sMfCzgyk3on8fHO4APkSzjFi83cUkcS9bjYtUaw2VQ3c/https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-480x391.png.webp 480w,\" data-lazy-srcset=\"https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd.png.webp 1304w, https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-1280x1042.png.webp 1280w, https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-980x798.png.webp 980w, https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-480x391.png.webp 480w\" type=\"image/webp\">\n  <img srcset=\"https://proxy-prod.omnivore-image-cache.app/1304x0,sBF9szEEeEud_SSa6VAeY7YDOuMu29mrlAU5ulj2MlOI/https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd.png 1304w,https://proxy-prod.omnivore-image-cache.app/1280x0,sJ7KOrkBJq5PqPoGOT5sZj6YrK7LtfEaAQU3WmpjeNJI/https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-1280x1042.png 1280w,https://proxy-prod.omnivore-image-cache.app/980x0,srgXLJlSQ7vQ7xSlpKTX_4R8zwbMFYPoieVNXMceLPb8/https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-980x798.png 980w,https://proxy-prod.omnivore-image-cache.app/480x0,sCD2OYFmE1iFrJ_jJv_LnXM_XiWRMnSP8R8CoHXeOoxk/https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-480x391.png 480w,\" sizes=\"(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) and (max-width: 1280px) 1280px, (min-width: 1281px) 1304px, 100vw\" data-ll-status=\"loaded\" data-lazy-src=\"https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd.png\" data-lazy-sizes=\"(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) and (max-width: 1280px) 1280px, (min-width: 1281px) 1304px, 100vw\" data-lazy-srcset=\"https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd.png 1304w, https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-1280x1042.png 1280w, https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-980x798.png 980w, https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd-480x391.png 480w\" height=\"1062\" width=\"1304\" alt=\"\" src=\"https://proxy-prod.omnivore-image-cache.app/1304x1062,sRFx0wXELDrxUYZD-gXS1rm_O0ls5SolD5qbib8P5sEA/https://www.docker.com/wp-content/uploads/2022/05/164336539-676b3ad0-959c-4668-9e8f-07ce211991cd.png\">\n  </picture>\n  </p>\n  <p>Now you can test all your local patches without a separate Dockerfile or without needing to move all your source code under the same directory.</p>\n  <h2><span>Named Contexts in buildx bake</span></h2>\n  <p><span>In addition to the `build` command, `docker buildx` also has a command called `bake`. Bake is a higher-level build command that allows you to define your build configurations in files instead of typing in a long list of flags for your build commands every time.</span></p>\n  <p><span>Additionally, it allows running many builds together, defining variables, and sharing definitions between your separate build configurations, etc. It accepts build configurations in JSON, HCL and Docker Compose YAML files. You can read more about it in the </span><a rel=\"noopener\" href=\"https://github.com/docker/buildx/blob/master/docs/reference/buildx_bake.md\"><span>Buildx documentation</span></a><span>.</span></p>\n  <p><span>We’ve also added named contexts support into <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">bake</span></code>. This is useful because if you write a <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code> that depends on multiple build contexts, you might forget that you need to pass these values with <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--build-context</span></code> flag every time you invoke the build command.</span></p>\n  <p><span>With bake, you can define your target definition. For example:</span></p>\n  <div id=\"highlighter_311679\"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></td><td><div><p><code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">hcl</span></code></p><p><code class=\"hljs language-armasm language-aspectj\"><span class=\"hljs-symbol\">target</span> “<span class=\"hljs-keyword\">binary” </span></code><code class=\"hljs language-undefined\">{</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;</code><code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">contexts</span> = </code><code class=\"hljs language-undefined\">{</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">app1</span> = “app1/src”</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">app2</span> = “app2/src”</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;</code><code class=\"hljs language-undefined\">}</code></p><p><code class=\"hljs language-undefined\">}</code></p></div></td></tr></tbody></table></div>\n  \n  <p>Now instead of remembering to use the <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--build-context</span></code> flag with the correct paths every time, you can just call <code class=\"hljs language-armasm language-mipsasm\"><span class=\"hljs-symbol\">docker</span> <span class=\"hljs-keyword\">buildx </span><span class=\"hljs-keyword\">bake </span><span class=\"hljs-keyword\">binary</span></code> and your build will run with the correct configuration. Of course, you can also use Bake variables, etc. in these fields for more complex cases.</p>\n  <p>You may also use this pattern to create special bake targets for the purpose of debugging or testing images in staging repositories.</p>\n  <div id=\"highlighter_56741\"><p><code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">hcl</span></code></p><p><code class=\"hljs language-aspectj language-cmake\"><span class=\"hljs-keyword\">target</span> “myapp” </code><code class=\"hljs language-undefined\">{</code></p><p><code class=\"hljs language-undefined\">&nbsp;</code><code class=\"hljs language-undefined\">…</code></p><p><code class=\"hljs language-undefined\">}</code></p><p><code class=\"hljs language-aspectj language-cmake\"><span class=\"hljs-keyword\">target</span> “myapp-stage” </code><code class=\"hljs language-undefined\">{</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;</code><code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">inherits</span> = </code><code class=\"hljs language-undefined\">[</code><code class=\"hljs language-undefined\">“myapp”</code><code class=\"hljs language-undefined\">]</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;</code><code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">contexts</span> = </code><code class=\"hljs language-undefined\">{</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">helperapp</span> = “docker-image</code><code class=\"hljs language-undefined\">:</code><code class=\"hljs language-awk language-1c\"><span class=\"hljs-regexp\">//</span>staging.myorg.com<span class=\"hljs-regexp\">/registry/my</span>app”</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;</code><code class=\"hljs language-undefined\">}</code></p><p><code class=\"hljs language-undefined\">}</code></p></div>\n  <p>With a Bake file like this, you can now call <code class=\"hljs language-armasm language-mipsasm\"><span class=\"hljs-symbol\">docker</span> <span class=\"hljs-keyword\">buildx </span><span class=\"hljs-keyword\">bake </span>myapp-stage</code> to build your app with the exact configuration defined for your <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">myapp</span></code> target, except when your build is using <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">helperapp</span></code> image it will now be loaded from the staging repository instead of the release one that’s written into the <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code>.</p>\n  <h2><span>Create Build Pipelines by Linking bake Targets</span></h2>\n  <p><span>In addition to image, Git, URL, and local directories, Bake files also support another definition that you can use as a named context. You can set the source for the named context to point to another build target inside the Bake file. This way, you can chain together builds from multiple Dockerfiles that depend on each other and build them with a single command invocation.</span></p>\n  <p><span>Let’s say we have two Dockerfiles:</span></p>\n  \n  \n  \n  <p>Normally, you’d first build <code class=\"hljs language-cs language-css\"><span class=\"hljs-keyword\">base</span>.Dockerfile</code>, then push it to a registry or leave it in the Docker image store. Then you’d build the second <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Dockerfile</span></code> that loads the image by name.</p>\n  <p>An issue with this approach is that if you use the Docker image store, then it currently doesn’t support multi-platform local images. Using an external registry isn’t always very convenient either and, in both cases, some external change could update the base image in between two builds and make the second build use the wrong image. You also need to run the build commands twice and synchronize them manually.</p>\n  <p>Instead, you can define a Bake file with a build context defined with a <code class=\"hljs language-aspectj language-avrasm\"><span class=\"hljs-keyword\">target</span>:</code> prefix:</p>\n  <div id=\"highlighter_447426\"><p><code class=\"hljs language-armasm language-aspectj\"><span class=\"hljs-symbol\">target</span> “<span class=\"hljs-keyword\">base” </span>{</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;</code><code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">dockerfile</span> = “base.Dockerfile”</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;</code><code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">platforms</span> = [“linux/amd64”, “linux/arm64”]</code></p><p><code class=\"hljs language-undefined\">}</code></p><p><code class=\"hljs language-aspectj language-cmake\"><span class=\"hljs-keyword\">target</span> “myapp” {</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;</code><code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">contexts</span> = {</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">baseapp</span> = “target:base”</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;</code><code class=\"hljs language-undefined\">}</code></p><p><code class=\"hljs language-undefined\">&nbsp;&nbsp;</code><code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">platforms</span> = [“linux/amd64”, “linux/arm64”]</code></p><p><code class=\"hljs language-undefined\">}</code></p></div>\n  \n  <p>Now you can build your app by just running <code class=\"hljs language-armasm language-mipsasm\"><span class=\"hljs-symbol\">docker</span> <span class=\"hljs-keyword\">buildx </span><span class=\"hljs-keyword\">bake </span>myapp</code> to build both Dockerfiles and link them as required. If you want to build both the base image and your app together, you can use <code class=\"hljs language-armasm language-mipsasm\"><span class=\"hljs-symbol\">docker</span> <span class=\"hljs-keyword\">buildx </span><span class=\"hljs-keyword\">bake </span>myapp <span class=\"hljs-keyword\">base</span></code>. Both of these targets are defined as multi-platform and Buildx will take care of linking the corresponding single-platform <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">subimages</span></code> with each other.</p>\n  <p><picture>\n  <source srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,sp63CrePbkgvwntqsEPLE6YKpJTnCp5OwJQfqXU4OjxM/data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201300%20770'%3E%3C/svg%3E,\" data-lazy-sizes=\"(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) and (max-width: 1280px) 1280px, (min-width: 1281px) 1300px, 100vw\" data-lazy-srcset=\"https://www.docker.com/wp-content/uploads/2022/05/164336677-ca22a85a-276a-4927-aaef-500204bc2e35-2.png.webp 1300w, https://www.docker.com/wp-content/uploads/2022/05/164336677-ca22a85a-276a-4927-aaef-500204bc2e35-2-1280x758.png.webp 1280w, https://www.docker.com/wp-content/uploads/2022/05/164336677-ca22a85a-276a-4927-aaef-500204bc2e35-2-980x580.png.webp 980w, https://www.docker.com/wp-content/uploads/2022/05/164336677-ca22a85a-276a-4927-aaef-500204bc2e35-2-480x284.png.webp 480w\" type=\"image/webp\">\n  <img src=\"https://proxy-prod.omnivore-image-cache.app/1300x770,shEJKzZqUrJjnFjj6SoAjVrZtyD1oDRYJbboiax3_zbI/data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201300%20770'%3E%3C/svg%3E\" data-lazy-src=\"https://www.docker.com/wp-content/uploads/2022/05/164336677-ca22a85a-276a-4927-aaef-500204bc2e35-2.png\" data-lazy-sizes=\"(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) and (max-width: 1280px) 1280px, (min-width: 1281px) 1300px, 100vw\" data-lazy-srcset=\"https://www.docker.com/wp-content/uploads/2022/05/164336677-ca22a85a-276a-4927-aaef-500204bc2e35-2.png 1300w, https://www.docker.com/wp-content/uploads/2022/05/164336677-ca22a85a-276a-4927-aaef-500204bc2e35-2-1280x758.png 1280w, https://www.docker.com/wp-content/uploads/2022/05/164336677-ca22a85a-276a-4927-aaef-500204bc2e35-2-980x580.png 980w, https://www.docker.com/wp-content/uploads/2022/05/164336677-ca22a85a-276a-4927-aaef-500204bc2e35-2-480x284.png 480w\" height=\"770\" width=\"1300\" alt=\"\">\n  </picture>\n  </p>\n  <p>Note that you should always first consider just using multi-stage builds with a <code class=\"hljs language-ada language-applescript\"><span class=\"hljs-comment\">--target</span></code> parameter in these conditions. Having self-contained Dockerfiles is a simpler solution as it doesn’t require passing extra parameters with your build. This pattern should be used when you can’t combine the Dockerfiles and need to keep them separate.</p>\n  <p><span>Please check out the new build context feature in </span><a rel=\"noopener\" href=\"https://github.com/docker/buildx/releases/tag/v0.8.0\"><span>Docker Buildx v0.8 release</span></a><span>, included with the latest <a rel=\"noopener\" href=\"https://www.docker.com/products/docker-desktop/\">Docker Desktop</a>.</span></p>\n  \n              </div><div>\n                  \n                  \n                  \n                  \n                  <p><span><picture title=\"Newsletter_150x150_032422_SC-03\">\n  <source sizes=\"(max-width: 314px) 100vw, 314px\" data-lazy-sizes=\"(max-width: 314px) 100vw, 314px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/314x0,srTZwmzXuAuQOTrkN2lRhLEHznLGFDFASIr8W-czo3vs/https://www.docker.com/wp-content/uploads/2022/04/Newsletter_150x150_032422_SC-03.png.webp 314w,https://proxy-prod.omnivore-image-cache.app/301x0,sE8uHxB-SErNbfuscr36QhuH45cF3wcU-m2Wv_4z1j9s/https://www.docker.com/wp-content/uploads/2022/04/Newsletter_150x150_032422_SC-03-301x300.png.webp 301w,\" data-lazy-srcset=\"https://www.docker.com/wp-content/uploads/2022/04/Newsletter_150x150_032422_SC-03.png.webp 314w, https://www.docker.com/wp-content/uploads/2022/04/Newsletter_150x150_032422_SC-03-301x300.png.webp 301w\" type=\"image/webp\">\n  <img srcset=\"https://proxy-prod.omnivore-image-cache.app/314x0,s9mQEcV8ussOQy5gmD_c5AoXrxX5i9IbmMN1rq1cNPSo/https://www.docker.com/wp-content/uploads/2022/04/Newsletter_150x150_032422_SC-03.png 314w,https://proxy-prod.omnivore-image-cache.app/301x0,sd8XZotgA4cVLjCcfu9e4EEwgt3pjMM3VkRX82bL3yTM/https://www.docker.com/wp-content/uploads/2022/04/Newsletter_150x150_032422_SC-03-301x300.png 301w,\" sizes=\"(max-width: 314px) 100vw, 314px\" data-ll-status=\"loaded\" data-lazy-src=\"https://www.docker.com/wp-content/uploads/2022/04/Newsletter_150x150_032422_SC-03.png\" data-lazy-sizes=\"(max-width: 314px) 100vw, 314px\" data-lazy-srcset=\"https://www.docker.com/wp-content/uploads/2022/04/Newsletter_150x150_032422_SC-03.png 314w, https://www.docker.com/wp-content/uploads/2022/04/Newsletter_150x150_032422_SC-03-301x300.png 301w\" alt=\"\" src=\"https://proxy-prod.omnivore-image-cache.app/314x313,sMHN9UeCtG45nPF3jzRARfYegXK2jnaThWB8y489cvhU/https://www.docker.com/wp-content/uploads/2022/04/Newsletter_150x150_032422_SC-03.png\" height=\"313\" width=\"314\">\n  </picture>\n  </span>\n              </p><div><h5>DockerCon 2022</h5>\n  <p>Registration is now open for DockerCon 2022! Join us for this free, immersive online experience complete with product demos, breakout learning tracks, panel discussions, hacks &amp; tips, deep dive technical sessions, and much more.</p>\n  <p><a rel=\"noopener noreferrer\" href=\"https://www.docker.com/dockercon/\" id=\"dkr_dockercon_2022_blog_sidebar\">Register Now</a></p></div>\n              </div>\n                  \n                  \n                  \n                  \n              </div></div>",
    "labels": "docker"
  },
  {
    "description": "The repository maintains and distributes rootless docker images built on top of distroless docker images.  - GitHub - htec-infra/container-kitchen: The repository maintains and distributes rootless...",
    "title": "GitHub - htec-infra/container-kitchen: The repository maintains and distributes rootless docker images built on top of distroless docker images.",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div data-view-component=\"true\">      \n        \n        \n  \n        \n  \n  \n  <div>\n    <div>\n      <h2>Latest commit</h2>\n      <div data-issue-and-pr-hovercards-enabled=\"\">\n        \n        <pre>docker-ops script updated</pre>\n      <p><code class=\"hljs language-angelscript language-llvm\"><span class=\"hljs-number\">332</span>c59e</code>\n      </p>\n    </div>\n    </div>\n      <h2 id=\"files\">Files</h2>\n      \n  \n  \n    \n  \n  \n      <p><a href=\"https://github.com/htec-infra/container-kitchen/tree/332c59ec29cc30ea7fbef37e850ae217e035a71e\" data-hotkey=\"y\">Permalink</a></p><div data-view-component=\"true\">\n    <p>\n    \n      Failed to load latest commit information.\n  \n  \n    \n  </p></div>  <div data-pjax=\"\" aria-labelledby=\"files\" role=\"grid\">\n          <p>Type</p>\n          <p>Name</p>\n          <p>Latest commit message</p>\n          <p>Commit time</p>\n        </div>\n  \n  \n  \n  \n  \n  \n  </div>\n  \n    \n        \n  \n        <div data-tagsearch-lang=\"Markdown\" data-tagsearch-path=\"README.md\" id=\"readme\" data-target=\"readme-toc.content\">\n              <article><h2 dir=\"auto\">Rootless/Distroless Docker images</h2>\n  <h2 dir=\"auto\">Overview</h2>\n  <p dir=\"auto\">Docker images available on Docker Hub or similar Docker registries are developed mainly for testing purposes.\n  Main process is executed as a root user, and a bunch of unused libraries remain installed on the docker image although\n  it's not utilized in the main process.</p>\n  <p dir=\"auto\">The idea with this repository is to build and distribute rootless docker images built on top of distroless docker images\n  (if that's possible) that can be used for building more sophisticated images in the future.\n  Dockerfiles are defined only with the most important libraries and configuration files, hence all good practices are\n  fulfilled and attacking surface is minimal.</p>\n  <h2 dir=\"auto\">Applications</h2>\n  <h3 dir=\"auto\">Base images for Web apps</h3>\n  <ul dir=\"auto\">\n  <li><a href=\"https://github.com/nginxinc\">NGINX</a> unprivileged</li>\n  </ul>\n  <h3 dir=\"auto\">Utility Apps</h3>\n  <ul dir=\"auto\">\n  <li><a rel=\"nofollow\" href=\"https://www.clamav.net/\">ClamAV</a> - OpenSource AntiVirus engine</li>\n  <li><a href=\"https://github.com/gchq/CyberChef\">CyberChef</a> - Swiss-Army Knife tool</li>\n  <li><a rel=\"nofollow\" href=\"https://www.terraform.io/\">Terraform</a> - Infrastructure As Code tool</li>\n  <li><a rel=\"nofollow\" href=\"https://terragrunt.gruntwork.io/\">Terragrunt</a> (based on Terraform image) - Wrapper for Terraform configuration</li>\n  <li>Terraform Utils - Bundle of terraform linter &amp; security check tools</li>\n  <li><a href=\"https://github.com/alvarcarto/url-to-pdf-api\">PDF Generator</a> - Web page PDF rendering tool</li>\n  </ul>\n  <h2 dir=\"auto\">Development</h2>\n  <ul dir=\"auto\">\n  <li><a rel=\"nofollow\" href=\"https://dotnet.microsoft.com/download/dotnet/3.1\">.NET-3.1</a> - NET Core 3.1</li>\n  <li><a rel=\"nofollow\" href=\"https://dotnet.microsoft.com/download/dotnet/5.0\">.NET-5.0</a> - NET Core 5.0</li>\n  </ul>\n  <h3 dir=\"auto\">Prerequisites</h3>\n  <ul dir=\"auto\">\n  <li><a rel=\"nofollow\" href=\"https://docs.docker.com/engine/install/\">docker</a></li>\n  <li><a rel=\"nofollow\" href=\"https://pre-commit.com/#install\">pre-commit</a></li>\n  </ul>\n  <h3 dir=\"auto\">Usage</h3>\n  <blockquote>\n  <p dir=\"auto\"><strong>NOTE:</strong>\n  The script <code class=\"hljs language-stata language-vim\">infra/docker-ops.<span class=\"hljs-keyword\">sh</span></code> is configured to clean up all images after build. Run locally using <code class=\"hljs language-ini language-makefile\"><span class=\"hljs-attr\">DRY_RUN</span>=<span class=\"hljs-literal\">true</span></code>\n  in order to keep built image available after the script ended.</p>\n  </blockquote>\n  <div><pre>$ DRY_RUN=true make <span>&lt;</span>repo_name<span>&gt;</span> <span>&lt;</span>flavor(if applicable)<span>&gt;</span></pre></div>\n  </article>\n            </div>\n  \n    \n  \n  \n  </div></div>",
    "labels": "docker"
  },
  {
    "description": "The repository maintains and distributes rootless docker images built on top of distroless docker images.  - container-kitchen/apps/dotnet/6 at main · htec-infra/container-kitchen",
    "title": "container-kitchen/apps/dotnet/6 at main · htec-infra/container-kitchen",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n    \n  \n    \n  \n    \n  \n  \n  <div>\n    <div>\n      <h2>Latest commit</h2>\n      <div data-issue-and-pr-hovercards-enabled=\"\">\n        \n        <pre>README.MD updated\n  docker-ops script updated\n  makefile updated\n  Dockerfile updated for dotnet images</pre>\n      <p><code class=\"hljs language-undefined\">d5d7cb0</code>\n      </p>\n    </div>\n    </div>\n      <h2 id=\"files\">Files</h2>\n      \n  \n  \n    \n  \n  \n      <p><a href=\"https://github.com/htec-infra/container-kitchen/tree/332c59ec29cc30ea7fbef37e850ae217e035a71e/apps/dotnet/6\" data-hotkey=\"y\">Permalink</a></p><div data-view-component=\"true\">\n    <p>\n    \n      Failed to load latest commit information.\n  \n  \n    \n  </p></div>  <div data-pjax=\"\" aria-labelledby=\"files\" role=\"grid\">\n          <p>Type</p>\n          <p>Name</p>\n          <p>Latest commit message</p>\n          <p>Commit time</p>\n        </div>\n  \n  \n  \n  \n  \n  \n  </div>\n  \n    \n        \n  \n        <div data-tagsearch-lang=\"Markdown\" data-tagsearch-path=\"apps/dotnet/6/README.md\" id=\"readme\" data-target=\"readme-toc.content\">\n              <article><h2 dir=\"auto\">Distroless .NET docker image</h2>\n  <h2 dir=\"auto\">Overview</h2>\n  <p dir=\"auto\">.NET docker image is built on top of <code class=\"hljs language-cs language-excel\"><span class=\"hljs-keyword\">base</span>-debian11</code> distroless image. .NET binary is configured to run as nonroot user. Binary is copied from the official microsoft aspnet6.0 image.</p>\n  <h2 dir=\"auto\">Usage</h2>\n  <h3 dir=\"auto\">Local testing</h3>\n  <p dir=\"auto\">Image built using <code class=\"hljs language-css language-stata\"><span class=\"hljs-selector-tag\">docker-ops</span><span class=\"hljs-selector-class\">.sh</span></code> script has <code class=\"hljs language-angelscript language-applescript\">local/REPONAME/dotnet6<span class=\"hljs-number\">.0</span></code> tag, yet image is available locally only if you run\n  build as <code class=\"hljs language-ini language-go\"><span class=\"hljs-attr\">DRY_RUN</span>=<span class=\"hljs-literal\">true</span> make dotnet6</code>.</p>\n  <div><pre><code class=\"hljs language-applescript language-dockerfile\">docker <span class=\"hljs-built_in\">run</span> -<span class=\"hljs-keyword\">it</span> <span class=\"hljs-comment\">--rm -p PORT:PORT local/dotnet:6.0</span>\n  </code></pre></div>\n  <h3 dir=\"auto\">From DockerHub</h3>\n  <div><pre><code class=\"hljs language-applescript language-dockerfile\">docker <span class=\"hljs-built_in\">run</span> -<span class=\"hljs-keyword\">it</span> <span class=\"hljs-comment\">--rm -p PORT:PORT htec/dotnet:6.0</span>\n  </code></pre></div>\n  <h3 dir=\"auto\">Example</h3>\n  <p dir=\"auto\">We will use hello-world .NET app for this example.\n  Dockerfile example:</p>\n  <div><pre><code class=\"hljs language-dockerfile language-properties\">\n  <span class=\"hljs-comment\"># We are going to use debian based images for the builder stage</span>\n  <span class=\"hljs-keyword\">FROM</span> mcr.microsoft.com/dotnet/sdk:<span class=\"hljs-number\">6.0</span>-buster-slim AS builder\n  \n  <span class=\"hljs-comment\"># Set working</span>\n  <span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /<span class=\"hljs-built_in\">source</span></span>\n  \n  <span class=\"hljs-comment\"># Copy csproj and restore as distinct layers</span>\n  <span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> *.csproj ./</span>\n  \n  <span class=\"hljs-comment\"># Dwonload .NET dependencies</span>\n  <span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> dotnet restore</span>\n  \n  <span class=\"hljs-comment\"># Copy the source code into the workdir</span>\n  <span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> . .</span>\n  \n  <span class=\"hljs-comment\"># Publish the app, we have 2 flags here --runtime(https://docs.microsoft.com/en-us/dotnet/core/rid-catalog) and slef-contained (https://docs.microsoft.com/en-us/dotnet/core/deploying/)</span>\n  <span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> dotnet publish \\n      --runtime linux-x64 \\n      --self-contained <span class=\"hljs-literal\">true</span> \\n      -c Release \\n      -o out</span>\n  \n  <span class=\"hljs-keyword\">FROM</span> DOTNET:VERSION\n  \n  <span class=\"hljs-comment\"># First we need to copy the files into the directory, in that way we assign the permissions to the folder for the nonroot user</span>\n  <span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> --from=builder --chown=nonroot:nonroot /<span class=\"hljs-built_in\">source</span>/out /app/</span>\n  \n  <span class=\"hljs-comment\"># Change working dir</span>\n  <span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /app</span>\n  \n  <span class=\"hljs-keyword\">ENTRYPOINT</span><span class=\"bash\"> [<span class=\"hljs-string\">\"./hello-world\"</span>]</span>\n  \n  \n  </code></pre></div>\n  </article>\n            </div>\n  \n    \n  \n  \n  </div></div>",
    "labels": "docker"
  },
  {
    "description": "In this post I compare the impact of the framework-dependent vs self-contained mode on Docker image size, taking layer caching into account",
    "title": "Should I use self-contained or framework-dependent publishing in Docker images?",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n  <p>ASP.NET Core has two different publishing modes, framework-dependent and self-contained. In this post I compare the impact of the publishing mode on Docker image size. I compare an image published using both approaches and take into account the size of cached layers to decide which approach is the best for Docker images.</p>\n  <p>I'm only comparing Docker image <strong>size</strong> in this post, as that's the main thing that changes between the modes. As self-contained mode uses app-trimming <a href=\"https://devblogs.microsoft.com/dotnet/app-trimming-in-net-5\">it's a little less \"safe\"</a> as you may accidentally trim assemblies or methods you need. It also takes a little longer to build trimmed self-contained apps, as the SDK has to do the app trimming. For the purposes of this post I'm ignoring those differences.</p>\n  \n  <p>ASP.NET Core apps can be published in one of two modes:</p>\n  <ul>\n  <li><strong>Framework-dependent</strong>. In this mode, you need to have the .NET Core / .NET 5.0 runtime installed on the target machine. </li>\n  <li><strong>Self-contained</strong>. In this mode, your app is bundled with the .NET Core / .NET 5.0 runtime when it is published, so the target machine does not need the .NET Core runtime installed.</li>\n  </ul>\n  <p>There are advantages and disadvantages to both approaches. For example</p>\n  <ul>\n  <li><strong>Framework-dependent</strong><ul>\n  <li><em>Pro</em>: you only need to distribute your app's dll files, as the runtime is already installed on the target machine.</li>\n  <li><em>Pro</em>: you can path the .NET runtime for all your apps, without having to re-compile.</li>\n  <li><em>Con</em>: you have less control at runtime - you don't know <em>exactly</em> which version of the .NET runtime will be used when your app runs (as it depends what's installed).</li>\n  </ul>\n  </li>\n  <li><strong>Self-contained</strong><ul>\n  <li><em>Pro</em>: You have complete control over the runtime used with your app, as you're distributing it <em>with</em> your app.</li>\n  <li><em>Pro</em>: No requirement for a shared runtime to be installed. This means you can, for example, deploy preview versions of a runtime to Azure App Service, before they're \"officially\" supported.</li>\n  <li><em>Con</em>: As you're distributing the runtime as well, the total size of your app will be much larger. This can be mitigated to some extent in .NET 5.0 by using <a href=\"https://devblogs.microsoft.com/dotnet/app-trimming-in-net-5\">trimming</a>, but your app will still be much larger.</li>\n  <li><em>Pro/Con</em>: To patch the runtime, you need to recompile and redistribute your app. This is a con, in that it's an extra task to do, but it means that you have always tested your app with a known version of the runtime.</li>\n  </ul>\n  </li>\n  </ul>\n  <figure>\n  <picture>\n  <source type=\"image/svg+xml\" srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,sjiRIZVcc5N6IRse7BeiQTTAvhcMPl6Y27RqebMAVK70/https://andrewlock.net/content/images/2020/fd_vs_sc_docker.svg,\">\n  <img alt=\"Comparing framework-dependent with self-contained modes\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sQ5UXSA5MccyJLschacM7Q31_v6CGt5NgPk51o1WR8DM/https://andrewlock.net/content/images/2020/fd_vs_sc_docker.png\">\n  </picture>\n  </figure>\n  <p>These are pretty standard trade-offs if you're deploying to a hosted service or to to a VM, but what about if you're building Docker images?</p>\n  <h2 id=\"framework-dependent-vs-self-contained-in-docker\">Framework-dependent vs self-contained in Docker<a href=\"#framework-dependent-vs-self-contained-in-docker\"></a></h2>\n  <p>If you're building Docker images and publishing these as your \"deployment artefact\" then the pros and cons aren't as clear cut.</p>\n  <ul>\n  <li><strong>Framework-dependent</strong><ul>\n  <li><s>You only need to distribute your app's dll files, as the runtime is already installed on the target machine</s> No longer true, as with a Docker image you're essentially distributing the target machine as well!</li>\n  <li><s>You don't know <em>exactly</em> which version of the .NET runtime will be used at runtime</s> No longer true as you specify exactly which version of the runtime to use in your Docker image.</li>\n  </ul>\n  </li>\n  <li><strong>Self-contained</strong><ul>\n  <li><s>You have complete control over the runtime used with your app, as you're distributing it <em>with</em> your app</s> True, but not really any different to framework-dependent now.</li>\n  <li><s>No requirement for a shared runtime to be installed</s> True, but again, also true when deploying as a framework dependent app in Docker.</li>\n  <li><s>To patch the runtime, you need to recompile and redistribute your app</s> True, but again, the same as framework-dependent apps now.</li>\n  <li><s>As you're distributing the runtime as well, the total size of your app will be much larger.</s> This is no longer true; in both cases we're distributing everything in the Docker image: the OS, the .NET runtime, and the app itself. However, with self-contained deployments we can trim the framework, so we'd expect the resulting Docker images to be smaller.</li>\n  </ul>\n  </li>\n  </ul>\n  <figure>\n  <picture>\n  <source type=\"image/svg+xml\" srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,s2g41BH_A6zQnTr3rF44_OGEEZBtrosJCTU2fHzkOrfE/https://andrewlock.net/content/images/2020/fd_vs_sc_docker_02.svg,\">\n  <img alt=\"Comparing framework-dependent with self-contained modes in Docker images\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sGfyolHNqvyCg2LbZVUXfz5pRjY8Pw1Okc3BKWcu55aY/https://andrewlock.net/content/images/2020/fd_vs_sc_docker_02.png\">\n  </picture>\n  </figure>\n  <p>So, based on this, it seems like self-contained deployments for Docker images should be the best approach right? Both images should be functionally the same, and the self-contained deployment is smaller, which is desirable for Docker images, so that makes sense.</p>\n  <p>However, this ignores an important aspect of Docker images - layer caching. If two Docker images use the same \"base\" image, then Docker will naturally \"de-dupe\" the duplicate layers. These duplicate layers don't need to be transferred when pushing or pulling images from registries if the target already has the given layer.</p>\n  <figure>\n  <picture>\n  <source type=\"image/svg+xml\" srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,sM8HxXiedGsgKifR-BHBdaDgrRLLq256DhErxnYCxqBc/https://andrewlock.net/content/images/2020/fd_vs_sc_docker_03.svg,\">\n  <img alt=\"Docker layers don't need to be re-pulled if they already exist on the target machine\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sI8jyTL4pBCo3KL9FonMaHvp9CdjGNpeIj6mPgWDDsu0/https://andrewlock.net/content/images/2020/fd_vs_sc_docker_03.png\">\n  </picture>\n  </figure>\n  <p>If two framework dependent apps are deployed in Docker images, and both use the same framework version, then the <em>effective</em> image size is much smaller, due to the layer caching. In contrast, even though self-contained deployment images will be smaller over all, they'll never benefit from caching the .NET runtime in a layer, as it's <em>part</em> of your application deployment. That means you may well have to push more bytes around with self-contained deployments.</p>\n  <p>I was interested to put some numbers around this so I setup a little experiment.</p>\n  <h2 id=\"comparing-docker-image-sizes-between-framework-dependent-and-self-contained-apps\">Comparing Docker image sizes between framework-dependent and self-contained apps<a href=\"#comparing-docker-image-sizes-between-framework-dependent-and-self-contained-apps\"></a></h2>\n  <p>I decided to do a quick test to put some numbers on the differences between the apps. I wanted to use a <em>vaguely</em> realistic application as a test, so I decided to use the <a href=\"https://identityserver4.readthedocs.io/en/latest/quickstarts/0_overview.html\">IdentityServer 4 quick-start application</a> as my test</p>\n  <p>I started by installing the IdentityServer templates using </p>\n  <pre><code class=\"hljs language-haxe language-stylus\">dotnet <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\"></span>-i IdentityServer4.Templates\n  </code></pre>\n  <p>And then created my test app called <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">IdentityServerTestApp</span></code> using:</p>\n  <pre><code class=\"hljs language-ceylon language-haxe\">dotnet <span class=\"hljs-keyword\">new</span> <span class=\"hljs-keyword\">is</span><span class=\"hljs-number\">4</span>ef -n IdentityServerTestApp -o .\n  </code></pre>\n  <blockquote>\n  <p>The templates currently target .NET Core 3.1, so I quickly updated the target framework to .NET 5.0 for this test. Why not!</p>\n  </blockquote>\n  <p>Finally I checked I could build using <code class=\"hljs language-ebnf language-n1ql\"><span class=\"hljs-attribute\">dotnet build</span></code>. Everything worked, so I moved on to the Docker side.</p>\n  <h3 id=\"creating-the-test-docker-images\">Creating the test Docker images<a href=\"#creating-the-test-docker-images\"></a></h3>\n  <p>Given I want this to be a vaguely realistic test, I created two separate Dockerfiles that use multi-stage builds: one in which the app is deployed in self-contained mode, and one that uses framework-dependent mode.</p>\n  <blockquote>\n  <p>You should always use <a href=\"https://docs.docker.com/develop/develop-images/multistage-build/\">multi-stage builds</a> in production, to keep your final Docker images as small as possible. These let you use a different Docker image for the \"build\" part of your app than you use to deploy it. </p>\n  </blockquote>\n  <p>The Dockerimage below shows the framework-dependent version. I've just done the whole restore/build/publish in one step here, as I'm only going to be building it once anyway. In practice, you should <a href=\"https://andrewlock.net/optimising-asp-net-core-apps-in-docker-avoiding-manually-copying-csproj-files/\">use an approach that caches intermediate build layers</a>.</p>\n  <pre><code class=\"hljs language-dockerfile language-properties\"><span class=\"hljs-comment\"># The builder image</span>\n  <span class=\"hljs-keyword\">FROM</span> mcr.microsoft.com/dotnet/sdk:<span class=\"hljs-number\">5.0</span>.<span class=\"hljs-number\">100</span>-alpine3.<span class=\"hljs-number\">12</span> AS builder\n  \n  <span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /sln</span>\n  \n  <span class=\"hljs-comment\"># Just copy everything</span>\n  <span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> . .</span>\n  \n  <span class=\"hljs-comment\"># Do the restore/publish/build in one step</span>\n  <span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> dotnet publish -c Release -o /sln/artifacts</span>\n  \n  <span class=\"hljs-comment\"># The deployment image</span>\n  <span class=\"hljs-keyword\">FROM</span> mcr.microsoft.com/dotnet/aspnet:<span class=\"hljs-number\">5.0</span>.<span class=\"hljs-number\">100</span>-alpine3.<span class=\"hljs-number\">12</span>\n  \n  <span class=\"hljs-comment\"># Copy across the published app</span>\n  <span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /app</span>\n  <span class=\"hljs-keyword\">ENTRYPOINT</span><span class=\"bash\"> [<span class=\"hljs-string\">\"dotnet\"</span>, <span class=\"hljs-string\">\"IdentityServerTestApp.dll\"</span>]</span>\n  <span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> --from=builder ./sln/artifacts .</span>\n  </code></pre>\n  <p>The self-contained deployment uses a very similar Dockerfile:</p>\n  <pre><code class=\"hljs language-dockerfile language-routeros\">\n  <span class=\"hljs-comment\"># The builder image</span>\n  <span class=\"hljs-keyword\">FROM</span> mcr.microsoft.com/dotnet/sdk:<span class=\"hljs-number\">5.0</span>.<span class=\"hljs-number\">100</span>-alpine3.<span class=\"hljs-number\">12</span> AS builder\n  \n  <span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /sln</span>\n  \n  <span class=\"hljs-comment\"># Just copy everything</span>\n  <span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> . .</span>\n  \n  <span class=\"hljs-comment\"># Do the restore/publish/build in one step</span>\n  <span class=\"hljs-keyword\">RUN</span><span class=\"bash\"> dotnet publish -c Release -r linux-x64 -o /sln/artifacts -p:PublishTrimmed=True</span>\n  \n  <span class=\"hljs-comment\"># The deployment image</span>\n  <span class=\"hljs-keyword\">FROM</span> mcr.microsoft.com/dotnet/runtime-deps:<span class=\"hljs-number\">5.0</span>.<span class=\"hljs-number\">100</span>-alpine3.<span class=\"hljs-number\">12</span>\n  \n  <span class=\"hljs-comment\"># Copy across the published app</span>\n  <span class=\"hljs-keyword\">WORKDIR</span><span class=\"bash\"> /app</span>\n  <span class=\"hljs-keyword\">ENTRYPOINT</span><span class=\"bash\"> [<span class=\"hljs-string\">\"dotnet\"</span>, <span class=\"hljs-string\">\"IdentityServerTestApp.dll\"</span>]</span>\n  <span class=\"hljs-keyword\">COPY</span><span class=\"bash\"> --from=builder ./sln/artifacts .</span>\n  </code></pre>\n  <p>There's only two differences here:</p>\n  <ul>\n  <li>We're publishing the app as self-contained by specifying a runtime identifier (<code class=\"hljs language-llvm\">linux-<span class=\"hljs-keyword\">x</span><span class=\"hljs-number\">64</span></code>). I've also set it to do conservative <a href=\"https://devblogs.microsoft.com/dotnet/app-trimming-in-net-5/\">assembly-level trimming, new in .NET 5.0</a>. You could update that to the more aggressive member-level trimming by adding <code class=\"hljs language-routeros language-diff\">-p:<span class=\"hljs-attribute\">TrimMode</span>=Link</code></li>\n  <li>Instead of using the <code class=\"hljs language-undefined\">dotnet/aspnet</code> image, which has the ASP.NET Core runtime installed, we're using <code class=\"hljs language-vim\">dotnet/<span class=\"hljs-keyword\">runtime</span>-deps</code>, which doesn't have a .NET runtime installed at all.</li>\n  </ul>\n  <p>If we compare the base size of the runtime images, you can see that the <code class=\"hljs language-undefined\">dotnet/aspnet</code> image is about 10x larger, 103MB vs. 9.9MB:</p>\n  <pre><code class=\"hljs language-angelscript language-lsl\">&gt; docker images | grep mcr.microsoft.com/dotnet\n  \n  mcr.microsoft.com/dotnet/sdk            <span class=\"hljs-number\">5.0</span><span class=\"hljs-number\">.100</span>-alpine3<span class=\"hljs-number\">.12</span>   <span class=\"hljs-number\">487</span>MB\n  mcr.microsoft.com/dotnet/aspnet         <span class=\"hljs-number\">5.0</span><span class=\"hljs-number\">.0</span>-alpine3<span class=\"hljs-number\">.12</span>     <span class=\"hljs-number\">103</span>MB\n  mcr.microsoft.com/dotnet/runtime-deps   <span class=\"hljs-number\">5.0</span><span class=\"hljs-number\">.0</span>-alpine3<span class=\"hljs-number\">.12</span>      <span class=\"hljs-number\">10</span>MB\n  </code></pre>\n  <p>This is what we'd expect. The <code class=\"hljs language-undefined\">dotnet/aspnet</code> image includes everything in the <code class=\"hljs language-vim\">dotnet/<span class=\"hljs-keyword\">runtime</span>-deps</code>, but then layers the .NET 5.0 runtime and ASP.NET Core framework libraries on top. That layer constitutes the additional 93MB of the image size.</p>\n  <p>Now lets see what the size difference is once we build and publish our apps.</p>\n  <h2 id=\"building-the-images\">Building the images<a href=\"#building-the-images\"></a></h2>\n  <p>We can build the images using the following two commands:</p>\n  <pre><code class=\"hljs language-armasm language-cmake\"># <span class=\"hljs-keyword\">Build </span>the framework-dependent app\n  <span class=\"hljs-symbol\">docker</span> <span class=\"hljs-keyword\">build </span>-f FrameworkDependent.Dockerfile -t identity-server-test-app:framework-dependent .\n  # <span class=\"hljs-keyword\">Build </span>the <span class=\"hljs-keyword\">self-contained </span>app\n  <span class=\"hljs-symbol\">docker</span> <span class=\"hljs-keyword\">build </span>-f <span class=\"hljs-keyword\">SelfContained.Dockerfile </span>-t identity-server-test-app:<span class=\"hljs-keyword\">self-contained </span>.\n  </code></pre>\n  <p>Let's compare the final Docker images after publishing our app:</p>\n  <pre><code class=\"hljs language-pgsql language-stata\">&gt; docker images | grep <span class=\"hljs-keyword\">identity</span>-<span class=\"hljs-keyword\">server</span>-test-app\n  \n  <span class=\"hljs-keyword\">identity</span>-<span class=\"hljs-keyword\">server</span>-test-app      framework-dependent   <span class=\"hljs-number\">131</span>MB\n  <span class=\"hljs-keyword\">identity</span>-<span class=\"hljs-keyword\">server</span>-test-app      self-contained        <span class=\"hljs-number\">65</span>MB\n  </code></pre>\n  <p>The table below breaks these numbers down a bit further, to see where the size difference comes from.</p>\n  <blockquote>\n  <p>I later run another test in self-contained mode with aggressive, member-level, trimming enabled. For the purposes of the table, I assumed that only members from framework dlls were trimmed. That's probably not entirely accurate, but I think is a reasonable assumption here.</p>\n  </blockquote>\n  <table>\n  <thead>\n  <tr>\n  <th>Layer</th>\n  <th>Cached?</th>\n  <th>Framework-dependent</th>\n  <th>Self-contained</th>\n  <th>Agressive trimming</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n  <td>Base runtime-dependencies</td>\n  <td>Yes</td>\n  <td>9.9 MB</td>\n  <td>9.9MB</td>\n  <td>9.9MB</td>\n  </tr>\n  <tr>\n  <td>Shared framework layer</td>\n  <td>Yes</td>\n  <td>93 MB</td>\n  <td>-</td>\n  <td>-</td>\n  </tr>\n  <tr>\n  <td>Trimmed .NET runtime dlls</td>\n  <td>No</td>\n  <td>-</td>\n  <td>48MB</td>\n  <td>27 MB</td>\n  </tr>\n  <tr>\n  <td>Application dlls</td>\n  <td>No</td>\n  <td>28 MB</td>\n  <td>28 MB</td>\n  <td>28 MB</td>\n  </tr>\n  <tr>\n  <td><strong>Total</strong></td>\n  <td></td>\n  <td><strong>131 MB</strong></td>\n  <td><strong>76 MB</strong></td>\n  <td><strong>65 MB</strong></td>\n  </tr>\n  <tr>\n  <td><strong>Total (excluding cached)</strong></td>\n  <td></td>\n  <td><strong>28 MB</strong></td>\n  <td><strong>66 MB</strong></td>\n  <td><strong>55 MB</strong></td>\n  </tr>\n  </tbody>\n  </table>\n  <p>As you can see, the self-contained image is significantly smaller than the framework dependent image 76MB (or 65MB for member-trimming) vs. 131MB. However, if you just consider the \"uncacheable\" layers in the apps, and assume that the base dependencies and shared framework layers will already be present on target machines (a reasonable enough assumption in many cases), then the results swing the other way!</p>\n  <p>So which is the \"right\" option? From my point of view, if you're deploying Docker images to a Kubernetes cluster (for example), then the framework-dependent approach probably makes the most sense. You'll benefit from more layer-caching, so there should be fewer bytes to push to and from Docker registries. If you're unsure if the layers will be cached, if you're deploying to some sort of shared hosting for example, then the smaller self-contained deployments are probably the better option.</p>\n  <blockquote>\n  <p>I'm only talking about the case where you're deploying in Docker here. If you're not, I think the self-contained deployment will often be the better approach for the added control and assurance it gives you about your runtime environment.</p>\n  </blockquote>\n  <h2 id=\"summary\">Summary<a href=\"#summary\"></a></h2>\n  <p>In this post I compared the size of an example application when deployed in a Docker image using two different modes. Using the framework-dependent publishing mode, the final runtime image was 131 MB, but 103 MB of that would likely already be cached on a target machine. </p>\n  <p>In contrast, the self-contained deployment model gave images that were 76 MB (or 65 MB with member-level trimming enabled)—significantly smaller. However, only 10MB of those images can be cached, giving a larger size to push and pull from repositories (66MB vs 28MB). </p>\n  <p>For that reason, I think if you're deploying Docker images to a Kubernetes cluster (for example), then the framework-dependent approach probably makes the most sense. You'll benefit from more layer-caching, so there should be fewer bytes to push to and from Docker registries. If you're unsure if the layers will be cached, if you're deploying to some sort of shared hosting for example, then the smaller self-contained deployments are probably the better option.</p>\n  </div></div>",
    "labels": "docker"
  },
  {
    "description": "In this post, we'll explore the string.Create method which is used to create strings in high-performance scenarios by avoiding heap allocations and copying.",
    "title": "Creating Strings with No Allocation Overhead Using String.Create",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n              <div id=\"pryc-wp-acctp-original-content\"><p>In this post, I’ll continue my<a href=\"https://www.stevejgordon.co.uk/writing-high-performance-csharp-and-dotnet-code\"> series about writing high-performance C# and .NET code</a>. This time, I will focus on a new(ish) method available on the String type – String.Create. First introduced in .NET Core 2.1, this method is currently planned for inclusion as part of .NET Standard 2.1 once that is released.</p>\n  <h2>What Does String.Create Do?</h2>\n  <p>The String.Create method supports the efficient creation of strings that need to be built or computed at runtime. Before I expand on this, let’s take a moment to cover some facts about strings.</p>\n  <ul>\n  <li>In .NET strings are a prevalent type, used to represent text data.</li>\n  <li>Strings are reference types and their data is stored on the managed heap.</li>\n  <li>By design, strings are immutable, which means that once created, their data cannot be modified.</li>\n  </ul>\n  <p>The combination of these facts leads to a problem with strings from a high-performance perspective. At a high-level, our goal when writing high-performance code is often to reduce the execution time of running that code and also to remove memory allocations. Operating on strings often results in an excess of allocations due to their immutable nature. If we want to extract part of a string, it results in the creation of a new string and the copy of the string data between the memory occupied by the old and new strings. If we want to convert a string to uppercase, that too results in a new string being allocated on the heap.</p>\n  <p>If we want to create a string programmatically, using data available only at runtime, that also presents a problem. Concatenating strings will also cause allocations and copies. For long strings, particularly those composed of many component parts, this cost can add up significantly.</p>\n  <p>This doesn’t mean that strings shouldn’t be used when it’s appropriate to do so, but it becomes a concern when writing highly optimised code. A standard solution, used when constructing strings at runtime, is to use a StringBuilder which uses an internal buffer to which characters are appended. When you call the build method on the StringBuilder, this causes the final string allocation. When concatenating more than a few elements, StringBuilder will usually be more efficient than plain concatenation (always benchmark to validate this in your scenarios). StringBuilder still requires an intermediate buffer for the characters so there’s a heap allocation there, plus a copy when building the string from the buffer. StringBuilder itself is a class, so there’s an allocation involved in using one. In ASP.NET Core the team have worked around this allocation cost on hot paths by pooling and sharing instances of StringBuilder where it makes sense to do so, in places such as middleware for example.</p>\n  <h2>When Would I Use String.Create?</h2>\n  <p>String.Create is not something that you will need during everyday development. It has a specific purpose, which is to create a string pragmatically from some existing data, or potentially just via an algorithm, in a high-optimised way. The primary optimisation, in this case, is that it helps us avoid unnecessary allocations and copying of data. We’ll look at a worked example in a few minutes, but before that, let’s consider some more general use cases. Inside the Kestrel web server for ASP.NET Core, unique IDs are created per request. In that case, the requirement is to build a string of a known length and format, which will uniquely identify the request. Since this may be done many thousands of times per second, making this perform well is crucial. String.Create allows the string to be constructed efficiently in that scenario.</p>\n  <h2>How Does String.Create Work?</h2>\n  <p>String.Creates provides a very short window where we are allowed to essentially break the immutability rule of strings. That may sound scary to some, but it’s not as bad as I make that sound. The window where data mutation can occur is only before the first reference to the string is returned. There’s no possibility to modify the data of an existing string after this brief window.</p>\n  <p>Internally, String.Create allocates a suitable portion of memory on the heap to contain the char array for the string data. For this to work, the method takes as its first parameter, the length required for the string. This is an important limitation, and you must know or be able to calculate up front, the exact character length of the string that you wish to create.</p>\n  <p>Here’s the signature for the Create method:</p>\n  <pre>public static string Create&lt;TState&gt; (int length, TState state, System.Buffers.SpanAction&lt;char,TState&gt; action);</pre>\n  <p>The method takes a second parameter, which is the generic state needed to construct the string. We’ll come back to the state in a few moments.</p>\n  <p>Finally, the create method accepts a delegate that is expected to operate on the allocated heap memory to set the final string data. In this case, the parameter is a SpanAction, which is defined in System.Buffers. Since a Span&lt;T&gt; type cannot be used as a generic type argument, the standard Action delegate cannot be used. Instead, SpanAction supports taking the type which will be used as the type for the internal Span&lt;T&gt;. In this case, we’re working with chars.</p>\n  <p>The SpanAction delegate is where the power lies. After the char[] memory needed for the string is allocated, the delegate we pass can then be used to populate the characters within that array. Once the delegate completes, the string which uses that array internally is then returned, having had its value set appropriately.</p>\n  <p>Let’s consider for a moment one of the lowest allocation ways we could build up the string without this method. We could potentially use a temporary char array as a buffer to build up the data for the string, then pass that array to the constructor for the string. That is essentially what StringBuilder does for us. This approach would result in two allocations, one for the buffer and one for the string. There would also be some memory copying occurring between the arrays involved.</p>\n  <p>Here’s what that might look like:</p>\n  <div translate=\"no\" id=\"gist96253809\">\n  \n    <template>\n    <div class=\"flash flash-warn flash-full d-flex flex-items-center\" data-view-component=\"true\">\n    <svg class=\"octicon octicon-alert\" data-view-component=\"true\" width=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" height=\"16\" aria-hidden=\"true\">\n      <path d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\" fill-rule=\"evenodd\"></path>\n  </svg>\n    \n      <span>\n        This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n        <a href=\"https://github.co/hiddenchars\">Learn more about bidirectional Unicode characters</a>\n      </span>\n  \n  \n    <div class=\"flash-action\" data-view-component=\"true\">      <a class=\"btn-sm btn\" data-view-component=\"true\" href=\"{{ revealButtonHref }}\">  Show hidden characters\n    \n  </a>\n  </div>\n  </div></template>\n  <template>\n    <span class=\"line-alert tooltipped tooltipped-e\" data-view-component=\"true\" aria-label=\"This line has hidden Unicode characters\">\n      <svg class=\"octicon octicon-alert\" data-view-component=\"true\" width=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" height=\"16\" aria-hidden=\"true\">\n      <path d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\" fill-rule=\"evenodd\"></path>\n  </svg>\n  </span></template>\n  \n    <table data-tagsearch-path=\"Program.cs\" data-tagsearch-lang=\"C#\" data-paste-markdown-skip=\"\" data-tab-size=\"8\">\n          <tbody><tr>\n            <td data-line-number=\"1\" id=\"file-program-cs-L1\"></td>\n            <td id=\"file-program-cs-LC1\"><span>using</span> <span>System</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"2\" id=\"file-program-cs-L2\"></td>\n            <td id=\"file-program-cs-LC2\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"3\" id=\"file-program-cs-L3\"></td>\n            <td id=\"file-program-cs-LC3\"><span>namespace</span> <span>StringCreateSample</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"4\" id=\"file-program-cs-L4\"></td>\n            <td id=\"file-program-cs-LC4\">{</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"5\" id=\"file-program-cs-L5\"></td>\n            <td id=\"file-program-cs-LC5\">    <span>class</span> <span>Program</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"6\" id=\"file-program-cs-L6\"></td>\n            <td id=\"file-program-cs-LC6\">    {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"7\" id=\"file-program-cs-L7\"></td>\n            <td id=\"file-program-cs-LC7\">        <span>private</span> <span>const</span> <span>char</span> <span>spaceSeparator</span> <span>=</span> <span>' '</span>; <span><span>//</span> space separator character</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"8\" id=\"file-program-cs-L8\"></td>\n            <td id=\"file-program-cs-LC8\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"9\" id=\"file-program-cs-L9\"></td>\n            <td id=\"file-program-cs-LC9\">        <span>static</span> <span>void</span> <span>Main</span>()</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"10\" id=\"file-program-cs-L10\"></td>\n            <td id=\"file-program-cs-LC10\">        {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"11\" id=\"file-program-cs-L11\"></td>\n            <td id=\"file-program-cs-LC11\">            <span><span>//</span> Our source data (state) which will be composed into the final string.</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"12\" id=\"file-program-cs-L12\"></td>\n            <td id=\"file-program-cs-LC12\">            <span>var</span> <span>context</span> <span>=</span> <span>new</span> <span>ContextData</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"13\" id=\"file-program-cs-L13\"></td>\n            <td id=\"file-program-cs-LC13\">            {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"14\" id=\"file-program-cs-L14\"></td>\n            <td id=\"file-program-cs-LC14\">                <span>FirstString</span> <span>=</span> <span><span>\"</span>Hello<span>\"</span></span>,</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"15\" id=\"file-program-cs-L15\"></td>\n            <td id=\"file-program-cs-LC15\">                <span>SecondString</span> <span>=</span> <span><span>\"</span>.NET<span>\"</span></span>,</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"16\" id=\"file-program-cs-L16\"></td>\n            <td id=\"file-program-cs-LC16\">                <span>ThirdString</span> <span>=</span> <span><span>\"</span>friends.<span>\"</span></span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"17\" id=\"file-program-cs-L17\"></td>\n            <td id=\"file-program-cs-LC17\">            };</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"18\" id=\"file-program-cs-L18\"></td>\n            <td id=\"file-program-cs-LC18\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"19\" id=\"file-program-cs-L19\"></td>\n            <td id=\"file-program-cs-LC19\">            <span>var</span> <span>length</span> <span>=</span> <span>context</span>.<span>FirstString</span>.<span>Length</span> <span>+</span> <span>1</span> <span>+</span> </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"20\" id=\"file-program-cs-L20\"></td>\n            <td id=\"file-program-cs-LC20\">                <span>context</span>.<span>SecondString</span>.<span>Length</span> <span>+</span> <span>1</span> <span>+</span> </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"21\" id=\"file-program-cs-L21\"></td>\n            <td id=\"file-program-cs-LC21\">                <span>context</span>.<span>ThirdString</span>.<span>Length</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"22\" id=\"file-program-cs-L22\"></td>\n            <td id=\"file-program-cs-LC22\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"23\" id=\"file-program-cs-L23\"></td>\n            <td id=\"file-program-cs-LC23\">            <span>var</span> <span>buffer</span> <span>=</span> <span>new</span> <span>char</span>[<span>length</span>]; <span><span>//</span> allocation</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"24\" id=\"file-program-cs-L24\"></td>\n            <td id=\"file-program-cs-LC24\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"25\" id=\"file-program-cs-L25\"></td>\n            <td id=\"file-program-cs-LC25\">            <span>var</span> <span>position</span> <span>=</span> <span>0</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"26\" id=\"file-program-cs-L26\"></td>\n            <td id=\"file-program-cs-LC26\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"27\" id=\"file-program-cs-L27\"></td>\n            <td id=\"file-program-cs-LC27\">            <span>for</span> (<span>var</span> <span>i</span> <span>=</span> <span>0</span>; <span>i</span> <span>&lt;</span> <span>context</span>.<span>FirstString</span>.<span>Length</span>; <span>i</span><span>++</span>)</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"28\" id=\"file-program-cs-L28\"></td>\n            <td id=\"file-program-cs-LC28\">            {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"29\" id=\"file-program-cs-L29\"></td>\n            <td id=\"file-program-cs-LC29\">                <span>buffer</span>[<span>i</span>] <span>=</span> <span>context</span>.<span>FirstString</span>[<span>i</span>];</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"30\" id=\"file-program-cs-L30\"></td>\n            <td id=\"file-program-cs-LC30\">                <span>position</span><span>++</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"31\" id=\"file-program-cs-L31\"></td>\n            <td id=\"file-program-cs-LC31\">            }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"32\" id=\"file-program-cs-L32\"></td>\n            <td id=\"file-program-cs-LC32\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"33\" id=\"file-program-cs-L33\"></td>\n            <td id=\"file-program-cs-LC33\">            <span>buffer</span>[<span>position</span><span>++</span>] <span>=</span> <span>spaceSeparator</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"34\" id=\"file-program-cs-L34\"></td>\n            <td id=\"file-program-cs-LC34\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"35\" id=\"file-program-cs-L35\"></td>\n            <td id=\"file-program-cs-LC35\">            <span>for</span> (<span>var</span> <span>i</span> <span>=</span> <span>0</span>; <span>i</span> <span>&lt;</span> <span>context</span>.<span>SecondString</span>.<span>Length</span>; <span>i</span><span>++</span>)</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"36\" id=\"file-program-cs-L36\"></td>\n            <td id=\"file-program-cs-LC36\">            {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"37\" id=\"file-program-cs-L37\"></td>\n            <td id=\"file-program-cs-LC37\">                <span>buffer</span>[<span>position</span><span>++</span>] <span>=</span> <span>context</span>.<span>SecondString</span>[<span>i</span>];</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"38\" id=\"file-program-cs-L38\"></td>\n            <td id=\"file-program-cs-LC38\">            }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"39\" id=\"file-program-cs-L39\"></td>\n            <td id=\"file-program-cs-LC39\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"40\" id=\"file-program-cs-L40\"></td>\n            <td id=\"file-program-cs-LC40\">            <span>buffer</span>[<span>position</span><span>++</span>] <span>=</span> <span>spaceSeparator</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"41\" id=\"file-program-cs-L41\"></td>\n            <td id=\"file-program-cs-LC41\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"42\" id=\"file-program-cs-L42\"></td>\n            <td id=\"file-program-cs-LC42\">            <span>for</span> (<span>var</span> <span>i</span> <span>=</span> <span>0</span>; <span>i</span> <span>&lt;</span> <span>context</span>.<span>ThirdString</span>.<span>Length</span>; <span>i</span><span>++</span>)</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"43\" id=\"file-program-cs-L43\"></td>\n            <td id=\"file-program-cs-LC43\">            {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"44\" id=\"file-program-cs-L44\"></td>\n            <td id=\"file-program-cs-LC44\">                <span>buffer</span>[<span>position</span><span>++</span>] <span>=</span> <span>context</span>.<span>ThirdString</span>[<span>i</span>];</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"45\" id=\"file-program-cs-L45\"></td>\n            <td id=\"file-program-cs-LC45\">            }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"46\" id=\"file-program-cs-L46\"></td>\n            <td id=\"file-program-cs-LC46\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"47\" id=\"file-program-cs-L47\"></td>\n            <td id=\"file-program-cs-LC47\">            <span>Console</span>.<span>WriteLine</span>(<span>new</span> <span>string</span>(<span>buffer</span>)); <span><span>//</span> string allocation + copy</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"48\" id=\"file-program-cs-L48\"></td>\n            <td id=\"file-program-cs-LC48\">        }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"49\" id=\"file-program-cs-L49\"></td>\n            <td id=\"file-program-cs-LC49\">    }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"50\" id=\"file-program-cs-L50\"></td>\n            <td id=\"file-program-cs-LC50\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"51\" id=\"file-program-cs-L51\"></td>\n            <td id=\"file-program-cs-LC51\">    <span>internal</span> <span>struct</span> <span>ContextData</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"52\" id=\"file-program-cs-L52\"></td>\n            <td id=\"file-program-cs-LC52\">    {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"53\" id=\"file-program-cs-L53\"></td>\n            <td id=\"file-program-cs-LC53\">        <span>public</span> <span>string</span> <span>FirstString</span> { <span>get</span>; <span>set</span>; }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"54\" id=\"file-program-cs-L54\"></td>\n            <td id=\"file-program-cs-LC54\">        <span>public</span> <span>string</span> <span>SecondString</span> { <span>get</span>; <span>set</span>; }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"55\" id=\"file-program-cs-L55\"></td>\n            <td id=\"file-program-cs-LC55\">        <span>public</span> <span>string</span> <span>ThirdString</span> { <span>get</span>; <span>set</span>; }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"56\" id=\"file-program-cs-L56\"></td>\n            <td id=\"file-program-cs-LC56\">    }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"57\" id=\"file-program-cs-L57\"></td>\n            <td id=\"file-program-cs-LC57\">}</td>\n          </tr>\n    </tbody></table>\n  </div>\n  \n  <p>Another option would be to use unsafe code, or in .NET Core 2.1 and later, we can use the Span&lt;T&gt; support to safely use a small stack allocated buffer instead of the heap allocated array. As long as the size of the buffer is not too large, this would be a good option and we’d be down to one heap allocation, just for the final string. There would, however, be a copy needed to get the data from the stack memory and into the string heap memory. That has a small execution time cost.</p>\n  <p>The changes to achieve this in our example Main method would look like this:</p>\n  <div translate=\"no\" id=\"gist96253823\">\n  \n    <template>\n    <div class=\"flash flash-warn flash-full d-flex flex-items-center\" data-view-component=\"true\">\n    <svg class=\"octicon octicon-alert\" data-view-component=\"true\" width=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" height=\"16\" aria-hidden=\"true\">\n      <path d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\" fill-rule=\"evenodd\"></path>\n  </svg>\n    \n      <span>\n        This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n        <a href=\"https://github.co/hiddenchars\">Learn more about bidirectional Unicode characters</a>\n      </span>\n  \n  \n    <div class=\"flash-action\" data-view-component=\"true\">      <a class=\"btn-sm btn\" data-view-component=\"true\" href=\"{{ revealButtonHref }}\">  Show hidden characters\n    \n  </a>\n  </div>\n  </div></template>\n  <template>\n    <span class=\"line-alert tooltipped tooltipped-e\" data-view-component=\"true\" aria-label=\"This line has hidden Unicode characters\">\n      <svg class=\"octicon octicon-alert\" data-view-component=\"true\" width=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" height=\"16\" aria-hidden=\"true\">\n      <path d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\" fill-rule=\"evenodd\"></path>\n  </svg>\n  </span></template>\n  \n    <table data-tagsearch-path=\"Program.cs\" data-tagsearch-lang=\"C#\" data-paste-markdown-skip=\"\" data-tab-size=\"8\">\n          <tbody><tr>\n            <td data-line-number=\"1\" id=\"file-program-cs-L1\"></td>\n            <td id=\"file-program-cs-LC1\"><span>static</span> <span>void</span> <span>Main</span>()</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"2\" id=\"file-program-cs-L2\"></td>\n            <td id=\"file-program-cs-LC2\">{</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"3\" id=\"file-program-cs-L3\"></td>\n            <td id=\"file-program-cs-LC3\">    <span><span>//</span> Our source data (state) which will be composed into the final string.</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"4\" id=\"file-program-cs-L4\"></td>\n            <td id=\"file-program-cs-LC4\">    <span>var</span> <span>context</span> <span>=</span> <span>new</span> <span>ContextData</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"5\" id=\"file-program-cs-L5\"></td>\n            <td id=\"file-program-cs-LC5\">    {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"6\" id=\"file-program-cs-L6\"></td>\n            <td id=\"file-program-cs-LC6\">        <span>FirstString</span> <span>=</span> <span><span>\"</span>Hello<span>\"</span></span>,</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"7\" id=\"file-program-cs-L7\"></td>\n            <td id=\"file-program-cs-LC7\">        <span>SecondString</span> <span>=</span> <span><span>\"</span>.NET<span>\"</span></span>,</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"8\" id=\"file-program-cs-L8\"></td>\n            <td id=\"file-program-cs-LC8\">        <span>ThirdString</span> <span>=</span> <span><span>\"</span>friends.<span>\"</span></span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"9\" id=\"file-program-cs-L9\"></td>\n            <td id=\"file-program-cs-LC9\">    };</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"10\" id=\"file-program-cs-L10\"></td>\n            <td id=\"file-program-cs-LC10\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"11\" id=\"file-program-cs-L11\"></td>\n            <td id=\"file-program-cs-LC11\">    <span>var</span> <span>length</span> <span>=</span> <span>context</span>.<span>FirstString</span>.<span>Length</span> <span>+</span> <span>1</span> <span>+</span> </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"12\" id=\"file-program-cs-L12\"></td>\n            <td id=\"file-program-cs-LC12\">        <span>context</span>.<span>SecondString</span>.<span>Length</span> <span>+</span> <span>1</span> <span>+</span> </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"13\" id=\"file-program-cs-L13\"></td>\n            <td id=\"file-program-cs-LC13\">        <span>context</span>.<span>ThirdString</span>.<span>Length</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"14\" id=\"file-program-cs-L14\"></td>\n            <td id=\"file-program-cs-LC14\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"15\" id=\"file-program-cs-L15\"></td>\n            <td id=\"file-program-cs-LC15\">    <span><span>//</span> In real-world code we should ensure we don't try to allocate too much on the stack!</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"16\" id=\"file-program-cs-L16\"></td>\n            <td id=\"file-program-cs-LC16\">    <span><span>//</span> Ignoring that risk for this example.</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"17\" id=\"file-program-cs-L17\"></td>\n            <td id=\"file-program-cs-LC17\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"18\" id=\"file-program-cs-L18\"></td>\n            <td id=\"file-program-cs-LC18\">    <span>Span</span>&lt;<span>char</span>&gt; <span>buffer</span> <span>=</span> <span>stackalloc</span> <span>char</span>[<span>length</span>]; <span><span>//</span> DOES NOT heap allocate</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"19\" id=\"file-program-cs-L19\"></td>\n            <td id=\"file-program-cs-LC19\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"20\" id=\"file-program-cs-L20\"></td>\n            <td id=\"file-program-cs-LC20\">    <span>var</span> <span>position</span> <span>=</span> <span>0</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"21\" id=\"file-program-cs-L21\"></td>\n            <td id=\"file-program-cs-LC21\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"22\" id=\"file-program-cs-L22\"></td>\n            <td id=\"file-program-cs-LC22\">    <span>for</span> (<span>var</span> <span>i</span> <span>=</span> <span>0</span>; <span>i</span> <span>&lt;</span> <span>context</span>.<span>FirstString</span>.<span>Length</span>; <span>i</span><span>++</span>)</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"23\" id=\"file-program-cs-L23\"></td>\n            <td id=\"file-program-cs-LC23\">    {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"24\" id=\"file-program-cs-L24\"></td>\n            <td id=\"file-program-cs-LC24\">        <span>buffer</span>[<span>i</span>] <span>=</span> <span>context</span>.<span>FirstString</span>[<span>i</span>];</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"25\" id=\"file-program-cs-L25\"></td>\n            <td id=\"file-program-cs-LC25\">        <span>position</span><span>++</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"26\" id=\"file-program-cs-L26\"></td>\n            <td id=\"file-program-cs-LC26\">    }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"27\" id=\"file-program-cs-L27\"></td>\n            <td id=\"file-program-cs-LC27\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"28\" id=\"file-program-cs-L28\"></td>\n            <td id=\"file-program-cs-LC28\">    <span>buffer</span>[<span>position</span><span>++</span>] <span>=</span> <span>spaceSeparator</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"29\" id=\"file-program-cs-L29\"></td>\n            <td id=\"file-program-cs-LC29\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"30\" id=\"file-program-cs-L30\"></td>\n            <td id=\"file-program-cs-LC30\">    <span>for</span> (<span>var</span> <span>i</span> <span>=</span> <span>0</span>; <span>i</span> <span>&lt;</span> <span>context</span>.<span>SecondString</span>.<span>Length</span>; <span>i</span><span>++</span>)</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"31\" id=\"file-program-cs-L31\"></td>\n            <td id=\"file-program-cs-LC31\">    {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"32\" id=\"file-program-cs-L32\"></td>\n            <td id=\"file-program-cs-LC32\">        <span>buffer</span>[<span>position</span><span>++</span>] <span>=</span> <span>context</span>.<span>SecondString</span>[<span>i</span>];</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"33\" id=\"file-program-cs-L33\"></td>\n            <td id=\"file-program-cs-LC33\">    }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"34\" id=\"file-program-cs-L34\"></td>\n            <td id=\"file-program-cs-LC34\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"35\" id=\"file-program-cs-L35\"></td>\n            <td id=\"file-program-cs-LC35\">    <span>buffer</span>[<span>position</span><span>++</span>] <span>=</span> <span>spaceSeparator</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"36\" id=\"file-program-cs-L36\"></td>\n            <td id=\"file-program-cs-LC36\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"37\" id=\"file-program-cs-L37\"></td>\n            <td id=\"file-program-cs-LC37\">    <span>for</span> (<span>var</span> <span>i</span> <span>=</span> <span>0</span>; <span>i</span> <span>&lt;</span> <span>context</span>.<span>ThirdString</span>.<span>Length</span>; <span>i</span><span>++</span>)</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"38\" id=\"file-program-cs-L38\"></td>\n            <td id=\"file-program-cs-LC38\">    {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"39\" id=\"file-program-cs-L39\"></td>\n            <td id=\"file-program-cs-LC39\">        <span>buffer</span>[<span>position</span><span>++</span>] <span>=</span> <span>context</span>.<span>ThirdString</span>[<span>i</span>];</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"40\" id=\"file-program-cs-L40\"></td>\n            <td id=\"file-program-cs-LC40\">    }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"41\" id=\"file-program-cs-L41\"></td>\n            <td id=\"file-program-cs-LC41\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"42\" id=\"file-program-cs-L42\"></td>\n            <td id=\"file-program-cs-LC42\">    <span>Console</span>.<span>WriteLine</span>(<span>new</span> <span>string</span>(<span>buffer</span>)); <span><span>//</span> string allocation + copy from stack memory</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"43\" id=\"file-program-cs-L43\"></td>\n            <td id=\"file-program-cs-LC43\">}</td>\n          </tr>\n    </tbody></table>\n  </div>\n  \n  <p>Getting back to String.Create, we can now understand how this gives us the best possible performance. By avoiding the need to pre-buffer our characters, even if that is on the stack, it means that our logic, used to construct the string is acting directly on the final region of memory which the string will reference. Done correctly, we can build strings programmatically, with no intermediate allocations and very high-performance.</p>\n  <p>Within the SpanAction, we have access to the Span&lt;char&gt; over the memory which the string occupies. We can modify that memory via the Span, slicing into the appropriate positions and writing characters into the underlying array. The state that we have passed in will allow us to use existing data to build up our string. There’s an important point here which you may already be wondering about. Why does the state get passed into the Create method directly? Why can’t we just reference the data we need from the delegate code?</p>\n  <p>The reason is that the latter approach would result in a closure if we capture a variable. The compiler will have to generate a class to deal with this which is a heap allocation we want to avoid here. Also, a closure here would prevent caching of the delegate, which itself is a performance hit we cannot afford. Instead, the Create method accepts the state as a parameter to avoid the need for the delegate to form a closure.</p>\n  <p>This is a little complex to explain, but the take away here is to make sure any objects that you need to access in order to create your string are included in the state. If you have more than one object to pass, the recommended pattern is to use a <a rel=\"noopener\" href=\"https://blogs.msdn.microsoft.com/mazhou/2017/05/26/c-7-series-part-1-value-tuples/\">ValueTuple</a>. Since this is a struct it does not allocate anything and once inside the delegate you can deconstruct it to get the constituent parts.</p>\n  <h2>A Quick Example of Using String.Create</h2>\n  <p>Before we dive into a real-world example, let’s quickly look at how to use String.Create.</p>\n  <div translate=\"no\" id=\"gist96250557\">\n  \n    <template>\n    <div class=\"flash flash-warn flash-full d-flex flex-items-center\" data-view-component=\"true\">\n    <svg class=\"octicon octicon-alert\" data-view-component=\"true\" width=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" height=\"16\" aria-hidden=\"true\">\n      <path d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\" fill-rule=\"evenodd\"></path>\n  </svg>\n    \n      <span>\n        This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n        <a href=\"https://github.co/hiddenchars\">Learn more about bidirectional Unicode characters</a>\n      </span>\n  \n  \n    <div class=\"flash-action\" data-view-component=\"true\">      <a class=\"btn-sm btn\" data-view-component=\"true\" href=\"{{ revealButtonHref }}\">  Show hidden characters\n    \n  </a>\n  </div>\n  </div></template>\n  <template>\n    <span class=\"line-alert tooltipped tooltipped-e\" data-view-component=\"true\" aria-label=\"This line has hidden Unicode characters\">\n      <svg class=\"octicon octicon-alert\" data-view-component=\"true\" width=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" height=\"16\" aria-hidden=\"true\">\n      <path d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\" fill-rule=\"evenodd\"></path>\n  </svg>\n  </span></template>\n  \n    <table data-tagsearch-path=\"Program.cs\" data-tagsearch-lang=\"C#\" data-paste-markdown-skip=\"\" data-tab-size=\"8\">\n          <tbody><tr>\n            <td data-line-number=\"1\" id=\"file-program-cs-L1\"></td>\n            <td id=\"file-program-cs-LC1\"><span>using</span> <span>System</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"2\" id=\"file-program-cs-L2\"></td>\n            <td id=\"file-program-cs-LC2\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"3\" id=\"file-program-cs-L3\"></td>\n            <td id=\"file-program-cs-LC3\"><span>namespace</span> <span>StringCreateSample</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"4\" id=\"file-program-cs-L4\"></td>\n            <td id=\"file-program-cs-LC4\">{</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"5\" id=\"file-program-cs-L5\"></td>\n            <td id=\"file-program-cs-LC5\">    <span>class</span> <span>Program</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"6\" id=\"file-program-cs-L6\"></td>\n            <td id=\"file-program-cs-LC6\">    {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"7\" id=\"file-program-cs-L7\"></td>\n            <td id=\"file-program-cs-LC7\">        <span>private</span> <span>const</span> <span>char</span> <span>spaceSeparator</span> <span>=</span> <span>' '</span>; <span><span>//</span> space separator character</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"8\" id=\"file-program-cs-L8\"></td>\n            <td id=\"file-program-cs-LC8\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"9\" id=\"file-program-cs-L9\"></td>\n            <td id=\"file-program-cs-LC9\">        <span>static</span> <span>void</span> <span>Main</span>()</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"10\" id=\"file-program-cs-L10\"></td>\n            <td id=\"file-program-cs-LC10\">        {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"11\" id=\"file-program-cs-L11\"></td>\n            <td id=\"file-program-cs-LC11\">            <span><span>//</span> Our source data (state) which will be composed into the final string.</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"12\" id=\"file-program-cs-L12\"></td>\n            <td id=\"file-program-cs-LC12\">            <span>var</span> <span>context</span> <span>=</span> <span>new</span> <span>ContextData</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"13\" id=\"file-program-cs-L13\"></td>\n            <td id=\"file-program-cs-LC13\">            {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"14\" id=\"file-program-cs-L14\"></td>\n            <td id=\"file-program-cs-LC14\">                <span>FirstString</span> <span>=</span> <span><span>\"</span>Hello<span>\"</span></span>,</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"15\" id=\"file-program-cs-L15\"></td>\n            <td id=\"file-program-cs-LC15\">                <span>SecondString</span> <span>=</span> <span><span>\"</span>.NET<span>\"</span></span>,</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"16\" id=\"file-program-cs-L16\"></td>\n            <td id=\"file-program-cs-LC16\">                <span>ThirdString</span> <span>=</span> <span><span>\"</span>friends.<span>\"</span></span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"17\" id=\"file-program-cs-L17\"></td>\n            <td id=\"file-program-cs-LC17\">            };</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"18\" id=\"file-program-cs-L18\"></td>\n            <td id=\"file-program-cs-LC18\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"19\" id=\"file-program-cs-L19\"></td>\n            <td id=\"file-program-cs-LC19\">            <span>var</span> <span>length</span> <span>=</span> <span>context</span>.<span>FirstString</span>.<span>Length</span> <span>+</span> <span>1</span> <span>+</span> </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"20\" id=\"file-program-cs-L20\"></td>\n            <td id=\"file-program-cs-LC20\">                <span>context</span>.<span>SecondString</span>.<span>Length</span> <span>+</span> <span>1</span> <span>+</span> </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"21\" id=\"file-program-cs-L21\"></td>\n            <td id=\"file-program-cs-LC21\">                <span>context</span>.<span>ThirdString</span>.<span>Length</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"22\" id=\"file-program-cs-L22\"></td>\n            <td id=\"file-program-cs-LC22\">            </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"23\" id=\"file-program-cs-L23\"></td>\n            <td id=\"file-program-cs-LC23\">            <span>var</span> <span>myString</span> <span>=</span> <span>string</span>.<span>Create</span>(<span>length</span>, <span>context</span>, (<span>chars</span>, <span>state</span>) <span>=&gt;</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"24\" id=\"file-program-cs-L24\"></td>\n            <td id=\"file-program-cs-LC24\">            {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"25\" id=\"file-program-cs-L25\"></td>\n            <td id=\"file-program-cs-LC25\">                <span><span>//</span> NOTE: We don't access the context variable in this delegate since </span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"26\" id=\"file-program-cs-L26\"></td>\n            <td id=\"file-program-cs-LC26\">                <span><span>//</span> it would cause a closure and allocation.</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"27\" id=\"file-program-cs-L27\"></td>\n            <td id=\"file-program-cs-LC27\">                <span><span>//</span> Instead we access the state parameter.</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"28\" id=\"file-program-cs-L28\"></td>\n            <td id=\"file-program-cs-LC28\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"29\" id=\"file-program-cs-L29\"></td>\n            <td id=\"file-program-cs-LC29\">                <span><span>//</span> will track our position within the string data we are populating</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"30\" id=\"file-program-cs-L30\"></td>\n            <td id=\"file-program-cs-LC30\">                <span>var</span> <span>position</span> <span>=</span> <span>0</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"31\" id=\"file-program-cs-L31\"></td>\n            <td id=\"file-program-cs-LC31\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"32\" id=\"file-program-cs-L32\"></td>\n            <td id=\"file-program-cs-LC32\">                <span><span>//</span> copy the first string data to index 0 of the Span&lt;char&gt;</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"33\" id=\"file-program-cs-L33\"></td>\n            <td id=\"file-program-cs-LC33\">                <span>state</span>.<span>FirstString</span>.<span>AsSpan</span>().<span>CopyTo</span>(<span>chars</span>);</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"34\" id=\"file-program-cs-L34\"></td>\n            <td id=\"file-program-cs-LC34\">                <span>position</span> <span>+=</span> <span>state</span>.<span>FirstString</span>.<span>Length</span>; <span><span>//</span> update the position</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"35\" id=\"file-program-cs-L35\"></td>\n            <td id=\"file-program-cs-LC35\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"36\" id=\"file-program-cs-L36\"></td>\n            <td id=\"file-program-cs-LC36\">                <span><span>//</span> add a space in the current position and increement position by 1</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"37\" id=\"file-program-cs-L37\"></td>\n            <td id=\"file-program-cs-LC37\">                <span>chars</span>[<span>position</span><span>++</span>] <span>=</span> <span>spaceSeparator</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"38\" id=\"file-program-cs-L38\"></td>\n            <td id=\"file-program-cs-LC38\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"39\" id=\"file-program-cs-L39\"></td>\n            <td id=\"file-program-cs-LC39\">                <span><span>//</span> copy the second string data to a slice at current position</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"40\" id=\"file-program-cs-L40\"></td>\n            <td id=\"file-program-cs-LC40\">                <span>state</span>.<span>SecondString</span>.<span>AsSpan</span>().<span>CopyTo</span>(<span>chars</span>.<span>Slice</span>(<span>position</span>)); </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"41\" id=\"file-program-cs-L41\"></td>\n            <td id=\"file-program-cs-LC41\">                <span>position</span> <span>+=</span> <span>state</span>.<span>SecondString</span>.<span>Length</span>; <span><span>//</span> update the position</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"42\" id=\"file-program-cs-L42\"></td>\n            <td id=\"file-program-cs-LC42\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"43\" id=\"file-program-cs-L43\"></td>\n            <td id=\"file-program-cs-LC43\">                <span><span>//</span> add a space in the current position and increement position by 1</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"44\" id=\"file-program-cs-L44\"></td>\n            <td id=\"file-program-cs-LC44\">                <span>chars</span>[<span>position</span><span>++</span>] <span>=</span> <span>spaceSeparator</span>;</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"45\" id=\"file-program-cs-L45\"></td>\n            <td id=\"file-program-cs-LC45\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"46\" id=\"file-program-cs-L46\"></td>\n            <td id=\"file-program-cs-LC46\">                <span><span>//</span> copy the third string data to a slice at current position</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"47\" id=\"file-program-cs-L47\"></td>\n            <td id=\"file-program-cs-LC47\">                <span>state</span>.<span>ThirdString</span>.<span>AsSpan</span>().<span>CopyTo</span>(<span>chars</span>.<span>Slice</span>(<span>position</span>)); </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"48\" id=\"file-program-cs-L48\"></td>\n            <td id=\"file-program-cs-LC48\">            });</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"49\" id=\"file-program-cs-L49\"></td>\n            <td id=\"file-program-cs-LC49\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"50\" id=\"file-program-cs-L50\"></td>\n            <td id=\"file-program-cs-LC50\">            <span>Console</span>.<span>WriteLine</span>(<span>myString</span>);</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"51\" id=\"file-program-cs-L51\"></td>\n            <td id=\"file-program-cs-LC51\">        }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"52\" id=\"file-program-cs-L52\"></td>\n            <td id=\"file-program-cs-LC52\">    }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"53\" id=\"file-program-cs-L53\"></td>\n            <td id=\"file-program-cs-LC53\">\n  </td>\n          </tr>\n          <tr>\n            <td data-line-number=\"54\" id=\"file-program-cs-L54\"></td>\n            <td id=\"file-program-cs-LC54\">    <span>internal</span> <span>struct</span> <span>ContextData</span></td>\n          </tr>\n          <tr>\n            <td data-line-number=\"55\" id=\"file-program-cs-L55\"></td>\n            <td id=\"file-program-cs-LC55\">    {</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"56\" id=\"file-program-cs-L56\"></td>\n            <td id=\"file-program-cs-LC56\">        <span>public</span> <span>string</span> <span>FirstString</span> { <span>get</span>; <span>set</span>; }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"57\" id=\"file-program-cs-L57\"></td>\n            <td id=\"file-program-cs-LC57\">        <span>public</span> <span>string</span> <span>SecondString</span> { <span>get</span>; <span>set</span>; }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"58\" id=\"file-program-cs-L58\"></td>\n            <td id=\"file-program-cs-LC58\">        <span>public</span> <span>string</span> <span>ThirdString</span> { <span>get</span>; <span>set</span>; }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"59\" id=\"file-program-cs-L59\"></td>\n            <td id=\"file-program-cs-LC59\">    }</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"60\" id=\"file-program-cs-L60\"></td>\n            <td id=\"file-program-cs-LC60\">}</td>\n          </tr>\n    </tbody></table>\n  </div>\n  \n  <p>The comments in this code explain what is happening, step-by-step. In summary, we have a ContextData object which contains three strings we want to use to build a final string. First, we calculate the length needed for our final string, which includes the component parts and the spaces between them. We pass the length to string.Create as well as passing the context as the state argument. Finally, we define the code for the SpanAction delegate which slices into the underlying Span&lt;char&gt; to copy the component parts into the correct locations within the final string. All of this occurs with the single heap allocation for the memory needed by the string.</p>\n  <h2>How To Use String.Create – A Real World Example</h2>\n  <p>Let’s now look at a worked example based on a real situation I faced. Note that this is still demo code. It’s based on a production requirement I had but I have simplified it so that we can focus on specific techniques. I’m reasonably sure it can be further optimised!</p>\n  <p>In my talk, ‘Turbocharged: Writing High-Performance C# and .NET Code’, I discuss an example of a service where after reading a message from an AWS SQS queue, I need to store the message body into an S3 bucket. When storing a blob into S3 we must provide a unique key for the object. As a result, this service must compute the key to pass into the AWS SDK when uploading the object. In our case, this occurs 18 million times per day so even a small gain in performance can have a significant effect at scale.</p>\n  <p>The key is formed of eight elements from the incoming message. Only lowercase letters, numbers and underscores are allowed in the final key and any spaces should be converted to underscores. The first approach to building the string used an array to hold the constituent parts and then joined the pieces together to form the final string. I won’t show all of the code in this post, but you can check out <a rel=\"noopener\" href=\"https://github.com/stevejgordon/TurbochargedDemos/blob/master/src/1%20-%20ObjectKeyBuilderDemo/S3ObjectKeyGenerator.cs\">an example in my GitHub repo</a>.</p>\n  <p>The second iteration used a stack allocated array of chars as a buffer to form the final data for the string. Using a Span&lt;char&gt; over that memory, I was then able to copy the various elements into the stack allocated buffer. Calling ToString on the Span&lt;char&gt; resulted in the creation of the final string for the object key. Again, I won’t show that code here since it’s quite lengthy. That is also <a rel=\"noopener\" href=\"https://github.com/stevejgordon/TurbochargedDemos/blob/master/src/1%20-%20ObjectKeyBuilderDemo/S3ObjectKeyGeneratorNew.cs\">available in my repo</a> if you want to check it out.</p>\n  <p>In the final iteration, I utilised String.Create which meant I could avoid the memory copy from the stack allocated buffer into the heap memory for the string. If you’d like to explore that code, that too is in my <a rel=\"noopener\" href=\"https://github.com/stevejgordon/TurbochargedDemos/blob/master/src/1%20-%20ObjectKeyBuilderDemo/S3ObjectKeyGeneratorNewV2.cs\">GitHub repo</a>.</p>\n  <p>Do bear in mind that these samples are not fully optimised and are designed to demonstrate some specific techniques rather than complete optimisations. The String.Create in my case is only marginally quicker in the benchmarks that I’ve run. I’ll be exploring that more deeply in the future. Here is my benchmark result comparing the two approaches.</p>\n  \n  \n  <p>In most cases, the String.Create approach is a few nanoseconds quicker, but in some benchmark test runs, it came up a few nanoseconds slower. Potentially I have some further optimisations I could apply to the transformation logic which may account for this.&nbsp;Logically, the less work needed to copy data from the stack memory into the strings heap memory should be more efficient, but its always worth testing for your actual scenario.</p>\n  <p>To investigate this, I did some benchmarking of purely String.Create vs. stackalloc creation. For shorter lengths of strings, stackalloc seemed to only be marginally quicker. Here’s a benchmark where I combined short strings of 10 characters using both approaches. The count in this case in the number of strings combined in each test. At only five items there’s not much in it at all. By the time it gets to combining 100 strings, the performance improvement from using String.Create is more apparent.</p>\n  <div translate=\"no\" id=\"gist96250761\">\n  \n    <template>\n    <div class=\"flash flash-warn flash-full d-flex flex-items-center\" data-view-component=\"true\">\n    <svg class=\"octicon octicon-alert\" data-view-component=\"true\" width=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" height=\"16\" aria-hidden=\"true\">\n      <path d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\" fill-rule=\"evenodd\"></path>\n  </svg>\n    \n      <span>\n        This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n        <a href=\"https://github.co/hiddenchars\">Learn more about bidirectional Unicode characters</a>\n      </span>\n  \n  \n    <div class=\"flash-action\" data-view-component=\"true\">      <a class=\"btn-sm btn\" data-view-component=\"true\" href=\"{{ revealButtonHref }}\">  Show hidden characters\n    \n  </a>\n  </div>\n  </div></template>\n  <template>\n    <span class=\"line-alert tooltipped tooltipped-e\" data-view-component=\"true\" aria-label=\"This line has hidden Unicode characters\">\n      <svg class=\"octicon octicon-alert\" data-view-component=\"true\" width=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" height=\"16\" aria-hidden=\"true\">\n      <path d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\" fill-rule=\"evenodd\"></path>\n  </svg>\n  </span></template>\n  \n    <table data-tagsearch-path=\"Results.txt\" data-tagsearch-lang=\"Text\" data-paste-markdown-skip=\"\" data-tab-size=\"8\">\n          <tbody><tr>\n            <td data-line-number=\"1\" id=\"file-results-txt-L1\"></td>\n            <td id=\"file-results-txt-LC1\">|       Method | Count |      Mean |      Error |     StdDev |  Gen 0 | Gen 1 | Gen 2 | Allocated |</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"2\" id=\"file-results-txt-L2\"></td>\n            <td id=\"file-results-txt-LC2\">|------------- |------ |----------:|-----------:|-----------:|-------:|------:|------:|----------:|</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"3\" id=\"file-results-txt-L3\"></td>\n            <td id=\"file-results-txt-LC3\">| StringCreate |     5 |  47.51 ns |  0.9980 ns |  0.9335 ns | 0.0917 |     - |     - |     192 B |</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"4\" id=\"file-results-txt-L4\"></td>\n            <td id=\"file-results-txt-LC4\">|   StackAlloc |     5 |  48.21 ns |  0.6344 ns |  0.5934 ns | 0.0612 |     - |     - |     128 B |</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"5\" id=\"file-results-txt-L5\"></td>\n            <td id=\"file-results-txt-LC5\">| StringCreate |    20 | 141.36 ns |  2.9223 ns |  3.5888 ns | 0.2332 |     - |     - |     488 B |</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"6\" id=\"file-results-txt-L6\"></td>\n            <td id=\"file-results-txt-LC6\">|   StackAlloc |    20 | 164.38 ns |  2.3871 ns |  2.2329 ns | 0.2027 |     - |     - |     424 B |</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"7\" id=\"file-results-txt-L7\"></td>\n            <td id=\"file-results-txt-LC7\">| StringCreate |   100 | 626.67 ns | 12.4001 ns | 11.5990 ns | 0.9975 |     - |     - |    2088 B |</td>\n          </tr>\n          <tr>\n            <td data-line-number=\"8\" id=\"file-results-txt-L8\"></td>\n            <td id=\"file-results-txt-LC8\">|   StackAlloc |   100 | 805.53 ns | 11.6922 ns | 10.9369 ns | 0.9670 |     - |     - |    2024 B |</td>\n          </tr>\n    </tbody></table>\n  </div>\n  \n  <p>If you are interested in another example use case for String.Create, I’ve identified a place in the ASP.NET Core code-based where String.Create should improve performance. I’ve <a rel=\"noopener\" href=\"https://github.com/aspnet/AspNetCore/issues/10290\">raised a GitHub issue</a> demonstrating this and hope to be involved in creating a PR to proposed the final optimisation.</p>\n  <h2>String.Create Best Practices</h2>\n  <p>There has been quite a lot of information in this post to explain a single method. Let’s conclude by reviewing the most important points.</p>\n  <ul>\n  <li>String.Create provides a high-performance, low allocation approach to programmatically creating a string.</li>\n  <li>As with all performance optimisations, benchmark your original solution and ensure that the changes have a positive effect.</li>\n  <li>Avoid closures and make sure that you don’t capture external variables in your SpanAction delegate.</li>\n  <li>Use ValueTuples to pass multiple objects for the state.</li>\n  </ul>\n  <h2>Limitations of String.Create</h2>\n  <p>Using String.Create is more involved that some of the other ways to create a new string that you may be familiar with. I don’t recommend using this everywhere, but in hot paths, in performant applications, it may provide some worthwhile gains. The biggest limitation which you may hit is that you must know in advance (or be able to calculate) the exact length of the string which you require. You may need to access the lengths of all of the constituent state objects in order to compute the length of the final string. In some cases, where you have a lot of conditional logic when building a string, just knowing the lengths of the parts might not be enough.</p>\n  <h2>Summary</h2>\n  <p>String.Create is useful in high-performance scenarios. It’s relatively straight-forward to use once you understand the rules about how it operates. Therefore, it’s a tool worth remembering if you are optimising hot paths in your applications and may have a significant gain in applications with parse and produce strings often as part of their primary function.</p>\n  <p>Thanks for reading! If you’d like to read more about high-performance .NET and C# code, you can see my full blog post series <a href=\"https://www.stevejgordon.co.uk/writing-high-performance-csharp-and-dotnet-code\">here</a>.</p>\n  </div><div id=\"pryc-wp-acctp-bottom\"><div>\n  <hr>\n  <p>Have you enjoyed this post and found it useful? If so, please consider supporting me:</p>\n  <p>\n  <a href=\"https://www.buymeacoffee.com/stevejgordon\"><img alt=\"Buy me a coffee\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sghRvd6pvvK7Vz5EyIElHJTGYLPfLbdZgsnr5olxl9M0/https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg\"><span>Buy me a coffee</span></a> <a rel=\"noopener\" href=\"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=WV4JPPV9FS34L&amp;source=url\">\n  <img loading=\"lazy\" alt=\"Donate with PayPal\" height=\"33\" width=\"125\" src=\"https://proxy-prod.omnivore-image-cache.app/125x33,s9u8o5Wtm4nLlzubQTTNGVD9MbJeiQBCYcxYE1ys0d4s/https://www.stevejgordon.co.uk/wp-content/uploads/2020/07/PaypalLogo.png\">\n  </a>\n  </p>\n  </div>\n  <div id=\"mlb2-2345524\">\n            <h4>Subscribe to Code with Steve</h4>\n            <p>Signup for updates, including new blogs posts and content.</p>\n          </div></div></div><div>\n  \n            \n            <p>\n                  Steve Gordon is a Microsoft MVP, Pluralsight author, senior engineer and community lead. He works for <a href=\"https://www.elastic.co/\">Elastic</a>. maintaining their .NET language clients. Steve is passionate about community and all things .NET related, having worked with ASP.NET for over 16 years.\n  \n  Steve enjoys sharing his knowledge through his blog, in videos and by presenting at user groups and conferences. Steve is excited to be a part of the .NET community and founded .NET South East, a .NET Meetup group based in Brighton. He enjoys contributing to and maintaining OSS projects. You can find Steve on <a href=\"https://twitter.com/stevejgordon\">Twitter as @stevejgordon</a></p>\n  \n          </div></div>",
    "labels": "dotnet"
  },
  {
    "description": "Solving technical challenges with WASM",
    "title": "How we use WebAssembly at Fiberplane",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div><div><nav><a href=\"https://fiberplane.dev/\"><svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" height=\"25\" width=\"121\"><path fill=\"#000\" d=\"M.078 17.9V4.17h8.617v2.659H2.523v3.43h4.771v2.255h-4.77V17.9H.077zM11.546 6.977c-.45 0-.806-.13-1.091-.404a1.336 1.336 0 0 1-.428-1.009c0-.403.143-.735.428-.997.284-.26.652-.391 1.091-.391.44 0 .808.13 1.092.391.285.262.428.594.428.997 0 .404-.143.748-.428 1.01-.284.272-.64.403-1.091.403zm-1.222 10.919V8.448h2.445v9.46h-2.445v-.012zM20.028 18.133c-.712 0-1.33-.13-1.864-.403a3.301 3.301 0 0 1-1.293-1.128l-.261 1.294h-2.172V4.176h2.444v5.626a4.55 4.55 0 0 1 1.211-1.104c.498-.32 1.151-.475 1.958-.475.89 0 1.686.214 2.386.653.7.427 1.246 1.02 1.662 1.768.403.748.605 1.602.605 2.552s-.202 1.804-.605 2.54a4.554 4.554 0 0 1-1.662 1.756c-.724.428-1.52.641-2.41.641zm-.523-2.136c.772 0 1.413-.261 1.923-.783.51-.523.76-1.2.76-2.018 0-.83-.25-1.507-.76-2.041-.51-.535-1.151-.796-1.923-.796-.783 0-1.436.261-1.934.796-.499.522-.748 1.198-.748 2.03 0 .83.25 1.506.748 2.029.51.51 1.151.783 1.934.783zM30.945 18.133c-.95 0-1.804-.202-2.54-.605a4.319 4.319 0 0 1-1.733-1.721c-.415-.736-.629-1.59-.629-2.552 0-.973.202-1.852.617-2.611a4.516 4.516 0 0 1 1.721-1.78c.736-.428 1.59-.641 2.587-.641.926 0 1.745.201 2.457.605a4.36 4.36 0 0 1 1.674 1.673c.403.7.605 1.496.605 2.35 0 .143 0 .285-.012.44-.012.154-.012.308-.024.474h-7.192c.047.736.309 1.318.771 1.733.463.416 1.021.63 1.686.63.498 0 .914-.108 1.246-.333.332-.226.593-.51.748-.867h2.48a4.461 4.461 0 0 1-.89 1.626 4.347 4.347 0 0 1-1.53 1.152c-.606.285-1.283.427-2.042.427zm.012-7.94c-.594 0-1.128.166-1.579.51-.463.333-.748.843-.878 1.531h4.712c-.036-.617-.262-1.115-.689-1.483-.415-.368-.937-.558-1.566-.558zM37.023 17.893V8.445h2.172l.226 1.769a4.028 4.028 0 0 1 1.4-1.46c.594-.368 1.282-.546 2.09-.546v2.575h-.69c-.533 0-1.008.084-1.423.25a1.97 1.97 0 0 0-.985.854c-.238.404-.357.973-.357 1.697v4.309h-2.433zM44.29 22.168V8.448h2.171l.261 1.353a4.548 4.548 0 0 1 1.21-1.104c.5-.32 1.152-.474 1.96-.474.89 0 1.684.213 2.385.652.7.428 1.246 1.021 1.661 1.769.404.748.605 1.602.605 2.552s-.201 1.804-.605 2.54a4.552 4.552 0 0 1-1.661 1.756c-.7.427-1.496.641-2.386.641-.712 0-1.33-.13-1.863-.404a3.3 3.3 0 0 1-1.294-1.127v5.566h-2.445zm5.09-6.171c.772 0 1.413-.261 1.923-.784.51-.522.76-1.198.76-2.017 0-.831-.25-1.508-.76-2.042-.51-.534-1.15-.795-1.922-.795-.784 0-1.436.261-1.935.795-.498.522-.748 1.199-.748 2.03 0 .83.25 1.507.748 2.03.499.51 1.151.783 1.935.783zM55.871 17.896V4.176h2.445v13.732h-2.445v-.012zM62.998 18.133c-.819 0-1.484-.13-2.006-.392-.522-.26-.914-.605-1.163-1.044a2.81 2.81 0 0 1-.38-1.424c0-.879.344-1.59 1.033-2.137.688-.546 1.72-.819 3.086-.819h2.397v-.225c0-.653-.19-1.128-.558-1.424-.368-.309-.83-.463-1.376-.463-.499 0-.926.118-1.294.356-.368.237-.594.581-.689 1.044h-2.385c.06-.688.297-1.282.7-1.792.404-.51.914-.902 1.555-1.175a5.358 5.358 0 0 1 2.136-.415c1.353 0 2.41.332 3.181 1.008.772.677 1.163 1.627 1.163 2.86v5.816h-2.077l-.225-1.53c-.285.51-.665.925-1.175 1.258-.487.332-1.128.498-1.923.498zm.558-1.91c.7 0 1.246-.226 1.626-.69.391-.462.629-1.02.736-1.697H63.84c-.653 0-1.116.12-1.389.357a1.072 1.072 0 0 0-.415.866c0 .368.142.653.415.855.273.201.64.308 1.104.308zM69.781 17.896V8.448h2.16l.19 1.602a3.26 3.26 0 0 1 1.27-1.329c.558-.332 1.199-.498 1.959-.498 1.174 0 2.076.368 2.73 1.103.652.736.972 1.816.972 3.24v5.341h-2.444v-5.103c0-.819-.167-1.436-.499-1.863-.332-.428-.843-.653-1.543-.653-.688 0-1.246.237-1.685.724-.44.486-.653 1.151-.653 2.017v4.878h-2.457v-.011zM85.277 18.133c-.95 0-1.804-.202-2.54-.605a4.318 4.318 0 0 1-1.733-1.721c-.415-.736-.629-1.59-.629-2.552 0-.973.202-1.852.617-2.611a4.516 4.516 0 0 1 1.721-1.78c.736-.428 1.59-.641 2.588-.641.925 0 1.744.201 2.456.605a4.36 4.36 0 0 1 1.674 1.673c.403.7.605 1.496.605 2.35 0 .143 0 .285-.012.44-.012.154-.012.308-.023.474h-7.205c.048.736.309 1.318.772 1.733.463.416 1.02.63 1.685.63.498 0 .914-.108 1.246-.333.333-.226.594-.51.748-.867h2.48a4.463 4.463 0 0 1-.89 1.626 4.347 4.347 0 0 1-1.53 1.152c-.582.285-1.27.427-2.03.427zm.023-7.94c-.593 0-1.127.166-1.578.51-.463.333-.748.843-.878 1.531h4.7c-.036-.617-.261-1.115-.689-1.483-.415-.368-.937-.558-1.555-.558z\"></path><path fill=\"url(#a)\" d=\"M108.426 25c5.477 0 8.522 0 10.511-1.989 1.989-1.989 1.989-5.034 1.989-10.511 0-5.477 0-8.522-1.989-10.511C116.948 0 113.903 0 108.426 0c-5.478 0-8.523 0-10.511 1.989-1.99 1.989-1.99 5.034-1.99 10.511 0 5.477 0 8.522 1.99 10.511C99.903 25 102.948 25 108.426 25z\"></path><path fill=\"#fff\" d=\"M101.906 10.63v1.866l7.22.014.426-1.864-7.646-.015zM101.906 6.894v1.864l8.072.015.072-.326c.18-.784-.397-1.539-1.184-1.539l-6.96-.014zM108.691 14.374l.426-1.864 4.57.007-.671 1.865-4.325-.008zM109.543 10.645l.433-1.865 6.512-.022-.765 1.857-6.18.03z\"></path><path fill=\"#fff\" d=\"M101.906 14.36v1.864l6.361.015.426-1.865-6.787-.015zM110.982 18.111h-1.321c-.953 0-1.646-.932-1.4-1.872h3.451l-.73 1.872z\"></path><defs><linearGradient gradientUnits=\"userSpaceOnUse\" y2=\"23.182\" x2=\"118.653\" y1=\"1.591\" x1=\"98.426\" id=\"a\"><stop stop-color=\"#292929\" offset=\".115\"></stop><stop stop-color=\"#1A1A1A\" offset=\"1\"></stop></linearGradient></defs></svg></a><div><ul><li><a href=\"https://fiberplane.dev/blog/\">Blog</a></li><li><a href=\"https://fiberplane.dev/about/\">About</a></li><li><a href=\"https://fiberplane.dev/careers/\">Careers</a></li><li><a href=\"https://twitter.com/fiberplane\"><svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 26 25\" width=\"25\" alt=\"Twitter\"><path fill=\"currentColor\" d=\"M25.926 12.5c0 6.906-5.594 12.5-12.5 12.5S.926 19.406.926 12.5 6.52 0 13.426 0s12.5 5.594 12.5 12.5zm-14.788 6.594c5.544 0 8.575-4.594 8.575-8.575 0-.132 0-.263-.006-.388a6.176 6.176 0 0 0 1.506-1.562c-.537.237-1.119.4-1.731.475a3.012 3.012 0 0 0 1.325-1.669 6.103 6.103 0 0 1-1.912.731 3.014 3.014 0 0 0-5.131 2.75 8.55 8.55 0 0 1-6.213-3.15 3.023 3.023 0 0 0-.406 1.513 3 3 0 0 0 1.343 2.506 2.96 2.96 0 0 1-1.362-.375v.037a3.017 3.017 0 0 0 2.419 2.957 3.006 3.006 0 0 1-1.363.05 3.01 3.01 0 0 0 2.813 2.094 6.058 6.058 0 0 1-4.463 1.243 8.397 8.397 0 0 0 4.606 1.363z\"></path></svg></a><a href=\"https://twitter.com/fiberplane\">Twitter</a></li></ul></div></nav><div><p><img alt=\"\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s2XZtdNJ8F7XVbaCuPHasxHzyR9m2RgjoOTg7mDrmc04/https://fiberplane.dev/assets/blog/how-we-use-webassembly-at-fiberplane.png\"></p><div><div><p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s01WjMQYUfNXbyBjPPXPseCnL_OZrG0CsAVHeeEm3yTo/https://fiberplane.dev/assets/blog/author/arend.jpg\"></p><div><p>Arend van Beelen</p><p>Principal Software Engineer</p></div></div><div><p>Thu May 05 2022</p><p> - </p><p>3</p><p> min. read</p></div></div><h2>Introduction</h2><p>At Fiberplane, we’re building a collaborative notebook editor for incident response and infrastructure debugging — a field riddled with technical challenges. Interestingly, <a rel=\"noreferrer noopener\" href=\"https://webassembly.org/\">WebAssembly</a> is a recurring theme in how we deal with those challenges. In this post, we’ll explore two of these challenges and highlight how WASM helps us to solve the problems at hand.</p><h2>Operational Transformation</h2><p>The first challenge comes from the collaborative part of our editor. When multiple people are editing the same notebook simultaneously, we need a form of conflict resolution to resolve situations where they’re editing the same part of the notebook. In order to handle this, we have opted to implement <a rel=\"noreferrer noopener\" href=\"https://en.wikipedia.org/wiki/Operational_transformation\">Operational Transformation</a> — the same algorithm as used by Google Docs. While this algorithm has served us well thus far, implementing it is far from trivial.</p><p>The main source of complexity is that as the number of operations that you wish to support increases, the number of transformations you need to implement also increases — exponentially. And the logic for applying those operations needs to live on both the client and the server. Inconsistencies between client and server may introduce unwanted side-effects: A notebook can become divergent between collaborators, meaning different people see a different notebook. And that is the one thing you want to avoid.</p><p>Given these conditions, we quickly eliminated the idea of implementing this algorithm twice, once for the backend and once for the frontend. Our team is small, and the code we would need to duplicate would grow quickly. The risk of inconsistencies was too big.</p><p>So we settled on writing our algorithms in Rust, which we also use for our backend. And the frontend uses WASM to run the exact same code. This way, we save significant development effort, and the risk of inconsistencies is mitigated.</p><h2>Providers</h2><p>Another challenge is that we want to pull in data from external data sources for analysis into the notebooks. But data sources come in various shapes and sizes and are not always easily reachable from the user’s browser.</p><p>To solve these challenges, we built <a rel=\"noreferrer noopener\" href=\"https://www.notion.so/On-Fiberplane-Providers-8335d9f8cc03445d94eb698c80eb4ee5\">Fiberplane Providers</a>: WASM-based plugins that can be run both inside browsers as well as on proxy servers hosted by our customers. Few other technologies can offer this flexibility, with the main alternative being JavaScript. Compared to JavaScript, however, WASM offers significant advantages:</p><ul><li>Performance is better</li><li>Plugins can be written in any language that can target WASM</li><li>And last but not least, WASM plugins run in a sandbox that limits the potential of a rogue provider plugin. This is paramount for the security of our customers, who are running these providers on a proxy server hosted inside their own infrastructure.</li></ul><h2>fp-bindgen</h2><p>As you can see, WebAssembly helps us in very different scenarios. Whether it is for streamlining the development of our own product, or for enabling our customers to securely run code that has access to their infrastructure, we’re both counting on WASM.</p><p>Because WASM is so important to our business, and we needed to run WASM code in multiple environments, we also wrote some of our own tooling to help us with this: fp-bindgen is a bindings generator that works from Rust source code and produces bindings that can be used for writing WASM plugins in Rust and hosting them in either a browser (TypeScript) environment or a Rust Wasmer environment.</p><p><a rel=\"noreferrer noopener\" href=\"https://github.com/fiberplane/fp-bindgen\">fp-bindgen</a> has been recently open-sourced and we invite you to try it out. If you’re interested in full-stack WASM plugins, or you have a need for advanced Rust ↔ TypeScript interoperability, this might be for you.</p></div></div><div><p>We use cookies to analyze site performance and deliver personalized content. By clicking “Agree”, you consent to our <a href=\"https://fiberplane.dev/privacy/\">Cookie Policy</a>. You may change your settings at any time.</p></div></div></div>",
    "labels": "wasm"
  },
  {
    "description": "Five ways to broaden your sphere of impact",
    "title": "How to grow your impact beyond your team",
    "content": "<div class=\"page\" id=\"readability-page-1\"><div>\n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  <p>How can you broaden your sphere impact across your engineering org?</p>\n  \n  \n  \n  <div>\n  \n  \n  \n  \n  <p>Mature tech companies have a growth ladder, highlighting different roles and their expectations. Higher levels are often associated with higher levels of impact.</p>\n  <p>For example, software engineers might be expected to deliver great software with their sphere of impact limited to their work.</p>\n  <p>Senior software engineers, the next level up, are expected to have a larger focus area of impact, so not only are they expected to deliver great software, but also help others on their team deliver great work through teaching, mentoring, and coaching.</p>\n  <p>Tech leads or staff engineers, the next level up, are expected to have an even broader sphere of impact in their teams and beyond, clearing the path to help each team member contribute the most they can, and guiding and mediating conversations to ensure they all remain aligned.</p>\n  <p>Deciding what you can do to increase your impact on your team is relatively clear, but for many, increasing your impact beyond your team is much less clear. This article will offer advice on what you might do to grow your impact beyond your team.</p>\n  <h3>1. Do good work first</h3>\n  <p>As much as you might want to increase your impact beyond your team, start with the basics and do good work. I’ve seen too many individual contributors who want to get involved with cross-team or department initiatives, but neglect their responsibilities. This situation is bad for their team as it means other team members take on additional work.</p>\n  <p>Falling into this trap is also bad for you. Even if you’re contributing great work outside of your team, if you fail to complete your team responsibilities, don’t be surprised if your next performance review is, ‘Not meeting expectations,’ because you are <em>literally</em> not fulfilling the expectations of your role and obligations to your team.</p>\n  <p>Before you look at taking on work or responsibilities outside of your team, make sure you are doing a good job on your team. Only once you are participating as an equal team member should you start looking for other opportunities beyond your team.</p>\n  <h3>2. Keep your eyes and ears open</h3>\n  <p>No organization is perfect. There are always opportunities to contribute or improve something but you might not notice them. Before you decide to pick a topic to work on, take some time over several weeks to build a list of potential work topics outside of your team.</p>\n  <p>Watch out for volunteering requests that come from cross-team interest groups, senior managers like engineering directors or VPs, or other roles who work across multiple teams such as principal engineers. Monitor department-wide slack channels. Double read emails to the whole department or company looking for help. Listen carefully during announcements that have an open invitation to contribute. Draw on your personal network in your company and tell your closest contacts in other teams you’re seeking opportunities to help and to keep you informed.</p>\n  <p>Once you have built your list of potential topics beyond your team, prioritize them. Favor topics that are more relevant to the work your team does because then there is more of a reason to justify contributing. Favor topics that align with your strengths, background, and experience so you have the best chances of immediately adding value and demonstrating impact. Of course, you can still choose an interesting topic that is well outside of your team’s work and your experience but don’t expect to have an immediate impact.</p>\n  <h3>3. Get the green light</h3>\n  <p>By this stage, you are meeting your team obligations, you’ve assembled a set of ideas, and you’ve prioritized your preferred topic. Before you invest a lot of time and energy in your chosen topic, consider letting your manager know. If you have a good manager, you shouldn’t need permission to work on topics that add value to your organization, but it’s always better to manage their expectations.</p>\n  <p>You might have picked a specific cross-team initiative to contribute towards, but your manager may have additional information about an even higher priority and impactful topic you can help out with. You’ll also want to discuss this with your manager to build shared expectations about the amount of time and how you’ll spend time working on those topics. Sometimes you might both agree to plan less work for you so you can spend time on outside topics. Often your manager will expect you to put in additional time to work on the topic as they might see this as volunteer work, which also means volunteering additional time.</p>\n  <p>Avoid any awkward conversations around your work priorities and get the green light from your manager, who can then work with you to keep your team informed.</p>\n  <h3>4. Apply an agile approach</h3>\n  <p>Working on topics beyond your team can sometimes feel frustratingly slow. Work is often time sliced between ‘normal’ team product/project work. Gathering input and buy-in from many teams for a decision also takes time. For initiatives that span multiple teams, don’t wait until you are ‘done’ to communicate progress.</p>\n  <p>Take an agile approach by breaking up the work into smaller, valuable steps. Deliver each step using an incremental and iterative approach, communicating progress along the way. Don’t keep other interested parties like your team, your manager, and other teams potentially impacted by the work wondering what you are doing and if you are ‘done.’ Find ways to indicate progress and the impact your effort is having.</p>\n  <p>More importantly, as you take on your first impactful work beyond your team, reflect (eg. use retrospectives) to see what worked well and less well. As you come to a close and deliver impactful work beyond your team, iterate and incorporate any lessons learned in the process.</p>\n  <h3>5. Gather momentum</h3>\n  <p>Finding and completing work beyond your team might appear difficult, but like with any new experience and skill, the first time is always the hardest. As you deliver great work across teams and your organization, others will recognize your contribution and ask for you in the future, as you have demonstrated leadership and delivered successful results. Do this repeatedly and you might even be invited to work on these topics full-time. Good luck!</p>\n  \n  </div>\n  </div></div>",
    "labels": "leadership"
  },
  {
    "description": "Use the Pulumi Azure Native Provider to deploy containerized apps to Microsoft's new Azure Container Apps platform for serverless apps.",
    "title": "Deploying new Azure Container Apps with familiar languages",
    "content": "<div id=\"readability-content\"><div class=\"page\" id=\"readability-page-1\"><div><article><p>Posted on <time>Tuesday, Nov 2, 2021</time></p><section data-swiftype-index=\"true\"><p>Today, Microsoft <a href=\"https://aka.ms/containerapps/ignite-blog\">announced</a> a new general-purpose serverless container platform: <a href=\"https://aka.ms/containerapps/\">Azure Container Apps</a>. Container Apps is a fully managed platform for microservice applications that runs on top of Kubernetes and open-source technologies like KEDA, Envoy, and Dapr.</p><p>Container Apps are designed to abstract infrastructure management with flexible serverless containers. Developers can run containers at scale without the burden of standing up and managing a Kubernetes cluster manually.</p><p>We are happy to announce same-day support for Azure Container Apps in the Pulumi <a href=\"https://www.pulumi.com/registry/packages/azure-native\">Azure Native Provider</a>, which covers 100% of the Azure Resource Manager APIs and gives you highest fidelity integration with Azure’s resources.</p><div><h4 id=\"azure-container-apps-quickstart\">Azure Container Apps QuickStart<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#azure-container-apps-quickstart\"></a></h4><p>Ready to get up and running quickly right away?</p><ul><li>Bootstrap a project <code class=\"hljs language-elixir language-ruby\"><span class=\"hljs-variable\">$ </span>pulumi new <span class=\"hljs-symbol\">https:</span>/<span class=\"hljs-regexp\">/github.com/pulumi</span><span class=\"hljs-regexp\">/apps/container</span>-apps</code></li><li>Add your container logic to the <code class=\"hljs language-ebnf language-stata\"><span class=\"hljs-attribute\">app</span></code> folder</li><li>Deploy with <code class=\"hljs language-elixir language-ruby\"><span class=\"hljs-variable\">$ </span>pulumi up</code></li><li>Test with <code class=\"hljs language-reasonml language-elixir\">$ curl <span class=\"hljs-constructor\">$(<span class=\"hljs-params\">pulumi</span> <span class=\"hljs-params\">stack</span> <span class=\"hljs-params\">output</span> <span class=\"hljs-params\">url</span>)</span></code></li></ul><p>For additional information on how Azure Container Apps work and advanced options, please read on.</p></div><p>The new service supports a broad range of usage scenarios, including</p><ul><li>Microservices over HTTP or gRPC</li><li>HTTP APIs and websites</li><li>Event processing workers</li><li>Long-running background jobs</li></ul><h2 id=\"serverless-containers\">Serverless containers<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#serverless-containers\"></a></h2><p>Container Apps provide serverless containers for microservice developers.</p><ul><li><strong>Managed infrastructure</strong>. Microsoft operates the control plane that takes care of orchestrating containers and their configuration, allowing developers to focus on apps, not cloud infrastructure.</li><li><strong>Fully integrated auto-scaling with scale to zero</strong>. The platform relies on Kubernetes Event-driven Autoscaling (KEDA) to scale apps and microservices dynamically based on HTTP traffic or event workload.</li><li><strong>Consumption pricing</strong>. The billing model is based on the actual resource consumption with per-second granularity. Applications incur charges per request, compute time and memory used with no need to pre-provision a fixed capacity.</li><li><strong>Any language, any base image</strong>. Container Apps put no limitation on the container images. You may use an arbitrary base image and host any web server or a console application, ensuring flexibility and interoperability with other container orchestrators.</li></ul><h2 id=\"how-it-works\">How it works<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#how-it-works\"></a></h2><p>Microsoft has built Container Apps as a managed service on the foundation of open-source technology in the Kubernetes ecosystem. This enables teams to build microservices without having to manage Kubernetes directly while providing application portability by leveraging open standards and APIs. Behind the scenes, every container app runs on the <a href=\"https://azure.microsoft.com/en-us/overview/kubernetes-on-azure/\">Azure Kubernetes Service (AKS)</a>. Enabling open-source integrations include:</p><p><strong>Envoy</strong>, a built-in ingress controller that exposes user containers internally and externally via HTTP endpoints. It supports multiple container versions with dynamic load balancing and several traffic rollout strategies.</p><p><strong>KEDA</strong> enables dynamic auto-scaling for user applications based on the current workload, including scaling down to zero during idle periods.</p><p>Container Apps are also tightly integrated with <strong>Dapr</strong>—an open-source runtime system designed to support cloud-native microservice applications. It provides extra blocks for service discovery, state management, asynchronous message passing.</p><h2 id=\"how-its-different\">How it’s different<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#how-its-different\"></a></h2><p>A few other services provided by Microsoft Azure and other cloud providers operate in the space of running container-based workloads:</p><p><strong>Azure Kubernetes Service</strong> delivers the full power of Kubernetes but requires expertise in configuring and operating the cluster. When building on AKS, users handle most infrastructure management aspects themselves. Instead, Container Apps provide a platform built on top of AKS, focusing on developer productivity and switching to consumption-based pricing.</p><p><strong>Azure Container Instances</strong> (ACI) provides atomic infrastructure units with per-usage pricing. However, ACI comes without higher-level functionality like auto-scaling, load balancing, versioning, and managed rollouts.</p><p><strong>Azure App Service</strong> is a Platform-as-a-Service comparable to Container Apps in terms of being simple-to-operate and developer-friendly. App Service can also run arbitrary containers. However, it is best suited to run websites. The billing model is mostly capacity-based with some built-in autoscaling but without scaling to zero.</p><p><strong>Azure Functions</strong> is a developer-oriented truly-serverless offering. However, it comes with an opinionated programming model that is focused on achieving a high developer productivity as long as your application can use the Azure Functions SDK or container base images. Unlike Container APps, it does not support long-running jobs in consumption mode.</p><p>Comparing to other vendors: Azure Container Apps are in the same space as <strong>Google Cloud Run</strong> and <strong>AWS App Runner</strong>. In contrast to the competition, Azure Container Apps is built on Kubernetes and related open-source projects, which should benefit its users in terms of interoperability and transparency. Additionally, Container Apps is the only service that provides features like service discovery for microservices-style communication out of the box.</p><h2 id=\"example-run-an-http-api-with-azure-container-apps-and-pulumi\">Example: Run an HTTP API with Azure Container Apps and Pulumi<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#example-run-an-http-api-with-azure-container-apps-and-pulumi\"></a></h2><p>Let’s walk through the steps to build an example application with Azure Container Apps using infrastructure as code in familiar languages. In this scenario, we create an HTTP application that is available via a public domain name. We’ll use Pulumi to provision the necessary resources. In this example, we will use TypeScript however you could also use JavaScript, Python, Go, and C#.</p><p>You can check out the complete source code in the Pulumi Examples:</p><ul><li><a href=\"https://github.com/pulumi/examples/tree/master/azure-ts-containerapps\">TypeScript Azure Container Apps Example</a></li><li><a href=\"https://github.com/pulumi/examples/tree/master/azure-cs-containerapps\">C# Azure Container Apps Example</a></li><li><a href=\"https://github.com/pulumi/examples/tree/master/azure-py-containerapps\">Python Azure Container Apps Example</a></li><li><a href=\"https://github.com/pulumi/examples/tree/master/azure-go-containerapps\">Go Azure Container Apps Example</a></li></ul><h3 id=\"define-a-dockerfile-and-app\">Define a Dockerfile and app<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#define-a-dockerfile-and-app\"></a></h3><p>Here are the key features of the container image for our application:</p><ul><li>Based on the <code class=\"hljs language-crmsh language-angelscript\"><span class=\"hljs-keyword\">node</span><span class=\"hljs-title\">:8</span>.<span class=\"hljs-number\">9.3</span>-alpine</code> image</li><li>Installs <code class=\"hljs language-ebnf language-maxima\"><span class=\"hljs-attribute\">express</span></code> with NPM</li><li>Runs a node web app using <code class=\"hljs language-axapta language-css\"><span class=\"hljs-keyword\">index</span>.js</code> and <code class=\"hljs language-axapta language-css\"><span class=\"hljs-keyword\">index</span>.html</code> user files</li></ul><p><a href=\"https://github.com/pulumi/examples/tree/master/azure-ts-containerapps/node-app/Dockerfile\">Full Dockerfile</a>.</p><h3 id=\"set-up-the-environment\">Set up the environment<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#set-up-the-environment\"></a></h3><p>The resource <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">KubeEnvironment</span></code> defines a cluster that can host multiple Container Apps. Behind the scenes, it creates an AKS cluster in a subscription managed internally by Microsoft and deploys the Apps control plane.</p><div><ul><li><a>TypeScript </a></li><li><a>Python </a></li><li><a>Go </a></li><li><a>C# </a></li></ul></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-pgsql language-typescript\"><span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> web <span class=\"hljs-keyword\">from</span> ;\n  \n  const env = <span class=\"hljs-built_in\">new</span> web.KubeEnvironment(\"env\", {\n     resourceGroupName: resourceGroup.name,\n     <span class=\"hljs-keyword\">type</span>: \"Managed\",\n  });\n  </code></pre><p>    <span aria-labelledby=\"e0d89590-04bd-4358-860e-d58bdbe8761f\">                    </span><span id=\"e0d89590-04bd-4358-860e-d58bdbe8761f\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-routeros language-haxe\">\n  var kubeEnv = new KubeEnvironment(<span class=\"hljs-string\">\"env\"</span>, new KubeEnvironmentArgs\n  {\n      ResourceGroupName = resourceGroup.Name,\n     <span class=\"hljs-built_in\"> Type </span>= <span class=\"hljs-string\">\"Managed\"</span>\n  });\n  </code></pre><p>    <span aria-labelledby=\"9e18983f-455f-417c-baf8-eec2e4156a42\">                    </span><span id=\"9e18983f-455f-417c-baf8-eec2e4156a42\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-routeros language-fsharp\">\n  kube_env = web.KubeEnvironment(<span class=\"hljs-string\">\"env\"</span>,\n      <span class=\"hljs-attribute\">resource_group_name</span>=resource_group.name,\n      <span class=\"hljs-attribute\">type</span>=<span class=\"hljs-string\">\"Managed\"</span>)\n  </code></pre><p>    <span aria-labelledby=\"34b0f601-7362-4d1a-a3d6-e6420dbeb2b3\">                    </span><span id=\"34b0f601-7362-4d1a-a3d6-e6420dbeb2b3\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-dart language-dts\"><span class=\"hljs-keyword\">import</span> web <span class=\"hljs-string\">\"github.com/pulumi/pulumi-azure-native/sdk/go/azure/web/v20210301\"</span>\n  \n  kubeEnvironment, err := web.NewKubeEnvironment(ctx, <span class=\"hljs-string\">\"kubeEnvironment\"</span>, &amp;web.KubeEnvironmentArgs{\n      ResourceGroupName: resourceGroup.Name,\n      <span class=\"hljs-built_in\">Type</span>:              pulumi.<span class=\"hljs-built_in\">String</span>(<span class=\"hljs-string\">\"Managed\"</span>),\n  })\n  </code></pre><p>    <span aria-labelledby=\"6794295b-57c6-4c4c-be27-c0b1797a26e1\">                    </span><span id=\"6794295b-57c6-4c4c-be27-c0b1797a26e1\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><h3 id=\"build-and-publish-a-container-image\">Build and publish a container image<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#build-and-publish-a-container-image\"></a></h3><p>We can build the Docker image and publish it to a new Azure Container Registry (ACR) repository. The code below assumes</p><div><ul><li><a>TypeScript </a></li><li><a>Python </a></li><li><a>Go </a></li><li><a>C# </a></li></ul></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-javascript language-typescript\"><span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> docker <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"@pulumi/docker\"</span>;\n  <span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> containerregistry <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"@pulumi/azure-native/containerregistry\"</span>;\n  \n  <span class=\"hljs-keyword\">const</span> customImage = <span class=\"hljs-string\">\"node-app\"</span>;\n  <span class=\"hljs-keyword\">const</span> registry = <span class=\"hljs-keyword\">new</span> containerregistry.Registry(<span class=\"hljs-string\">\"registry\"</span>, {\n     <span class=\"hljs-attr\">resourceGroupName</span>: resourceGroup.name,\n     <span class=\"hljs-attr\">sku</span>: {\n         <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">\"Basic\"</span>,\n     },\n     <span class=\"hljs-attr\">adminUserEnabled</span>: <span class=\"hljs-literal\">true</span>,\n  });\n  \n  <span class=\"hljs-keyword\">const</span> credentials = containerregistry.listRegistryCredentialsOutput({\n      <span class=\"hljs-attr\">resourceGroupName</span>: resourceGroup.name,\n      <span class=\"hljs-attr\">registryName</span>: registry.name,\n  });\n  <span class=\"hljs-keyword\">const</span> adminUsername = credentials.apply(<span class=\"hljs-function\"><span class=\"hljs-params\">c</span> =&gt;</span> c.username!);\n  <span class=\"hljs-keyword\">const</span> adminPassword = credentials.apply(<span class=\"hljs-function\"><span class=\"hljs-params\">c</span> =&gt;</span> c.passwords![<span class=\"hljs-number\">0</span>].value!);\n  \n  <span class=\"hljs-keyword\">const</span> myImage = <span class=\"hljs-keyword\">new</span> docker.Image(customImage, {\n     <span class=\"hljs-attr\">imageName</span>: pulumi.interpolate<span class=\"hljs-string\">`<span class=\"hljs-subst\">${registry.loginServer}</span>/<span class=\"hljs-subst\">${customImage}</span>:v1.0.0`</span>,\n     <span class=\"hljs-attr\">build</span>: { <span class=\"hljs-attr\">context</span>: <span class=\"hljs-string\">`./<span class=\"hljs-subst\">${customImage}</span>`</span> },\n     <span class=\"hljs-attr\">registry</span>: {\n         <span class=\"hljs-attr\">server</span>: registry.loginServer,\n         <span class=\"hljs-attr\">username</span>: adminUsername,\n         <span class=\"hljs-attr\">password</span>: adminPassword,\n     },\n  });\n  </code></pre><p>    <span aria-labelledby=\"717bb059-c128-4ba3-a415-8b26bde1cb02\">                    </span><span id=\"717bb059-c128-4ba3-a415-8b26bde1cb02\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-haxe language-nix\"><span class=\"hljs-keyword\">using</span> Pulumi.AzureNative.ContainerRegistry;\n  <span class=\"hljs-keyword\">using</span> Pulumi.Docker;\n  \n  <span class=\"hljs-keyword\">var</span> registry = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">Registry</span>(<span class=\"hljs-string\">\"registry\"</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">RegistryArgs</span>\n  {\n      ResourceGroupName = resourceGroup.Name,\n      Sku = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">SkuArgs</span> { Name = <span class=\"hljs-string\">\"Basic\"</span> },\n      AdminUserEnabled = <span class=\"hljs-literal\">true</span>\n  });\n  \n  <span class=\"hljs-keyword\">var</span> credentials = Output.Tuple(resourceGroup.Name, registry.Name)\n                          .Apply(items =&gt;\n      ListRegistryCredentials.InvokeAsync(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">ListRegistryCredentialsArgs</span>\n      {\n          ResourceGroupName = items.Item1,\n          RegistryName = items.Item2\n      }));\n  <span class=\"hljs-keyword\">var</span> adminUsername = credentials.Apply(c =&gt; c.Username);\n  <span class=\"hljs-keyword\">var</span> adminPassword = credentials.Apply(c =&gt; c.Passwords[<span class=\"hljs-number\">0</span>].Value);\n  \n  <span class=\"hljs-keyword\">var</span> customImage = <span class=\"hljs-string\">\"node-app\"</span>;\n  <span class=\"hljs-keyword\">var</span> myImage = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">Image</span>(customImage, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">ImageArgs</span>\n  {\n      ImageName = Output.Format($<span class=\"hljs-string\">\"{registry.LoginServer}/{customImage}:v1.0.0\"</span>),\n      Build = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">DockerBuild</span> { Context = $<span class=\"hljs-string\">\"./{customImage}\"</span> },\n      Registry = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">ImageRegistry</span>\n      {\n          Server = registry.LoginServer,\n          Username = adminUsername,\n          Password = adminPassword\n      }\n  });\n  </code></pre><p>    <span aria-labelledby=\"18753766-29ad-4cbb-9c6e-84d59bbfebcd\">                    </span><span id=\"18753766-29ad-4cbb-9c6e-84d59bbfebcd\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-nix language-properties\">from pulumi_azure_native <span class=\"hljs-built_in\">import</span> containerregistry\n  <span class=\"hljs-built_in\">import</span> pulumi_docker as docker\n  \n  <span class=\"hljs-attr\">registry</span> = containerregistry.Registry(<span class=\"hljs-string\">\"registry\"</span>,\n      <span class=\"hljs-attr\">resource_group_name=resource_group.name,</span>\n      <span class=\"hljs-attr\">sku=containerregistry.SkuArgs(name=\"Basic\"),</span>\n      <span class=\"hljs-attr\">admin_user_enabled=True)</span>\n  \n  <span class=\"hljs-attr\">credentials</span> = pulumi.Output.all(resource_group.name, registry.name).apply(\n      lambda args: containerregistry.list_registry_credentials(\n          <span class=\"hljs-attr\">resource_group_name=args[0],</span>\n          <span class=\"hljs-attr\">registry_name=args[1]))</span>\n  <span class=\"hljs-attr\">admin_username</span> = credentials.username\n  <span class=\"hljs-attr\">admin_password</span> = credentials.passwords[<span class=\"hljs-number\">0</span>][<span class=\"hljs-string\">\"value\"</span>]\n  \n  <span class=\"hljs-attr\">custom_image</span> = <span class=\"hljs-string\">\"node-app\"</span>\n  <span class=\"hljs-attr\">my_image</span> = docker.Image(custom_image,\n      <span class=\"hljs-attr\">image_name=registry.login_server.apply(</span>\n          lambda login_server: f<span class=\"hljs-string\">\"{login_server}/{custom_image}:v1.0.0\"</span>),\n      <span class=\"hljs-attr\">build=docker.DockerBuild(context=f\"./{custom_image}\"),</span>\n      <span class=\"hljs-attr\">registry=docker.ImageRegistry(</span>\n          <span class=\"hljs-attr\">server=registry.login_server,</span>\n          <span class=\"hljs-attr\">username=admin_username,</span>\n          <span class=\"hljs-attr\">password=admin_password))</span>\n  </code></pre><p>    <span aria-labelledby=\"677e108d-bb12-424d-bb53-24daebb8a491\">                    </span><span id=\"677e108d-bb12-424d-bb53-24daebb8a491\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-go language-autoit\"><span class=\"hljs-keyword\">import</span> (\n      <span class=\"hljs-string\">\"github.com/pulumi/pulumi-azure-native/sdk/go/azure/containerregistry\"</span>\n      <span class=\"hljs-string\">\"github.com/pulumi/pulumi-docker/sdk/v3/go/docker\"</span>\n      <span class=\"hljs-string\">\"github.com/pulumi/pulumi/sdk/v3/go/pulumi\"</span>\n  )\n  \n  registry, err := containerregistry.NewRegistry(ctx, <span class=\"hljs-string\">\"registry\"</span>, &amp;containerregistry.RegistryArgs{\n      ResourceGroupName: resourceGroup.Name,\n      Sku: containerregistry.SkuArgs{\n          Name: pulumi.String(<span class=\"hljs-string\">\"Basic\"</span>),\n      },\n      AdminUserEnabled: pulumi.Bool(<span class=\"hljs-literal\">true</span>),\n  })\n  <span class=\"hljs-keyword\">if</span> err != <span class=\"hljs-literal\">nil</span> {\n      <span class=\"hljs-keyword\">return</span> err\n  }\n  credentials := pulumi.All(resourceGroup.Name, registry.Name).ApplyT(\n      <span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span><span class=\"hljs-params\">(args []<span class=\"hljs-keyword\">interface</span>{})</span> <span class=\"hljs-params\">(*containerregistry.ListRegistryCredentialsResult, error)</span></span> {\n          resourceGroupName := args[<span class=\"hljs-number\">0</span>].(<span class=\"hljs-keyword\">string</span>)\n          registryName := args[<span class=\"hljs-number\">1</span>].(<span class=\"hljs-keyword\">string</span>)\n          <span class=\"hljs-keyword\">return</span> containerregistry.ListRegistryCredentials(ctx, &amp;containerregistry.ListRegistryCredentialsArgs{\n              ResourceGroupName: resourceGroupName,\n              RegistryName:      registryName,\n          })\n      },\n  )\n  \n  adminUsername := credentials.ApplyT(<span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span><span class=\"hljs-params\">(result <span class=\"hljs-keyword\">interface</span>{})</span> <span class=\"hljs-params\">(<span class=\"hljs-keyword\">string</span>, error)</span></span> {\n      credentials := result.(*containerregistry.ListRegistryCredentialsResult)\n      <span class=\"hljs-keyword\">return</span> *credentials.Username, <span class=\"hljs-literal\">nil</span>\n  }).(pulumi.StringOutput)\n  adminPassword := credentials.ApplyT(<span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span><span class=\"hljs-params\">(result <span class=\"hljs-keyword\">interface</span>{})</span> <span class=\"hljs-params\">(<span class=\"hljs-keyword\">string</span>, error)</span></span> {\n      credentials := result.(*containerregistry.ListRegistryCredentialsResult)\n      <span class=\"hljs-keyword\">return</span> *credentials.Passwords[<span class=\"hljs-number\">0</span>].Value, <span class=\"hljs-literal\">nil</span>\n  }).(pulumi.StringOutput)\n  \n  newImage, err := docker.NewImage(ctx, <span class=\"hljs-string\">\"node-app\"</span>, &amp;docker.ImageArgs{\n      ImageName: pulumi.Sprintf(<span class=\"hljs-string\">\"https://%s/node-app:v1.0.0\"</span>, registry.LoginServer),\n      Build: docker.DockerBuildArgs{\n          Context: pulumi.String(<span class=\"hljs-string\">\"/node-app\"</span>),\n      },\n      Registry: docker.ImageRegistryArgs{\n          Server:   registry.LoginServer,\n          Username: adminUsername,\n          Password: adminPassword,\n      },\n  })\n  <span class=\"hljs-keyword\">if</span> err != <span class=\"hljs-literal\">nil</span> {\n      <span class=\"hljs-keyword\">return</span> err\n  }\n  </code></pre><p>    <span aria-labelledby=\"be4f0de7-a99e-4784-9008-fce79306e4bd\">                    </span><span id=\"be4f0de7-a99e-4784-9008-fce79306e4bd\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><h2 id=\"deploy-the-container-app\">Deploy the container app<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#deploy-the-container-app\"></a></h2><p>Finally, we can define the Container App itself. We point the App to the environment resource and instruct it to run our custom image. Image container credentials are specified in the <code class=\"hljs language-ebnf language-pgsql\"><span class=\"hljs-attribute\">configuration</span></code> block, with the password marked as a secret. We’ve also enabled external ingress to publish the app on the web.</p><div><ul><li><a>TypeScript </a></li><li><a>Python </a></li><li><a>Go </a></li><li><a>C# </a></li></ul></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-dts language-yaml\">const containerApp = new web.ContainerApp(<span class=\"hljs-string\">\"app\"</span>, {\n  <span class=\"hljs-symbol\">   resourceGroupName:</span> resourceGroup.name,\n  <span class=\"hljs-symbol\">   kubeEnvironmentId:</span> env.id,\n  <span class=\"hljs-symbol\">   configuration:</span> {\n  <span class=\"hljs-symbol\">       ingress:</span> {\n  <span class=\"hljs-symbol\">           external:</span> true,\n  <span class=\"hljs-symbol\">           targetPort:</span> <span class=\"hljs-number\">80</span>,\n         },\n  <span class=\"hljs-symbol\">       registries:</span> [{\n  <span class=\"hljs-symbol\">           server:</span> registry.loginServer,\n  <span class=\"hljs-symbol\">           username:</span> adminUsername,\n  <span class=\"hljs-symbol\">           passwordSecretRef:</span> <span class=\"hljs-string\">\"pwd\"</span>,\n         }],\n  <span class=\"hljs-symbol\">       secrets:</span> [{\n  <span class=\"hljs-symbol\">           name:</span> <span class=\"hljs-string\">\"pwd\"</span>,\n  <span class=\"hljs-symbol\">           value:</span> adminPassword,\n         }],\n     },\n  <span class=\"hljs-symbol\">   template:</span> {\n  <span class=\"hljs-symbol\">       containers:</span> [{\n  <span class=\"hljs-symbol\">           name:</span> <span class=\"hljs-string\">\"myapp\"</span>,\n  <span class=\"hljs-symbol\">           image:</span> myImage.imageName,\n         }],\n     }\n  });\n  \n  export const url = pulumi.interpolate`https:<span class=\"hljs-comment\">//${containerApp.configuration.ingress.fqdn}`;</span>\n  </code></pre><p>    <span aria-labelledby=\"77a662d7-3240-4473-86ce-f1f2cd416a26\">                    </span><span id=\"77a662d7-3240-4473-86ce-f1f2cd416a26\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-nix language-haxe\">var <span class=\"hljs-attr\">containerApp</span> = new ContainerApp(<span class=\"hljs-string\">\"app\"</span>, new ContainerAppArgs\n  {\n      <span class=\"hljs-attr\">ResourceGroupName</span> = resourceGroup.Name,\n      <span class=\"hljs-attr\">KubeEnvironmentId</span> = kubeEnv.Id,\n      <span class=\"hljs-attr\">Configuration</span> = new ConfigurationArgs\n      {\n          <span class=\"hljs-attr\">Ingress</span> = new IngressArgs\n          {\n              <span class=\"hljs-attr\">External</span> = <span class=\"hljs-literal\">true</span>,\n              <span class=\"hljs-attr\">TargetPort</span> = <span class=\"hljs-number\">80</span>\n          },\n          <span class=\"hljs-attr\">Registries</span> = {\n              new RegistryCredentialsArgs\n              {\n                  <span class=\"hljs-attr\">Server</span> = registry.LoginServer,\n                  <span class=\"hljs-attr\">Username</span> = adminUsername,\n                  <span class=\"hljs-attr\">PasswordSecretRef</span> = <span class=\"hljs-string\">\"pwd\"</span>\n              }\n          },\n          <span class=\"hljs-attr\">Secrets</span> = {\n              new SecretArgs\n              {\n                  <span class=\"hljs-attr\">Name</span> = <span class=\"hljs-string\">\"pwd\"</span>,\n                  <span class=\"hljs-attr\">Value</span> = adminPassword\n              }\n          },\n      },\n      <span class=\"hljs-attr\">Template</span> = new TemplateArgs\n      {\n          <span class=\"hljs-attr\">Containers</span> = {\n              new ContainerArgs\n              {\n                  <span class=\"hljs-attr\">Name</span> = <span class=\"hljs-string\">\"myapp\"</span>,\n                  <span class=\"hljs-attr\">Image</span> = myImage.ImageName\n              }\n          }\n      }\n  });\n  \n  this.<span class=\"hljs-attr\">Url</span> = Output.Format($<span class=\"hljs-string\">\"https://{containerApp.Configuration.Apply(c =&gt; c.Ingress).Apply(i =&gt; i.Fqdn)}\"</span>);\n  </code></pre><p>    <span aria-labelledby=\"67fb2686-05d0-4103-b145-d81bc67c9c82\">                    </span><span id=\"67fb2686-05d0-4103-b145-d81bc67c9c82\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-routeros language-nix\">container_app = web.ContainerApp(<span class=\"hljs-string\">\"app\"</span>,\n      <span class=\"hljs-attribute\">resource_group_name</span>=resource_group.name,\n      <span class=\"hljs-attribute\">kube_environment_id</span>=kube_env.id,\n      <span class=\"hljs-attribute\">configuration</span>=web.ConfigurationArgs(\n          <span class=\"hljs-attribute\">ingress</span>=web.IngressArgs(\n              <span class=\"hljs-attribute\">external</span>=<span class=\"hljs-literal\">True</span>,\n              <span class=\"hljs-attribute\">target_port</span>=80),\n          registries=[web.RegistryCredentialsArgs(\n              <span class=\"hljs-attribute\">server</span>=registry.login_server,\n              <span class=\"hljs-attribute\">username</span>=admin_username,\n              <span class=\"hljs-attribute\">password_secret_ref</span>=<span class=\"hljs-string\">\"pwd\"</span>)],\n          secrets=[web.SecretArgs(\n              <span class=\"hljs-attribute\">name</span>=<span class=\"hljs-string\">\"pwd\"</span>,\n              <span class=\"hljs-attribute\">value</span>=admin_password)],\n      ),\n      <span class=\"hljs-attribute\">template</span>=web.TemplateArgs(\n          containers=[web.ContainerArgs(\n              <span class=\"hljs-attribute\">name</span>=<span class=\"hljs-string\">\"myapp\"</span>,\n              <span class=\"hljs-attribute\">image</span>=my_image.image_name)]))\n  \n  pulumi.<span class=\"hljs-builtin-name\">export</span>(<span class=\"hljs-string\">\"url\"</span>, container_app.configuration.apply(lambda c: c.ingress).apply(lambda i: i.fqdn))\n  </code></pre><p>    <span aria-labelledby=\"f610d1e3-43f2-4329-9276-4cb29547522e\">                    </span><span id=\"f610d1e3-43f2-4329-9276-4cb29547522e\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><div><div><pre tabindex=\"0\"><code class=\"hljs language-dts language-roboconf\">containerApp, err := web.NewContainerApp(ctx, <span class=\"hljs-string\">\"app\"</span>, <span class=\"hljs-variable\">&amp;web</span>.ContainerAppArgs{\n  <span class=\"hljs-symbol\">    ResourceGroupName:</span> resourceGroup.Name,\n  <span class=\"hljs-symbol\">    KubeEnvironmentId:</span> kubeEnvironment.ID(),\n  <span class=\"hljs-symbol\">    Configuration:</span> web.ConfigurationArgs{\n  <span class=\"hljs-symbol\">        Ingress:</span> web.IngressArgs{\n  <span class=\"hljs-symbol\">            External:</span>   pulumi.Bool(true),\n  <span class=\"hljs-symbol\">            TargetPort:</span> pulumi.IntPtr(<span class=\"hljs-number\">80</span>),\n          },\n  <span class=\"hljs-symbol\">        Registries:</span> web.RegistryCredentialsArray{\n              web.RegistryCredentialsArgs{\n  <span class=\"hljs-symbol\">                Server:</span>            registry.LoginServer,\n  <span class=\"hljs-symbol\">                Username:</span>          adminUsername,\n  <span class=\"hljs-symbol\">                PasswordSecretRef:</span> pulumi.String(<span class=\"hljs-string\">\"pwd\"</span>)},\n          },\n  <span class=\"hljs-symbol\">        Secrets:</span> web.SecretArray{\n              web.SecretArgs{\n  <span class=\"hljs-symbol\">                Name:</span>  pulumi.String(<span class=\"hljs-string\">\"pwd\"</span>),\n  <span class=\"hljs-symbol\">                Value:</span> adminPassword,\n              },\n          },\n      },\n  <span class=\"hljs-symbol\">    Template:</span> web.TemplateArgs{\n  <span class=\"hljs-symbol\">        Containers:</span> web.ContainerArray{\n              web.ContainerArgs{\n  <span class=\"hljs-symbol\">                Name:</span>  pulumi.String(<span class=\"hljs-string\">\"myapp\"</span>),\n  <span class=\"hljs-symbol\">                Image:</span> newImage.ImageName,\n              },\n          },\n      },\n  })\n  if err != <span class=\"hljs-class\">nil </span>{\n      return err\n  }\n  \n  ctx.Export(<span class=\"hljs-string\">\"url\"</span>, pulumi.Sprintf(<span class=\"hljs-string\">\"https://%s\"</span>, containerApp.LatestRevisionFqdn))\n  </code></pre><p>    <span aria-labelledby=\"78595725-a510-4398-ba2f-38889211403d\">                    </span><span id=\"78595725-a510-4398-ba2f-38889211403d\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div></div><h3 id=\"test-the-app\">Test the app<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#test-the-app\"></a></h3><p>And that is it! We run <code class=\"hljs language-ebnf language-nginx\"><span class=\"hljs-attribute\">pulumi up</span></code> to get the application up and running. Once the deployment completes, we can send an HTTP request and check the response.</p><div><pre tabindex=\"0\"><code class=\"hljs language-xml language-bnf\">$ curl $(pulumi stack output url)\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>Your custom docker image is running in Azure Container Apps!<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">html</span>&gt;</span>\n  </code></pre><p>    <span aria-labelledby=\"44abc256-988b-45cd-b188-d5d98f0e2ade\">                    </span><span id=\"44abc256-988b-45cd-b188-d5d98f0e2ade\" role=\"tooltip\"><span slot=\"content\">Copy</span></span></p></div><h2 id=\"conclusion\">Conclusion<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#conclusion\"></a></h2><p>Azure Container Apps enable you to build applications in your favorite language with any dependencies and tools, package them as a container image, and deploy them in seconds. Container Apps abstract away infrastructure management by automatically scaling up and down to zero and only charging for the exact resources you use.</p><p>This post shows how to use Pulumi to build a container image and publish it as an Azure Container App. Pulumi makes it easy to create artifacts and provision and manage cloud infrastructure on any cloud using familiar programming languages, including C#, TypeScript, Python, and Go. Docker images, ACR registries, container environments, and Apps can be managed within the same infrastructure definition.</p><h3 id=\"further-steps\">Further steps<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#further-steps\"></a></h3><ul><li><a href=\"https://www.pulumi.com/docs/get-started/azure/\">Get Started with Pulumi for Azure today.</a></li><li><a href=\"https://aka.ms/containerapps/ignite-blog\">Read about Azure Container Apps announcement.</a></li></ul><h4 id=\"complete-azure-container-apps-example\">Complete Azure Container Apps example<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#complete-azure-container-apps-example\"></a></h4><ul><li><a href=\"https://github.com/pulumi/examples/tree/master/azure-ts-containerapps\">TypeScript Azure Container Apps Example</a></li><li><a href=\"https://github.com/pulumi/examples/tree/master/azure-cs-containerapps\">C# Azure Container Apps Example</a></li><li><a href=\"https://github.com/pulumi/examples/tree/master/azure-py-containerapps\">Python Azure Container Apps Example</a></li><li><a href=\"https://github.com/pulumi/examples/tree/master/azure-go-containerapps\">Go Azure Container Apps Example</a></li></ul></section><div><ul><li><a href=\"https://www.pulumi.com/blog/tag/azure/\">azure</a></li></ul></div></article></div></div></div>",
    "labels": "Azure"
  },
  {
    "description": "gRPC JSON transcoding is a new feature for .NET that allows gRPC services to be called with REST + JSON. Try it now in .NET 7 preview 4.",
    "title": "Announcing gRPC JSON transcoding for .NET",
    "content": "<div id=\"readability-content\"><div class=\"page\" id=\"readability-page-1\"><article data-bi-area=\"body\" id=\"post-39788\">\n  <div id=\"featured\">\n                           <p>\n              May 11th, 2022</p>\n          \n  <p>gRPC is a modern way to communicate between apps. gRPC uses HTTP/2, streaming, binary serialization, and message contracts to create high-performance, real-time services. .NET has excellent support for building gRPC apps.</p>\n  <p>However, like most technology choices, there are trade-offs when choosing gRPC over an alternative like REST+JSON. gRPC’s strengths include performance and developer productivity. Meanwhile, REST+JSON can be used everywhere, and its human-readable JSON messages are easy to debug.</p>\n  <p>Wouldn’t it be great if we could build services once in ASP.NET Core and get both gRPC and REST? Now you can! Introducing gRPC JSON transcoding for .NET.</p>\n  <h2 id=\"grpc-or-rest-why-not-both\">gRPC or REST? Why not both<a href=\"#grpc-or-rest-why-not-both\" aria-labelledby=\"grpc-or-rest-why-not-both\"></a></h2>\n  <p>gRPC JSON transcoding is an extension for ASP.NET Core that creates RESTful HTTP APIs for gRPC services. Once configured, JSON transcoding allows you to call gRPC methods with familiar HTTP concepts:</p>\n  <ul>\n  <li>HTTP verbs</li>\n  <li>URL parameter binding</li>\n  <li>JSON requests/responses</li>\n  </ul>\n  <p>This is a <a href=\"https://github.com/grpc/grpc-dotnet/issues/167\">highly requested feature</a> that was previously available as an experiment. We’re excited to ship the first preview today, and we aim to ship a stable release with .NET 7.</p>\n  <h2 id=\"getting-started\">Getting started<a href=\"#getting-started\" aria-labelledby=\"getting-started\"></a></h2>\n  <ol>\n  <li>The first step is to create a gRPC service (if you don’t already have one). <a href=\"https://docs.microsoft.com/aspnet/core/tutorials/grpc/grpc-start\">Create a gRPC client and service</a> is a great tutorial for getting started.</li>\n  <li>Next, add a package reference to <code class=\"hljs language-css language-stylus\"><span class=\"hljs-selector-tag\">Microsoft</span><span class=\"hljs-selector-class\">.AspNetCore</span><span class=\"hljs-selector-class\">.Grpc</span><span class=\"hljs-selector-class\">.JsonTranscoding</span></code> to the server. Register it in server startup code by adding <code class=\"hljs language-stylus language-isbl\"><span class=\"hljs-function\"><span class=\"hljs-title\">AddJsonTranscoding</span><span class=\"hljs-params\">()</span></span></code>. For example, <code class=\"hljs language-css language-less\"><span class=\"hljs-selector-tag\">services</span><span class=\"hljs-selector-class\">.AddGrpc</span>()<span class=\"hljs-selector-class\">.AddJsonTranscoding</span>()</code>.</li>\n  <li>The last step is annotating your gRPC <em>.proto</em> file with HTTP bindings and routes. The annotations define how gRPC services map to the JSON request and response. You will need to add <code class=\"hljs language-xl language-abnf\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"google/api/annotations.proto\"</span>;</code> to the gRPC proto file and have a copy of <a href=\"https://github.com/dotnet/aspnetcore/blob/main/src/Grpc/JsonTranscoding/test/testassets/Sandbox/google/api/annotations.proto\"><em>annotations.proto</em></a> and <a href=\"https://github.com/dotnet/aspnetcore/blob/8b601c3a73ba66de4e6ca35530b5d32a48c76c5b/src/Grpc/JsonTranscoding/test/testassets/Sandbox/google/api/http.proto\"><em>http.proto</em></a> in the <code class=\"hljs language-undefined\">google/api</code> folder in your project.</li>\n  </ol>\n  <pre tabindex=\"0\"><code class=\"hljs language-routeros language-properties\">syntax = <span class=\"hljs-string\">\"proto3\"</span>;\n  \n  import <span class=\"hljs-string\">\"google/api/annotations.proto\"</span>;\n  \n  package greet;\n  <span class=\"hljs-built_in\">\n  service </span>Greeter {\n    rpc SayHello (HelloRequest) returns (HelloReply) {\n      option (google.api.http) = {\n        get: <span class=\"hljs-string\">\"/v1/greeter/{name}\"</span>\n      };\n    }\n  }\n  \n  message HelloRequest {\n    string name = 1;\n  }\n  \n  message HelloReply {\n    string message = 1;\n  }</code></pre>\n  <p>In the sample above, the SayHello gRPC method has been annotated with HTTP information. It can now be invoked as gRPC and as a RESTful API:</p>\n  <ul>\n  <li>Request: <code class=\"hljs language-armasm language-awk\"><span class=\"hljs-symbol\">HTTP</span>/<span class=\"hljs-number\">1</span>.<span class=\"hljs-number\">1</span> <span class=\"hljs-meta\">GET</span> /<span class=\"hljs-built_in\">v1</span>/greeter/world</code></li>\n  <li>Response: <code class=\"hljs language-json language-clojure\">{ <span class=\"hljs-attr\">\"message\"</span>: <span class=\"hljs-string\">\"Hello world\"</span> }</code></li>\n  </ul>\n  <p>And browser apps call it like any other RESTful API:</p>\n  <pre tabindex=\"0\"><code class=\"hljs language-coffeescript language-javascript\">fetch(<span class=\"hljs-string\">'https://localhost:5001/v1/greeter/world'</span>)\n      .<span class=\"hljs-keyword\">then</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">(response)</span> =&gt;</span> response.json())\n      .<span class=\"hljs-keyword\">then</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">(result)</span> =&gt;</span> {\n          <span class=\"hljs-built_in\">console</span>.log(result.message);\n          <span class=\"hljs-regexp\">//</span> Hello world\n      });</code></pre>\n  <p>This is a simple example. See <a href=\"https://cloud.google.com/service-infrastructure/docs/service-management/reference/rpc/google.api#google.api.HttpRule\">HttpRule</a> for more customization options.</p>\n  <h2 id=\"json-transcoding-vs-grpc-web\">JSON transcoding vs gRPC-Web<a href=\"#json-transcoding-vs-grpc-web\" aria-labelledby=\"json-transcoding-vs-grpc-web\"></a></h2>\n  <p>Both JSON transcoding and gRPC-Web allow gRPC services to be called from a browser. However, the way each does this is different:</p>\n  <ul>\n  <li>gRPC-Web lets browser apps call gRPC services from the browser with the gRPC-Web client and Protobuf. gRPC-Web requires the browser app to generate a gRPC client and has the advantage of sending small, fast Protobuf messages.</li>\n  <li>JSON transcoding allows browser apps to call gRPC services as RESTful APIs with JSON. The browser app doesn’t need to generate a gRPC client or know anything about gRPC.</li>\n  </ul>\n  <h2 id=\"about-json-transcoding-implementation\">About JSON transcoding implementation<a href=\"#about-json-transcoding-implementation\" aria-labelledby=\"about-json-transcoding-implementation\"></a></h2>\n  <p>JSON transcoding with gRPC isn’t a new concept. <a href=\"https://grpc-ecosystem.github.io/grpc-gateway/\">grpc-gateway</a> is another technology for creating RESTful JSON APIs from gRPC services. It uses the same <em>.proto</em> annotations to map HTTP concepts to gRPC services. The important difference is in how each is implemented.</p>\n  <p>grpc-gateway uses code generation to create a reverse-proxy server. The reverse-proxy translates RESTful calls into gRPC+Protobuf and sends them over HTTP/2 to the gRPC service. The benefit of this approach is the gRPC service doesn’t know about the RESTful JSON APIs. Any gRPC server can use grpc-gateway.</p>\n  <p>Meanwhile, gRPC JSON transcoding runs inside an ASP.NET Core app. It deserializes JSON into Protobuf messages, then invokes the gRPC service directly. We believe JSON transcoding offers many advantages to .NET app developers:</p>\n  <ul>\n  <li>Fewer moving parts. Both gRPC services and mapped RESTful JSON API run out of one ASP.NET Core application.</li>\n  <li>Performance. JSON transcoding deserializes JSON to Protobuf messages and invokes the gRPC service directly. There are significant performance benefits in doing this in-process vs. making a new gRPC call to a different server.</li>\n  <li>Cost. Fewer servers = smaller monthly hosting bill.</li>\n  </ul>\n  <p>JSON transcoding doesn’t replace MVC or Minimal APIs. It only supports JSON, and it’s very opinionated about how Protobuf maps to JSON.</p>\n  <h2 id=\"whats-next\">What’s next<a href=\"#whats-next\" aria-labelledby=\"whats-next\"></a></h2>\n  <p>This is the first release of gRPC JSON transcoding for .NET. Future previews of .NET 7 will focus on improving performance and OpenAPI support.</p>\n  <h2 id=\"try-it-with-net-today\">Try it with .NET today<a href=\"#try-it-with-net-today\" aria-labelledby=\"try-it-with-net-today\"></a></h2>\n  <p>gRPC JSON transcoding is available now with .NET 7 Preview 4.</p>\n  <p>For more information about JSON transcoding, check out the <a href=\"https://docs.microsoft.com/aspnet/core/grpc/httpapi\">documentation</a>, or try out <a href=\"https://github.com/grpc/grpc-dotnet/tree/master/examples#transcoder\">a sample app that uses JSON transcoding</a>.</p>\n  <p>We look forward to seeing what you create with .NET, gRPC, and now gRPC JSON transcoding!</p>\n  \n          \n  \n          \n          \n      </div>\n  \n  \n      \n  \n  </article></div></div>",
    "labels": "dotnet"
  },
  {
    "description": "Practical samples of ASP.NET Core 2.1, 2.2, 3.1, 5.0 and 6.0  projects you can use. Readme contains explanations on all projects. - practical-aspnetcore/README.md at net6.0 · dodyg/practical-aspnet...",
    "title": "practical-aspnetcore/README.md at net6.0 · dodyg/practical-aspnetcore",
    "content": "<div id=\"readability-content\"><div class=\"page\" id=\"readability-page-1\"><div data-pjax-container=\"\" id=\"js-repo-pjax-container\">\n    \n  \n  \n  \n  \n      \n  <p><a href=\"https://github.com/dodyg/practical-aspnetcore/blob/5dc53ef2ee0775be393934036f6ba5a8b58cf047/projects/syndications/README.md\" data-hotkey=\"y\">Permalink</a></p>\n  \n  \n  \n  \n  \n      \n  \n      \n  \n  \n  \n      <div>\n      <details id=\"blob_contributors_box\">\n        <summary role=\"button\">\n          \n          <strong>2</strong>\n          \n          contributors\n        </summary>\n        \n          <div>\n            <h3>\n              Users who have contributed to this file\n            </h3>\n          </div>\n          \n            <svg data-view-component=\"true\" fill=\"none\" viewBox=\"0 0 16 16\" height=\"32\" width=\"32\" style=\"box-sizing: content-box; color: var(--color-icon-primary);\">\n    <circle stroke-width=\"2\" stroke-opacity=\"0.25\" stroke=\"currentColor\" r=\"7\" cy=\"8\" cx=\"8\"></circle>\n    <path stroke-linecap=\"round\" stroke-width=\"2\" stroke=\"currentColor\" d=\"M15 8a7.002 7.002 0 00-7-7\"></path>\n  </svg>\n          \n        \n      </details>\n        </div>\n  \n  \n  \n  \n  \n  \n  \n    \n      \n  \n  \n    \n  \n    <details id=\"jumpto-line-details-dialog\">\n      <summary role=\"button\" aria-label=\"Jump to line\" data-hotkey=\"l\"></summary>\n      \n            \n    </details>\n  \n      \n  \n  \n  </div></div></div>",
    "labels": "dotnet"
  },
  {
    "description": "",
    "title": "Testcontainers",
    "content": "<div id=\"readability-content\"><div class=\"page\" id=\"readability-page-1\"><div data-md-component=\"container\">\n  <main data-md-component=\"main\">\n  <div data-md-component=\"content\">\n  <article>\n  <a title=\"Edit this page\" href=\"https://github.com/testcontainers/testcontainers-java/edit/master/docs/index.md\">\n  <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z\"></path></svg>\n  </a>\n  \n  \n  <p><img height=\"512\" width=\"1024\" alt=\"Testcontainers logo\" src=\"https://proxy-prod.omnivore-image-cache.app/1024x512,sqf2ZkBtN0pqotc9OlbvY-GT7MDebBoCdGYzQhL83ey0/https://d33wubrfki0l68.cloudfront.net/cc700d7332d47be0df36e71945435ac9d2b1dcd5/a9495/logo.png\"> </p>\n  <h2 id=\"about\">About</h2>\n  <p>Testcontainers is a Java library that supports JUnit tests, providing lightweight, throwaway instances of common databases, Selenium web browsers, or anything else that can run in a Docker container.</p>\n  <p>Testcontainers make the following kinds of tests easier:</p>\n  <ul>\n  <li><strong>Data access layer integration tests</strong>: use a containerized instance of a MySQL, PostgreSQL or Oracle database to test your data access layer code for complete compatibility, but without requiring complex setup on developers' machines and safe in the knowledge that your tests will always start with a known DB state. Any other database type that can be containerized can also be used.</li>\n  <li><strong>Application integration tests</strong>: for running your application in a short-lived test mode with dependencies, such as databases, message queues or web servers.</li>\n  <li><strong>UI/Acceptance tests</strong>: use <a href=\"https://www.testcontainers.org/modules/webdriver_containers/\">containerized web browsers</a>, compatible with Selenium, for conducting automated UI tests. Each test can get a fresh instance of the browser, with no browser state, plugin variations or automated browser upgrades to worry about. And you get a video recording of each test session, or just each session where tests failed.</li>\n  <li><strong>Much more!</strong> Check out the various contributed modules or create your own custom container classes using <a href=\"https://www.testcontainers.org/features/creating_container/\"><code class=\"hljs language-ebnf language-gcode\"><span class=\"hljs-attribute\">GenericContainer</span></code></a> as a base.</li>\n  </ul>\n  <h2 id=\"prerequisites\">Prerequisites</h2>\n  <ul>\n  <li>Docker - please see <a href=\"https://www.testcontainers.org/supported_docker_environment/\">General Docker requirements</a></li>\n  <li>A supported JVM testing framework:<ul>\n  <li><a href=\"https://www.testcontainers.org/test_framework_integration/junit_4/\">JUnit 4</a> - See the <a href=\"https://www.testcontainers.org/quickstart/junit_4_quickstart/\">JUnit 4 Quickstart Guide</a></li>\n  <li><a href=\"https://www.testcontainers.org/test_framework_integration/junit_5/\">Jupiter/JUnit 5</a></li>\n  <li><a href=\"https://www.testcontainers.org/test_framework_integration/spock/\">Spock</a></li>\n  <li><em>Or</em> manually add code to control the container/test lifecycle (See <a href=\"https://www.testcontainers.org/test_framework_integration/junit_4/#manually-controlling-container-lifecycle\">hints for this approach</a>)</li>\n  </ul>\n  </li>\n  </ul>\n  <h2 id=\"maven-dependencies\">Maven dependencies</h2>\n  <p>Testcontainers is distributed as separate JARs with a common version number:</p>\n  <ul>\n  <li>A core JAR file for core functionality, generic containers and docker-compose support</li>\n  <li>A separate JAR file for each of the specialised modules. Each module's documentation describes the Maven/Gradle dependency to add to your project's build.</li>\n  </ul>\n  <p>For the core library, the latest Maven/Gradle dependency is as follows: </p>\n  <div data-tabs=\"1:2\"><p><label for=\"__tabbed_1_1\">Gradle</label><label for=\"__tabbed_1_2\">Maven</label></p>\n  <div>\n  <div><pre id=\"__code_1\"><span></span><code class=\"hljs language-css language-nginx\"><span class=\"hljs-selector-tag\">testImplementation</span> \"<span class=\"hljs-selector-tag\">org</span><span class=\"hljs-selector-class\">.testcontainers</span><span class=\"hljs-selector-pseudo\">:testcontainers</span><span class=\"hljs-selector-pseudo\">:1.16.3\"</span>\n  </code></pre></div>\n  <div><pre id=\"__code_2\"><span></span><code class=\"hljs language-xml language-bnf\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.testcontainers<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>testcontainers<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>1.16.3<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">scope</span>&gt;</span>test<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">scope</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n  </code></pre></div>\n  </div>\n  </div>\n  <p>You can also <a href=\"https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.testcontainers%22\">check the latest version available on Maven Central</a>.</p>\n  <h3 id=\"managing-versions-for-multiple-testcontainers-dependencies\">Managing versions for multiple Testcontainers dependencies</h3>\n  <p>To avoid specifying the version of each dependency, you can use a <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">BOM</span></code> or <code class=\"hljs language-armasm language-ebnf\"><span class=\"hljs-keyword\">Bill </span>Of Materials</code>.</p>\n  <p>Using Maven you can add the following to <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">dependencyManagement</span></code> section in your <code class=\"hljs language-css language-lasso\"><span class=\"hljs-selector-tag\">pom</span><span class=\"hljs-selector-class\">.xml</span></code>:</p>\n  \n  <div><pre id=\"__code_3\"><span></span><code class=\"hljs language-xml language-bnf\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependencyManagement</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependencies</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.testcontainers<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>testcontainers-bom<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>1.16.3<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">type</span>&gt;</span>pom<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">type</span>&gt;</span>\n              <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">scope</span>&gt;</span>import<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">scope</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependencies</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependencyManagement</span>&gt;</span>\n  </code></pre></div>\n  <p>and then use dependencies without specifying a version:</p>\n  <div data-tabs=\"3:1\"><p><label for=\"__tabbed_3_1\">Maven</label></p>\n  <div><pre id=\"__code_4\"><span></span><code class=\"hljs language-xml language-bnf\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.testcontainers<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>mysql<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">scope</span>&gt;</span>test<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">scope</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n  </code></pre></div>\n  </div>\n  <p>Using Gradle 5.0 or higher, you can add the following to the <code class=\"hljs language-ebnf language-gradle\"><span class=\"hljs-attribute\">dependencies</span></code> section in your <code class=\"hljs language-css language-n1ql\"><span class=\"hljs-selector-tag\">build</span><span class=\"hljs-selector-class\">.gradle</span></code>:</p>\n  <div data-tabs=\"4:1\"><p><label for=\"__tabbed_4_1\">Gradle</label></p>\n  <div><pre id=\"__code_5\"><span></span><code class=\"hljs language-stylus language-delphi\">implementation platform(<span class=\"hljs-string\">'org.testcontainers:testcontainers-bom:1.16.3'</span>) <span class=\"hljs-comment\">//import bom</span>\n  <span class=\"hljs-function\"><span class=\"hljs-title\">testImplementation</span><span class=\"hljs-params\">(<span class=\"hljs-string\">'org.testcontainers:mysql'</span>)</span></span> <span class=\"hljs-comment\">//no version specified</span>\n  </code></pre></div>\n  </div>\n  <p><a href=\"https://www.testcontainers.org/jitpack_dependencies/\">JitPack</a> builds are available for pre-release versions.</p>\n  <div>\n  <p>Shaded dependencies</p>\n  <p>Testcontainers depends on other libraries (like docker-java) for it to work.<br>\n  Some of them (JUnit, docker-java-{api,transport} and its transitive dependencies, JNA, visible-assertions and others) are part of our public API.<br>\n  But there are also \"private\", implementation detail dependencies (e.g. docker-java-core, Guava, OkHttp, etc etc) that are not exposed to public API but prone to conflicts with test code/application under test code.\n  As such, <strong>these libraries are 'shaded' into the core testcontainers JAR</strong> and relocated under <code class=\"hljs language-css language-stylus\"><span class=\"hljs-selector-tag\">org</span><span class=\"hljs-selector-class\">.testcontainers</span><span class=\"hljs-selector-class\">.shaded</span></code> to prevent class conflicts.</p>\n  </div>\n  \n  <p>A huge thank you to our sponsors:</p>\n  \n  \n  \n  \n  \n  \n  <h3 id=\"donors\">Donors</h3>\n  \n  <h3 id=\"backers\">Backers</h3>\n  <ul>\n  <li><a href=\"https://github.com/rieckpil\">Philip Riecks (@rieckpil)</a></li>\n  <li><a href=\"https://github.com/khmarbaise\">Karl Heinz Marbaise (@khmarbaise)</a></li>\n  <li><a href=\"https://github.com/sascha-frinken\">Sascha Frinken (@sascha-frinken)</a></li>\n  <li><a href=\"https://github.com/dreis2211\">Christoph Dreis (@dreis2211)</a></li>\n  <li><a href=\"https://github.com/zhenik\">Nikita Zhevnitskiy (@zhenik)</a></li>\n  <li><a href=\"https://github.com/bastoker\">Bas Stoker (@bastoker)</a></li>\n  <li><a href=\"https://github.com/oleg-nenashev\">Oleg Nenashev (@oleg-nenashev)</a></li>\n  <li><a href=\"https://github.com/rikglover\">Rik Glover (@rikglover)</a></li>\n  <li><a href=\"https://github.com/recrsn\">Amitosh Swain Mahapatra (@recrsn)</a></li>\n  <li><a href=\"https://opencollective.com/paris-apostolopoulos\">Paris Apostolopoulos</a></li>\n  </ul>\n  <h2 id=\"who-is-using-testcontainers\">Who is using Testcontainers?</h2>\n  <ul>\n  <li><a href=\"https://zeroturnaround.com/\">ZeroTurnaround</a> - Testing of the Java Agents, micro-services, Selenium browser automation</li>\n  <li><a href=\"https://zipkin.io/\">Zipkin</a> - MySQL and Cassandra testing</li>\n  <li><a href=\"https://gora.apache.org/\">Apache Gora</a> - CouchDB testing</li>\n  <li><a href=\"https://james.apache.org/\">Apache James</a> - LDAP and Cassandra integration testing</li>\n  <li><a href=\"https://github.com/streamsets/datacollector\">StreamSets</a> - LDAP, MySQL Vault, MongoDB, Redis integration testing</li>\n  <li><a href=\"https://github.com/Playtika/testcontainers-spring-boot\">Playtika</a> - Kafka, Couchbase, MariaDB, Redis, Neo4j, Aerospike, MemSQL</li>\n  <li><a href=\"https://www.jetbrains.com/\">JetBrains</a> - Testing of the TeamCity plugin for HashiCorp Vault</li>\n  <li><a href=\"https://plumbr.io/\">Plumbr</a> - Integration testing of data processing pipeline micro-services</li>\n  <li><a href=\"https://streaml.io/\">Streamlio</a> - Integration and Chaos Testing of our fast data platform based on Apache Puslar, Apache Bookeeper and Apache Heron.</li>\n  <li><a href=\"https://projects.spring.io/spring-session/\">Spring Session</a> - Redis, PostgreSQL, MySQL and MariaDB integration testing</li>\n  <li><a href=\"https://camel.apache.org/\">Apache Camel</a> - Testing Camel against native services such as Consul, Etcd and so on</li>\n  <li><a href=\"https://infinispan.org/\">Infinispan</a> - Testing the Infinispan Server as well as integration tests with databases, LDAP and KeyCloak</li>\n  <li><a href=\"https://www.instana.com/\">Instana</a> - Testing agents and stream processing backends</li>\n  <li><a href=\"https://www.ebay.com/\">eBay Marketing</a> - Testing for MySQL, Cassandra, Redis, Couchbase, Kafka, etc.</li>\n  <li><a href=\"https://www.skyscanner.net/\">Skyscanner</a> - Integration testing against HTTP service mocks and various data stores</li>\n  <li><a href=\"https://neo4j.com/developer/neo4j-ogm/\">Neo4j-OGM</a> - Testing with Neo4j</li>\n  <li><a href=\"https://github.com/spring-projects/spring-data-neo4j/\">Spring Data Neo4j</a> - Testing imperative and reactive implementations with Neo4j</li>\n  <li><a href=\"https://www.lightbend.com/\">Lightbend</a> - Testing <a href=\"https://doc.akka.io/docs/alpakka-kafka/current/\">Alpakka Kafka</a> and support in <a href=\"https://doc.akka.io/docs/alpakka-kafka/current/testing.html#testing-with-kafka-in-docker\">Alpakka Kafka Testkit</a></li>\n  <li><a href=\"https://corporate.zalando.com/en\">Zalando SE</a> - Testing core business services</li>\n  <li><a href=\"https://tech.europace.de/\">Europace AG</a> - Integration testing for databases and micro services</li>\n  <li><a href=\"https://github.com/micronaut-projects/micronaut-data/\">Micronaut Data</a> - Testing of Micronaut Data JDBC, a database access toolkit</li>\n  <li><a href=\"https://github.com/eclipse-vertx/vertx-sql-client\">Vert.x SQL Client</a> - Testing with PostgreSQL, MySQL, MariaDB, SQL Server, etc.</li>\n  <li><a href=\"https://www.jhipster.tech/\">JHipster</a> - Couchbase and Cassandra integration testing</li>\n  <li><a href=\"https://www.wescale.com/\">wescale</a> - Integration testing against HTTP service mocks and various data stores</li>\n  <li><a href=\"https://marquezproject.github.io/marquez\">Marquez</a> - PostgreSQL integration testing</li>\n  <li><a href=\"https://wise.com/\">Wise (formerly TransferWise)</a> - Integration testing for different RDBMS, kafka and micro services</li>\n  <li><a href=\"https://xwiki.org/\">XWiki</a> - <a href=\"https://dev.xwiki.org/xwiki/bin/view/Community/Testing/DockerTesting/\">Testing XWiki</a> under all <a href=\"https://dev.xwiki.org/xwiki/bin/view/Community/SupportStrategy/\">supported configurations</a></li>\n  <li><a href=\"https://github.com/apache/skywalking\">Apache SkyWalking</a> - End-to-end testing of the Apache SkyWalking, and plugin tests of its subproject, <a href=\"https://github.com/apache/skywalking-python\">Apache SkyWalking Python</a>, and of its eco-system built by the community, like <a href=\"https://github.com/SkyAPM/nodejs\">SkyAPM NodeJS Agent</a></li>\n  <li><a href=\"https://www.jooq.org/\">jOOQ</a> - Integration testing all of jOOQ with a variety of RDBMS</li>\n  <li><a href=\"https://trino.io/\">Trino (formerly Presto SQL)</a> - Integration testing all Trino core &amp; connectors, including tests of multi-node deployments and security configurations.</li>\n  <li>Google - Various open source projects: <a href=\"https://github.com/GoogleCloudPlatform/opentelemetry-operations-java\">OpenTelemetry</a>, <a href=\"https://github.com/seattle-uat/universal-application-tool\">Universal Application Tool</a>, <a href=\"https://github.com/GoogleCloudPlatform/cloudbowl-microservice-game\">CloudBowl</a></li>\n  <li><a href=\"https://www.backbase.com/\">Backbase</a> - Unit, Integration and Acceptance testing for different the databases supported (Oracle, SQL Server, MySQL), the different messaging systems supported (Kafka, Rabbit, AMQ) and other microservices and HTTP mocks.</li>\n  <li><a href=\"https://www.cloudbees.com/\">CloudBees</a> - Integration testing of products, including but not limited to database and AWS/Localstack integration testing.</li>\n  <li><a href=\"https://www.jenkins.io/\">Jenkins</a> - Integration testing of multiple plugins and the Trilead SSH2 fork maintained by the Jenkins community\n  (<a href=\"https://github.com/search?l=Maven+POM&amp;q=org%3Ajenkinsci+testcontainers&amp;type=Code\">query</a>).</li>\n  <li><a href=\"https://www.elastic.co/\">Elastic</a> - Integration testing of the Java APM agent</li>\n  <li><a href=\"https://www.alkira.com/\">Alkira</a> - Testing of multiple micro-services using Kafka, PostgreSQL, Apache Zookeeper, Etcd and so on.</li>\n  <li><a href=\"https://www.togglz.org/\">Togglz</a> - Feature Flags for the Java platform</li>\n  <li><a href=\"https://www.byzer.org/home\">Byzer</a> - Integration tests for Data and AI platforms are based on multiple versions of Byzer, Ray and Apache Spark.</li>\n  </ul>\n  <h2 id=\"license\">License</h2>\n  <p>See <a href=\"https://raw.githubusercontent.com/testcontainers/testcontainers-java/master/LICENSE\">LICENSE</a>.</p>\n  <h2 id=\"attributions\">Attributions</h2>\n  <p>This project includes a modified class (ScriptUtils) taken from the Spring JDBC project, adapted under the terms of the Apache license. Copyright for that class remains with the original authors.</p>\n  <p>This project was initially inspired by a <a href=\"https://gist.github.com/mosheeshel/c427b43c36b256731a0b\">gist</a> by <a href=\"https://github.com/mosheeshel\">Moshe Eshel</a>.</p>\n  \n  <p>Copyright (c) 2015-2021 Richard North and other authors.</p>\n  <p>See <a href=\"https://raw.githubusercontent.com/testcontainers/testcontainers-java/master/AUTHORS\">AUTHORS</a> for contributors.</p>\n  </article>\n  </div>\n  </main>\n  \n  </div></div></div>",
    "labels": "dotnet"
  },
  {
    "description": "It is time to prepare your WPF and Winforms legacy migration. This article explains the necessary refactoring steps to achieve first.",
    "title": "WPF / Winforms UI Refactoring: A Case Study - NDepend",
    "content": "<div id=\"readability-content\"><div class=\"page\" id=\"readability-page-1\"><div>\n  \n          <article id=\"post-4826\">\n      \n      \n  \n      <div>\n          <p><a href=\"https://blog.ndepend.com/wp-content/uploads/WPF-Winforms-UI-Refactoring-A-Case-Study.png\"><img sizes=\"(max-width: 930px) 100vw, 930px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/930x0,sMvSQf66EK_FUa2YuQXq0CmcV848y37uURfGPcIecvqw/https://blog.ndepend.com/wp-content/uploads/WPF-Winforms-UI-Refactoring-A-Case-Study.png 930w,https://proxy-prod.omnivore-image-cache.app/300x0,sOLCVDnLXTSbXxjQkBknKwMxKsBSyu2YcLChGf-MZfr4/https://blog.ndepend.com/wp-content/uploads/WPF-Winforms-UI-Refactoring-A-Case-Study-300x139.png 300w,https://proxy-prod.omnivore-image-cache.app/768x0,so_Nc837RT5k1TXmBqfsxp705crQuDUWc418or3lJz-g/https://blog.ndepend.com/wp-content/uploads/WPF-Winforms-UI-Refactoring-A-Case-Study-768x355.png 768w,\" height=\"430\" width=\"930\" alt=\"WPF Winforms UI Refactoring A Case Study\" src=\"https://proxy-prod.omnivore-image-cache.app/930x430,sHXnPQODR-njUXh-wkYQ1SGNTdVH0aw9yWdq9eodo3rw/https://blog.ndepend.com/wp-content/uploads/WPF-Winforms-UI-Refactoring-A-Case-Study.png\"></a></p>\n  <p>WPF and Winforms are still so massively used that Microsoft fully supports those technologies in .NET Core, .NET 5, 6 , 7 and so on. However WPF and Winforms are not multi-platforms and it is clear that they are not the future of .NET desktop UI. Microsoft will soon release MAUI RTM (<a rel=\"noopener\" href=\"https://devblogs.microsoft.com/dotnet/dotnet-maui-rc-3/\">currently in Release Candidate stage</a>) but <a rel=\"noopener\" href=\"https://www.reddit.com/r/dotnet/comments/rq250d/thoughts_on_the_future_of_net_maui/\">there are debates about its adoption and future</a>.</p>\n  <p>Indeed .NET Developers should be careful in which technology to invest in since Microsoft has a long track-record of dead (or so) UI technologies (Silverlight, UWP, WinUI, WinRT, Metro… ). Also many .NET shops already migrated to the <a rel=\"noopener\" href=\"https://avaloniaui.net/\">Avalonia</a> or <a rel=\"noopener\" href=\"https://platform.uno/\">Uno</a> platforms and are happy with it.</p>\n  <p>In this context, the only wise action to prepare the future is to segregate as much code as possible from your actual UI framework. Of course this is the number one general advice when it comes to UI code. But in practice all legacies have far too much code still entangled with WPF and Winforms framework to decouple. We – at NDepend – are no exception, and since the UI future is uncertain we are now in this process of taming our UI dependencies.</p>\n  <p>Our goal is to have all our logic implemented in .NET Standard 2.0. The new APIs in .NET 6, .NET 7 and so on are very exciting but as explained in the post <a rel=\"noopener\" href=\"https://blog.ndepend.com/5x-lessons-learned-from-migrating-a-large-legacy-to-net-5-6/\">5x Lessons Learned from Migrating a Large Legacy to .NET 5/6</a> it is quite a desirable achievement to be runnable within .NET Fx, .NET 5/6/7 process and who knows, maybe in the browser with Blazor that has full .NET standard support. Moreover we will still have to support users developing with .NET Fx based tools (like Visual Studio 2022 and lower) for many years. This is why .NET Standard still really makes sense.</p>\n  <h2>Case Study</h2>\n  <p>WPF and Winforms UI logic can usually be split in two categories:</p>\n  <ul>\n  <li>1) There is the code directly consuming WPF and Winforms frameworks (controls, event handlers, drawing…).</li>\n  <li>2) And there is the code that model, hold and process the data consumed by the code above. I am not talking of <a rel=\"noopener\" href=\"https://blog.ndepend.com/clean-architecture-refactoring-a-case-study/\">the domain classes that should definitely be abstracted from any kind of concern in a clean architecture</a>. Let’s exhibit an example of such UI code that shouldn’t depend on a UI framework.</li>\n  </ul>\n  <p>The NDepend code query result panel is quite a beast. Hopefully when developing it we segregated it into a <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">Physical</span></code> namespace (that handles the rows on screen, expanding, collapsing, virtual data grid view…) and a <code class=\"hljs language-ebnf language-fortran\"><span class=\"hljs-attribute\">Logical</span></code> namespace (the rows model inferred from the code query result). See the <code class=\"hljs language-ebnf language-fortran\"><span class=\"hljs-attribute\">Logical</span></code>&nbsp;namespace <em>Solution Explorer</em> view below:</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/Large-Winforms-Namespace.png\"><img sizes=\"(max-width: 502px) 100vw, 502px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/502x0,sU_RlPA9y-NFh9w9_TYpTpIMd3CrI-I0uK7Cfbi5u6KA/https://blog.ndepend.com/wp-content/uploads/Large-Winforms-Namespace.png 502w,https://proxy-prod.omnivore-image-cache.app/168x0,s7nX0bkE4aQdv4Xr_gCI1qGSUB8Gin42nyRXXIgB1AAE/https://blog.ndepend.com/wp-content/uploads/Large-Winforms-Namespace-168x300.png 168w,\" height=\"895\" width=\"502\" alt=\"Large-Winforms-Namespace\" src=\"https://proxy-prod.omnivore-image-cache.app/502x895,sLZx5jCT2X-EB30a894tsKhHdI_oY38Z2uwFTHXacZN4/https://blog.ndepend.com/wp-content/uploads/Large-Winforms-Namespace.png\" loading=\"lazy\"></a></p>\n  <p>This <code class=\"hljs language-ebnf language-fortran\"><span class=\"hljs-attribute\">Logical</span></code> namespace is still consuming Winforms and GDI <em>a bit</em> and is a good candidate to be re-used in the future. Thus it needs some refactoring. To better understand the coupling let’s edit this <a rel=\"noopener\" href=\"https://www.ndepend.com/docs/query-code-with-csharp-linq\">C# LINQ code query</a>:</p>\n  \n          <div data-settings=\"minimize scroll-mouseover\" id=\"crayon-627b946b210c5788349285\"><p><span>let </span><span>typesWinforms</span><span> </span>=<span> </span></p><p><span>&nbsp;&nbsp; </span><span>Assemblies</span><span>.</span><span>WithNameIn</span><span>(</span><span>\"System.Windows.Form\"</span><span>,</span><span> </span><span>\"System.Drawing\"</span><span>)</span></p><p><span>&nbsp;&nbsp; </span><span>.</span><span>ChildTypes</span><span>(</span><span>)</span></p><p><span>let </span><span>typesUsingWinform</span><span> </span>=<span> </span></p><p><span>&nbsp;&nbsp; </span><span>Namespaces</span><span>.</span><span>WithName</span><span>(</span><span>\"NDepend.UI.Shared.QueryResult.Logical\"</span><span>)</span></p><p><span>&nbsp;&nbsp; </span><span>.</span><span>ChildTypes</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp; </span><span>.</span><span>UsingAny</span><span>(</span><span>typesWinforms</span><span>)</span></p><p><span>from</span><span> </span><span>t</span><span> </span><span>in</span><span> </span><span>typesUsingWinform</span><span>.</span><span>Concat</span><span>(</span><span>typesWinforms</span><span>)</span></p><p><span>select</span><span> </span><span>new</span><span> </span><span>{</span><span> </span><span>t</span><span>,</span><span> </span><span>winformTypesUsed</span><span> </span>=<span> </span><span>t</span><span>.</span><span>TypesUsed</span><span>.</span><span>Intersect</span><span>(</span><span>typesWinforms</span><span>)</span><span> </span><span>}</span></p></div>\n  \n  <p>Here is the result (drawn by the code query result code analyzed by the way):</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/Coupling-with-winform-GDI.png\"><img sizes=\"(max-width: 652px) 100vw, 652px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/652x0,sbAnELEwaALnzcBgar-F4FbkzsrTeXeYhGby1WIQPfVo/https://blog.ndepend.com/wp-content/uploads/Coupling-with-winform-GDI.png 652w,https://proxy-prod.omnivore-image-cache.app/257x0,sybCFaJVlEgtC4jKPl6-us8V129bcAjrN1G2k6Z2wruA/https://blog.ndepend.com/wp-content/uploads/Coupling-with-winform-GDI-257x300.png 257w,\" height=\"761\" width=\"652\" alt=\"Coupling-with-winform-GDI\" src=\"https://proxy-prod.omnivore-image-cache.app/652x761,s_ORR8kDS1BU6MAvLNMOUmDoyK4QbKrigDIL2bGJ-ahA/https://blog.ndepend.com/wp-content/uploads/Coupling-with-winform-GDI.png\" loading=\"lazy\"></a></p>\n  <p>We can see that several rows classes like <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">RowItemIssue</span></code> are still coupled with the Winforms / GDI framework to do some drawing stuff. Thus thanks to this query result we can now choose which classes to uncouple and which one will remain on the WPF/Winforms side (like <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">CellDrawer</span></code> or <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">FormSuppressIssue</span></code>).</p>\n  <p>To ease this <em>refactor-decision-phase</em> we can export the 68 matched classes to the <a rel=\"noopener\" href=\"https://www.ndepend.com/docs/visual-studio-dependency-graph\">dependency graph</a> to see how they interact. Here the class <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">RowItemIssue</span></code> is selected. Blue cells represent classes directly used by <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">RowItemIssue</span></code> while light-blue cells are classes used indirectly by <code class=\"hljs language-ebnf\"><span class=\"hljs-attribute\">RowItemIssue</span></code>.</p>\n  <p><a href=\"https://blog.ndepend.com/wp-content/uploads/Dependency-Graph-UI-coupling.png\"><img sizes=\"(max-width: 1024px) 100vw, 1024px\" srcset=\"https://proxy-prod.omnivore-image-cache.app/1024x0,s5pj_eRLxc1qLCOVv3NX1dmhpl78WnCy0FbKbWPdWGzI/https://blog.ndepend.com/wp-content/uploads/Dependency-Graph-UI-coupling-1024x948.png 1024w,https://proxy-prod.omnivore-image-cache.app/300x0,snOPh4z7yO3nMHdNeDscHx5P3wk7H-s29s2mLQ_ZY-3M/https://blog.ndepend.com/wp-content/uploads/Dependency-Graph-UI-coupling-300x278.png 300w,https://proxy-prod.omnivore-image-cache.app/768x0,s-NkboOPlbCV2FCTMne8LXaoc2wcAUGWSwefF-jKRYc0/https://blog.ndepend.com/wp-content/uploads/Dependency-Graph-UI-coupling-768x711.png 768w,https://proxy-prod.omnivore-image-cache.app/1133x0,sn2TMSxMwb9NSXGBRoRvqI3vu10J7GtahOnL8IoVe4GM/https://blog.ndepend.com/wp-content/uploads/Dependency-Graph-UI-coupling.png 1133w,\" height=\"948\" width=\"1024\" alt=\"Dependency-Graph-UI-coupling\" src=\"https://proxy-prod.omnivore-image-cache.app/1024x948,sioF8xIwTCp-sQ_iWplucznvzSQiJuR2vjIYkMGxdS4A/https://blog.ndepend.com/wp-content/uploads/Dependency-Graph-UI-coupling-1024x948.png\" loading=\"lazy\"></a></p>\n  <p>We can now go to the source code and eliminate the unwanted dependencies. For that we will define some interfaces to abstract the drawing logic from the row model that we want to preserve. This is the <a rel=\"noopener\" href=\"https://blog.ndepend.com/solid-design-the-dependency-inversion-principle-dip/\">SOLID principle Dependency Inversion Principle (DIP)</a> in action.</p>\n  <h2>Conclusion</h2>\n  <p>Today it is hard to chose a modern .NET desktop UI technology with confidence. The future is still uncertain. This is why it makes sense to segregate code now to prepare for the future.</p>\n  <p>Refactoring a large legacy to reduce (or eliminate) the adherence to a framework is not an easy task. However this process can be simplified by using a tool like <a rel=\"noopener\" href=\"https://www.ndepend.com/docs/ndepend-use-cases\">NDepend that can be an eye-opener in many situations</a>.</p>\n  \n  \n  \n  \n  <div data-author-type=\"user\" data-multiauthor=\"false\" data-box-layout=\"layout-1\" data-plugin-version=\"premium\" data-plugin-release=\"3.2.1\" id=\"mab-1896315377\" data-author-ref=\"user-2\" data-profile-layout=\"layout-1\">\n  \n      \n      \n      <p><a href=\"https://blog.ndepend.com/author/psmacchia/\">\n                      <img loading=\"lazy\" alt=\"Patrick Smacchia\" src=\"https://proxy-prod.omnivore-image-cache.app/150x150,s91yuwjaE8_stItAP_cecjwFWmYcIj4_F-O--kenBqv4/https://blog.ndepend.com/wp-content/uploads/006-150x150.jpg\" height=\"150\" width=\"150\">                </a>\n                      </p>\n  \n      \n      \n      \n      <div>\n          <p>My dad being an early programmer in the 70's, I have been fortunate to switch from playing with Lego, to program my own micro-games, when I was still a kid. Since then I never stop programming.</p>\n  <p>I graduated in Mathematics and Software engineering. After a decade of C++ programming and consultancy, I got interested in the brand new .NET platform in 2002. I had the chance to write the best-seller book (in French) on .NET and C#, published by O'Reilly and also did manage some academic and professional courses on the platform and C#.</p>\n  <p>Over my consulting years I built an expertise about the architecture, the evolution and the maintenance challenges of large &amp; complex real-world applications. It seemed like the spaghetti &amp; entangled monolithic legacy concerned every sufficiently large team. As a consequence, I got interested in static code analysis and started the project NDepend.</p>\n  <p>Today, with more than 12.000 client companies, including many of the Fortune 500 ones, NDepend offers deeper insight and full control on their application to a wide range of professional users around the world.</p>\n  <p>I live with my wife and our twin kids Léna and Paul in the beautiful island of Mauritius in the Indian Ocean.</p>\n      </div>\n  \n  </div></div>\n  \n      \n      \n  \n  </article>\n  <div>\n          <h2>Make your .NET code beautiful with NDepend</h2>\n          <p>Measure quality with metrics, generate diagrams and enforce decisions with code rules, right in Visual Studio.</p>\n          <p><a href=\"https://www.ndepend.com/download\"><span>Download the</span> <span>14 day trial</span> <span>now</span></a>\n      </p></div>\n  \n              </div></div></div>",
    "labels": "dotnet"
  },
  {
    "description": "Microsoft is giving employees the ultimate form of appreciation--a bigger paycheck.",
    "title": "In 1 Sentence, Microsoft's CEO Just Explained How to Attract and Keep Top Talent. It's the Best I've Seen Yet",
    "content": "<DIV class=\"page\" id=\"readability-page-1\"><div><article><header><h3><span>Microsoft is giving employees the ultimate form of appreciation--a bigger paycheck.</span></h3></header><article><figure><picture><source media=\"(max-width:600px)\" srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,swD_tg0AXh3sZY62hOhrPhe04XJuAdt1ZVhjbIRH4Ddw/https://img-cdn.inc.com/image/upload/w_970,h_450,c_fill/images/panoramic/getty_459885938_t0lfbn.jpg,\"><source media=\"(min-width:601px)\" srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,sKojI9H9dTJWzAJIECBuGy9r7XAeJRZ239UAbLQo5vc8/https://img-cdn.inc.com/image/upload/w_1920,h_1080,c_fill/images/panoramic/getty_459885938_t0lfbn.jpg,\"><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sKojI9H9dTJWzAJIECBuGy9r7XAeJRZ239UAbLQo5vc8/https://img-cdn.inc.com/image/upload/w_1920,h_1080,c_fill/images/panoramic/getty_459885938_t0lfbn.jpg\" alt=\"Satya Nadella.\"></picture><P><figcaption>Satya Nadella.</figcaption><figcaption>&nbsp;Getty Images</figcaption></P></figure><div><p>If you lead a <a href=\"https://www.inc.com/jason-aten/microsoft-just-dethroned-apple-as-worlds-most-valuable-company-with-a-brilliant-strategy-be-boring.html\">$2 trillion software company</a>--like, say,&nbsp;Microsoft--you probably have a lot of things going on. The company's CEO, <a href=\"https://www.inc.com/jason-aten/microsofts-ceo-satya-nadella-says-this-1-trait-is-more-important-than-talent-or-experience.html\">Satya Nadella</a>, seems <a href=\"https://www.inc.com/jason-aten/3-leadership-lessons-from-microsofts-delicate-dance-with-tiktok.html\">pretty calm</a> anytime I've heard him speak, but let's face it, it's gotta be a stressful job. Among other things, there are products to design and ship, customers to take care of, and stockholders to keep happy. At any given time, any of those can lead to a number of major challenges.</p><p>The last thing you want to worry about is losing your best employees. That's because a CEO doesn't do those things alone. For that matter, the CEO doesn't actually do most of those things. It's just not possible in a company the size of Microsoft. In fact, I'd argue that one of the biggest challenges--if you happen to run one of the world's most valuable companies--is finding and keeping talented people who can help you deliver whatever it is you make.</p><p>That's not just true of really big tech companies like Microsoft. It's true for every company and every CEO. Managing people is always the hardest--and most important part of your job. Everything else rises and falls on how you lead your team.</p><p>I think it's fair to say the past two years have been especially challenging on that front. First, companies had to figure out how to keep people working when they couldn't come to the office. Everyone who manages people got an unexpected crash course in <a href=\"https://www.inc.com/jason-aten/3-tips-for-better-zoom-meetings-inspired-by-a-first-grade-teacher.html\">how to run a team meeting via Zoom.</a> A lot of them <a href=\"https://www.inc.com/jason-aten/the-ceo-who-fired-900-employees-on-a-zoom-call-is-out-its-a-tragic-example-of-how-not-to-manage-people.html\">failed</a>.&nbsp;</p><p>Now, many of the same companies are trying to figure out how to get employees to come back. That's a challenge because the past two years have proved that a lot of the jobs we thought had to be done in an office don't. A lot of people are just as--if not more--<a href=\"https://www.inc.com/jason-aten/with-just-1-word-microsoft-explained-real-reason-your-team-isnt-ready-to-return-to-work-yet.html\">productive working remotely</a> than they ever were in a cubicle. They're also a lot happier.&nbsp;</p><p>That's a big deal. Keeping your people happy is a pretty important part of keeping them productive.&nbsp;</p><p>Not only that, but if your company isn't willing to adapt and be flexible, your employees will just, you know, get a different job. If nothing else, employees realized over the past few years that their highly marketable skills meant they had a lot more influence over their working conditions. In Microsoft's case, that means competing for talent with some of the wealthiest companies on earth.&nbsp;</p><p>Microsoft's solution is pretty straightforward. On Monday,<a target=\"_blank\" href=\"https://www.geekwire.com/2022/satya-nadella-details-microsoft-plan-for-significant-additional-investment-in-employee-compensation/\"> GeekWire reported</a> on a memo from Nadella,&nbsp;in which he told employees the company&nbsp;was doubling the amount of money it will spend on merit-based salary increases. Let's be honest, few things make employees happier than being paid more money.</p><p>\"Time and time again, we see that our talent is in high demand, because of the amazing work you do to empower our customers and partners,\" Nadella wrote in the memo. \"Across the leadership team, your impact is both recognized and deeply appreciated--and for that I want to say a big thank you. That's why we're making long-term investments in each of you.\"</p><p>The thing most worth mentioning here is that, in many cases, the paragraph would have ended one sentence earlier. In many companies, the CEO would have sent out a nice memo thanking everyone for their hard work and encouraging them to keep it up. That's nice, and all, but your employees can't pay their mortgage with your&nbsp;appreciation and encouragement.&nbsp;</p><p>That's why the last sentence matters. Nadella isn't just telling employees how valuable they are; he's also backing it up with the ultimate form of employee appreciation--a bigger paycheck. That last sentence is the difference between a platitude and a brilliant strategy for keeping the company's best talent.&nbsp;</p><p>\"This increased investment in our worldwide compensation reflects the ongoing commitment we have to providing a highly competitive experience for our employees,\" a company spokesperson said in a <a target=\"_blank\" href=\"https://www.cnbc.com/2022/05/16/microsoft-ceo-satya-nadella-tells-employees-pay-increases-coming.html\">statement to CNBC</a>.&nbsp;</p><p>Look, obviously, if you work for Microsoft, it's good news. And, by the way, not just if you're a senior executive. Microsoft is focusing these salary increases not on senior-level employees, but rather on everyone else. That's a big deal on its own.&nbsp;</p><p>Microsoft can't afford to lose anyone. Finding highly skilled people capable of building complex things is hard. Hiring and training those people is expensive. It's both easier and more cost-effective to pay your best employees more if that's what it takes to keep them.</p><p>For that matter, if you work for any big tech company, it's probably good news since the company you work for will either have to do something similar, or you'll just go work for Microsoft. Which, is probably the point.&nbsp;</p></div></article></article></div></DIV>",
    "labels": "leadership"
  },
  {
    "description": "Whether you're choosing a spouse or a storefront, this math-based trick can help you pick well.",
    "title": "The 37 Percent Rule: The Mathematical Trick for Making Much Better Decisions",
    "content": "<div id=\"readability-content\"><div class=\"page\" id=\"readability-page-1\"><div><article><header><h3><span>Whether you're choosing a spouse or a storefront, this math-based trick can help you pick well. </span></h3></header><article><figure><picture><source srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,szVoLHBHfvGzxkh1qH9RTDRX0KgZeiKPqxuDwsWBo7hY/https://www.incimages.com/uploaded_files/image/GettyImages-1286017147_502327.gif,\" media=\"(max-width:600px)\"><source srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,szVoLHBHfvGzxkh1qH9RTDRX0KgZeiKPqxuDwsWBo7hY/https://www.incimages.com/uploaded_files/image/GettyImages-1286017147_502327.gif,\" media=\"(min-width:601px)\"><img alt=\"The 37 Percent Rule: The Mathematical Trick for Making Much Better Decisions\" src=\"https://proxy-prod.omnivore-image-cache.app/0x0,szVoLHBHfvGzxkh1qH9RTDRX0KgZeiKPqxuDwsWBo7hY/https://www.incimages.com/uploaded_files/image/GettyImages-1286017147_502327.gif\"></picture><p></p><figcaption>Illustration: Inc. Photo: Getty Images</figcaption><p></p></figure><div><p dir=\"ltr\">Inside every major decision nests another smaller decision: When do you give up on information gathering and decide you have enough data to make a choice? Spend too long probing your options and you fall prey to <a href=\"https://www.inc.com/jessica-stillman/5-ways-to-beat-decision-paralysis.html\">analysis paralysis</a> or let promising&nbsp;opportunities go by. Close out the process too quickly and you risk&nbsp;<a href=\"https://www.inc.com/jessica-stillman/daniel-pink-decision-making-regret-study.html\">regretting</a> options you never considered.&nbsp;</p><p dir=\"ltr\">This is true whether you're <a href=\"https://www.inc.com/jessica-stillman/this-mathematician-claims-to-have-found-the-formula-for-finding-true-love.html\">looking for a spouse</a> or looking for a storefront for your business. How do you decide when to explore further and when to pull the trigger on a choice?&nbsp;</p><p dir=\"ltr\">What if I told you that there is a single, mathematically derived answer to this question no matter what domain your decision falls in? Would you believe me if I told you it was the oddly specific number&nbsp;37?</p><p></p><h2 dir=\"ltr\">The mathematically ideal way to&nbsp;make important choices&nbsp;&nbsp;</h2><p></p><p>It seems strange to think that there would be one right answer to the question: How long do I keep exploring my options?&nbsp;Marrying the right person is perhaps the most consequential decision of your life. Surely, you should test the waters longer than if you're choosing a new swag supplier, right?&nbsp;</p><p dir=\"ltr\">But, as <a href=\"https://bigthink.com/neuropsych/the-37-percent-rule/?utm_source=mailchimp&amp;utm_medium=email&amp;utm_campaign=weeklynewsletter\">a fascinating recent Big Think article</a> explains in detail, no matter what choice you're trying to make, mathematicians claim the 37 percent rule applies. Here it is in a nutshell: Spend the first 37 percent of your decision-making process gathering information and committing to nothing. After that period, choose the next option that comes along that's better than everything you've seen before.&nbsp;</p><p dir=\"ltr\">This oddly precise recommendation actually has a formula behind it (the mathematically inclined can check out<a href=\"https://ideas.ted.com/when-should-you-settle-down/\"> a more detailed explanation here</a>), and mathematicians insist this rule gives you the highest probability of making the optimum choice.&nbsp;</p><p></p><h2 dir=\"ltr\">Applying a precise rule to messy reality</h2><p></p><p dir=\"ltr\">Applying this rule will, of course, look different in different situations. If you've given yourself a month to look at real estate, the 37 percent rule suggests you spend the first third or so of that surveying the market and making no decisions. If you're hiring an assistant and plan to interview 10 candidates, let the first three go by. Then choose the next person who beats that first bunch. If you're hoping to be settled down by 40 and start dating in high school, take the first third of your dating life -- up to around age 25 -- to casually check out your options.&nbsp;</p><p dir=\"ltr\">At this point, I am going to bet some of you have objections. What if an absolutely stellar candidate (or romantic interest or real estate play) just happens to be the first one you come across? Follow this rule and you might end up spending your life cursing math and wondering, \"What if?\"</p><p dir=\"ltr\">It is true that matters of the heart aren't logical, and this rule only maximizes probabilities. It doesn't guarantee success. So if lightning strikes or the angels sing and you're absolutely sure you've found the perfect match for you, don't let abstract formulas stand in the way. (Though do think back to how sure you were that your high school crush was The One and approach infatuation with an appropriate degree of skepticism.)&nbsp;</p><p dir=\"ltr\">But even if it's unwise to blindly follow the 37 percent rule in every instance, that doesn't make it invalid or unhelpful. Knowing that spending roughly the first third of your decision-making process gathering information is generally optimal can help you<a href=\"https://www.inc.com/jessica-stillman/1-simple-way-to-train-your-brain-to-feel-joy-of-missing-out.html\"> resist both FOMO</a> and analysis paralysis. Knowing that you should snap up the first candidate who beats the&nbsp;options you previously explored&nbsp;can help you <a href=\"https://www.inc.com/jessica-stillman/3-tricks-to-become-a-more-courageous-person.html\">muster the courage</a> to pull the trigger.&nbsp;</p><p dir=\"ltr\">The trick to great decision making is balancing exploration and decisiveness, and that's exactly what the 37 percent rule helps you do.&nbsp;</p></div></article></article></div></div></div>",
    "labels": "leadership"
  },
  {
    "description": "A look at the container solutions available in Azure",
    "title": "Which Azure Container Solution is right for you?",
    "content": "<div id=\"readability-content\"><div class=\"page\" id=\"readability-page-1\"><div><article><p>Posted on <time>Tuesday, Oct 12, 2021</time></p><section data-swiftype-index=\"true\"><p>Containers have emerged as one of the de facto standards for running software. When adopted with the right mindset, they can drastically improve the development lifecycle and help to close the loop between local development and running your applications in the cloud.</p><p>If you’re at the stage of trying to run your application in Microsoft Azure, the choices can be overwhelming. The Azure Container <a href=\"https://azure.microsoft.com/en-gb/product-categories/containers/\">product page</a> lists 7 different products on their landing page, and for new users it can often be difficult to decide which of the myriad products is right for their use case. What can make it even more confusing is that often these container services can be interoperable, meaning you can use one container product from another!</p><p>In this post, we’re going to examine each of the main container services offered in Azure and then examine what they’re good for and what they might not be so good for. Let’s take a look!</p><h2 id=\"azure-container-instances\">Azure Container Instances<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#azure-container-instances\"></a></h2><p><a href=\"https://azure.microsoft.com/en-us/services/container-instances/\">Azure Container Instances</a> (ACI) bills itself as an offering that lets you “easily run containers on Azure without managing servers.”</p><p>Launched in July 2017, it was arguably the first “serverless” container offering from the major cloud providers.</p><h3 id=\"whats-good-about-it\">What’s good about it?<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#whats-good-about-it\"></a></h3><p>ACI is a Platform-as-a-Service (PaaS) type of product that is designed to remove the burden of launching and running containers.</p><h4 id=\"simplicity\">Simplicity<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#simplicity\"></a></h4><p>Azure Container Instances has been designed from the ground up to be straightforward to use. It’s designed to get your container launched as quickly as possible, even including integrations with many of the tools you’re probably already familiar with if you’re using containers. One example is the integration with the <a href=\"https://docs.microsoft.com/en-gb/azure/container-instances/quickstart-docker-cli\">Docker CLI</a>.</p><p>In many cases, the only configuration options you need to pass to your ACI provisioning mechanism is the image you’re running and some sizing decisions, like how many CPUs and how much memory you need. There is some flexibility in this decision process, but having fewer required options means you’re not bogged down with complex architectural decisions when trying to get your container running.</p><p>This lends itself particularly well to web server projects, especially at smaller scales. You can launch applications very quickly and easily by specifying the image you’ve built, and your application can be running in very short order.</p><h4 id=\"start-up-times\">Start-Up Times<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#start-up-times\"></a></h4><p>ACI Containers start fast—often in a matter of seconds. This speed really helps the developer lifecycle and helps to create productivity when you’re developing your application.</p><h4 id=\"pricing\">Pricing<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#pricing\"></a></h4><p>ACI will only bill you for the time your applications are running. It offers no start-up costs (which goes great with the fast start times!) and per-second billing, meaning you only pay for every second the application is actually up. The pricing is also extremely competitive against other cloud providers.</p><h4 id=\"the-other-stuff\">The Other Stuff<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#the-other-stuff\"></a></h4><p>From a security perspective, ACI separates your container from others running in the same environment, meaning your application will have the same level of security as if it was running on a different virtual machine. This separation really helps to provide peace of mind and is yet another benefit of the serverless model—less infrastructure means less worries.</p><p>As expected from Microsoft, ACI has excellent support for Windows containers and .NET platform applications, which is lacking around other cloud providers. If you need to run Windows containers, this support is a huge benefit.</p><h3 id=\"whats-not-great-about-it\">What’s not great about it?<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#whats-not-great-about-it\"></a></h3><h4 id=\"scaling\">Scaling<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#scaling\"></a></h4><p>ACI supports customizing the amount of resources you can assign to a container, but it will only run one copy. There’s no horizontal scaling available, so if you need more resources, you only have one option: scaling vertically. It is possible to run N number of ACI instances and configuring load balancers across them, but it’s a very manual process and can be awkward to manage and scale successfully.</p><p>If you’re running a webserver application, horizontal scaling behind a load balancer might be a better option, so this lack of scaling flexibility and manual processing can be a real shortcoming.</p><p>In addition to this opinionated scaling mechanism, there’s also no auto scaling option for ACI. If you’re finding that you’re hitting the limits of your ACI deployment, you’ll need to manually scale the service.</p><h4 id=\"configuration\">Configuration<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#configuration\"></a></h4><p>ACI has some configuration options missing, which you’d expect would be there from the beginning. One glaring omission is port mapping (for example mapping public port 80 to container port 8080). This omission can mean modifying your container just to get it running in ACI.</p><p>ACI’s opinionated architecture seems to have been designed for ease-of-use, which often means more complex workloads just aren’t possible. If you have some unique configuration options, like needing access to privileged container options or complex network requirements, ACI might not be able to support you.</p><h3 id=\"what-wed-use-it-for\">What we’d use it for<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#what-wed-use-it-for\"></a></h3><p>The lack of flexibility in ACI means that some workloads just aren’t able to run there. If you have full control over the container images you’re building and if you just want to get off the ground quickly with minimal fuss and configuration, ACI is a great choice.</p><p>Applications with smaller and more predictable usage patterns are a great use case for ACI. The lack of horizontal scaling could be seen as a negative, but from another perspective, it means the use case is straightforward and simple. If you just want to get your application into the hands of your users and think you can accurately predict your usage patterns, choose ACI.</p><h2 id=\"azure-app-service\">Azure App Service<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#azure-app-service\"></a></h2><p>Azure App Service is a more fully-featured offering for hosting applications, focusing more on WebApps and API services. It started life as several differing offerings (Azure Websites, Azure Mobile Service, and Azure BizTalk) before being bundled into a single service in March 2015. Its origins as multiple solutions means it has developed tight integrations with other Azure solutions and offers many value-add features depending on your use case.</p><p>Because of the myriad features Azure App Service offers, running containers is only a small part of what you can do with it.</p><p>With that in mind, let’s take a look at where it shines with regard to running containers.</p><h3 id=\"whats-it-good-for\">What’s it good for?<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#whats-it-good-for\"></a></h3><p>Azure App Services is designed to be a one-stop shop for your web application needs, so it’s highly opinionated and pushes you in a certain direction.</p><h4 id=\"integrations\">Integrations<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#integrations\"></a></h4><p>Azure App Service has many integrations with Azure. As an example, if you need to add a CDN to your web service, it’s extremely straightforward to do so with Azure CDN.</p><p>This tight integration with Azure’s many other services makes it likely to meet the needs of your application and extend it as needed, introducing common architecture components like message queues and databases. This is particularly useful when it comes to the integration with Azure’s networking model. You can run an Azure App Service inside an <a href=\"https://docs.microsoft.com/en-us/azure/virtual-network/virtual-networks-overview\">Azure Virtual Network</a> which is extremely useful in many scenarios where network separation is needed, like enterprise applications.</p><h4 id=\"scaling--availability\">Scaling &amp; Availability<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#scaling--availability\"></a></h4><p>Azure App Service has a myriad of available scaling capabilities built out of the box. Not only can you scale the actual container you’ve deployed (while also simultaneously placing pricing caps on your service), but you can also scale related resources if necessary, which fits well with the tight integration we mentioned previously.</p><p>App service scaling for your container can either scale up (i.e., increase the amount of resources associated with your container) or scale out (ie: have more containers behind your load balancer).</p><p>This flexibility in scaling means you can be safe to assume your application will meet spiking traffic requirements and service your users’ needs.</p><h3 id=\"whats-not-great-about-it-1\">What’s not great about it?<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#whats-not-great-about-it-1\"></a></h3><h4 id=\"opinionated\">Opinionated<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#opinionated\"></a></h4><p>Azure App Service is highly opinionated. Its tight integrations with other Azure services mean that you’re expected to follow established patterns for achieving your goals.</p><p>This opinionated implementation means that the initial learning curve can be steep. The origins of app services means the product has grown in complexity along with its opinionated implementation, and as a result it can be overwhelming when getting started.</p><p>In addition to the learning curve, App Service is primarily focused towards web app workloads, and support for running other applications is limited at best.</p><h3 id=\"what-wed-use-it-for-1\">What we’d use it for<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#what-wed-use-it-for-1\"></a></h3><p>The scaling options available to App Service means that it’s extremely well positioned to handle your large scale, fluctuating web applications. If you expect to have traffic spikes during peak hours, you can configure App Service to scale relatively easily in a manner that suits your budget and needs.</p><h2 id=\"azure-kubernetes-service\">Azure Kubernetes Service<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#azure-kubernetes-service\"></a></h2><p>Azure Kubernetes Service (AKS) is Azure’s managed Kubernetes offering, which has been available since October 2017.</p><p>Azure was very quick to market with its Kubernetes offering and hired several prominent Kubernetes engineers like Brendan Burns to head up the engineering departments building the service.</p><p>Kubernetes is a very fully featured product, and AKS is a very conformant implementation of Kubernetes. Therefore, a lot of our good and bad considerations next will be an evaluation of Kubernetes, as well as AKS.</p><h3 id=\"whats-it-good-for-1\">What’s it good for?<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#whats-it-good-for-1\"></a></h3><h4 id=\"extensibility\">Extensibility<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#extensibility\"></a></h4><p>Kubernetes is incredibly feature rich. Out of the box with AKS, you’ll get application self-healing capabilities via the mechanism of reconcile loops built into Kubernetes, the ability to run different types of workload via native Kubernetes resources such as StatefulSets, Deployments and Jobs, and a large amount of extensibility via Kubernetes’ Custom Resource Definitions capability.</p><h4 id=\"familiarity\">Familiarity<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#familiarity\"></a></h4><p>Kubernetes also offers a familiar API regardless of the cloud provider you’re working with. If you’re new to AKS, but have used a managed Kubernetes service from another cloud provider, you might find it relatively easy to get your container up and running in AKS.</p><h3 id=\"whats-not-great-about-it-2\">What’s not great about it?<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#whats-not-great-about-it-2\"></a></h3><h4 id=\"complexity\">Complexity<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#complexity\"></a></h4><p>Kubernetes has a steep learning curve, and AKS is no exception. A lot of the knowledge needed to run and operate Kubernetes is handled by AKS itself, but you still have to have an in-depth understanding of how Kubernetes works to get your container running.</p><p>In addition, the specification for a simple Kubernetes job can often be hundreds of lines of code. You have to learn not only how to run the container but also understand how Kubernetes exposes services to the world.</p><h3 id=\"what-wed-use-it-for-2\">What we’d use it for<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#what-wed-use-it-for-2\"></a></h3><p>The flexibility and extensibility offered by Kubernetes as a platform means it’s possible to run many types of workloads. Large companies have battle-tested Kubernetes (and by extension, AKS), running everything from web applications to machine learning.</p><p>If you’re able to invest time into learning and understanding the ecosystem and can dedicate people to maintaining and managing your Kubernetes implementation, AKS is a fantastic option for almost any workload you might consider.</p><h2 id=\"everything-else\">Everything Else<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#everything-else\"></a></h2><h3 id=\"azure-red-hat-openshift\">Azure Red Hat OpenShift<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#azure-red-hat-openshift\"></a></h3><p>Azure Red Hat OpenShift is an enterprise grade implementation of Kubernetes developed by Red Hat. OpenShift builds on Kubernetes by adding support, enterprise-grade security, and Platform-as-a-Service integrations.</p><p>If the idea of using Kubernetes for your container solutions seems appealing but you need service level agreements (SLAs) around support and integrations, Azure’s Red Hat OpenShift solution is a great option.</p><h3 id=\"azure-service-fabric\">Azure Service Fabric<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#azure-service-fabric\"></a></h3><p>Azure Service Fabric is a container service focused on distributed applications, like microservice architectures or complex distributed compute environments.</p><p>If you’re planning on running a complex architecture, Azure Service Fabric can be a great fit. It provides more orchestration capabilities than Azure App Service. Service Fabric can also extend outside Azure’s cloud into your on-premise data center if necessary.</p><p>If your application has needs related to low latency, especially across distributed regions, Service Fabric is a great fit.</p><p>However, Azure Service Fabric can be extremely difficult to use. It is only targeted towards distributed, complex systems - if you’re not planning on building one of those, it’s probably not the correct choice.</p><h3 id=\"azure-batch\">Azure Batch<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#azure-batch\"></a></h3><p>Azure Batch is a service focused on High Performance Compute (HPC) workloads. These workloads can often scale horizontally to thousands of processes and can be difficult to orchestrate.</p><p>Azure Batch makes this process simpler by providing a managed service to handle the difficult processes.</p><p>If you’re planning on passing large amounts of data to your application via a queuing mechanism and having that data processed very quickly, Azure Batch is definitely a service you should consider.</p><h3 id=\"azure-functions\">Azure Functions<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#azure-functions\"></a></h3><p>Azure Functions is Azure’s Function-as-a-Service implementation. It supports launching “function apps” inside containers as a deployment mechanism.</p><p>Function-as-a-Service products are often designed for short-lived, event-driven workloads. If you need to run a script to react to a worker queue or other event, Azure Functions are a great option. It’s important to remember that Functions are often billed based on how long they run, so short-lived workloads are often better suited.</p><h2 id=\"wrap-up\">Wrap-Up<a data-anchorjs-icon=\"\" aria-label=\"Anchor\" href=\"#wrap-up\"></a></h2><p>There are a number of options for running containers in Azure, and choosing the right one for your workload might be difficult. We’ve tried to give an overview of the current state of the world, but Microsoft continues to add options and capabilities to all these products.</p><p>If you’ve settled on a container solution, and are ready to get started, Pulumi’s <a href=\"https://www.pulumi.com/registry/packages/azure-native/\">Azure Native provider</a> supports all of the methods of running containers and can quickly get you started. Check out our <a href=\"https://www.pulumi.com/docs/get-started/azure/\">Azure getting started guide</a>, or join one of our upcoming <a href=\"https://www.pulumi.com/resources/\">Azure Workshops</a>!</p></section><div><ul><li><a href=\"https://www.pulumi.com/blog/tag/azure/\">azure</a></li><li><a href=\"https://www.pulumi.com/blog/tag/containers/\">containers</a></li></ul></div></article></div></div></div>",
    "labels": "Azure"
  },
  {
    "description": "This rare trait opens us up to new ideas that may solve complex problems at a much faster pace.",
    "title": "How Can You Tell Someone Has Exceptional Leadership Skills? It Boils Down to 1 Word",
    "content": "<DIV class=\"page\" id=\"readability-page-1\"><div><article><header><h3><span>This rare trait opens us up to new ideas that may solve complex problems at a much faster pace.</span></h3></header><article><figure><picture><source media=\"(max-width:600px)\" srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,suHPKfL7c3LlaLUMA2N_TKARuM2sqOqkvGYj2_yRhEP4/https://img-cdn.inc.com/image/upload/w_970,h_450,c_fill/images/panoramic/GettyImages-1360776059_502879_du9giu.jpg,\"><source media=\"(min-width:601px)\" srcset=\"https://proxy-prod.omnivore-image-cache.app/0x0,sbmqrfC9JJ-phVTP2RBkN0CxrBj9Y7GcQvVPIY3Nd2yY/https://img-cdn.inc.com/image/upload/w_1920,h_1080,c_fill/images/panoramic/GettyImages-1360776059_502879_du9giu.jpg,\"><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sbmqrfC9JJ-phVTP2RBkN0CxrBj9Y7GcQvVPIY3Nd2yY/https://img-cdn.inc.com/image/upload/w_1920,h_1080,c_fill/images/panoramic/GettyImages-1360776059_502879_du9giu.jpg\" alt=\"How Can You Tell Someone Has Exceptional Leadership Skills? It Boils Down to 1 Word\"></picture><P><figcaption>Illustration: Getty Images</figcaption></P></figure><div><p>The ability to&nbsp;<a href=\"https://www.inc.com/marcel-schwantes/5-signs-that-prove-you-were-meant-to-lead-your-workers.html\">effectively lead others</a> is a key to&nbsp;success in&nbsp;growing a business. But in the transactional business world gone virtual, we spend the majority of our time&nbsp;treating one another as strangers.&nbsp;</p><p>Taking into account all the digital exchanges we have in the course of a workday, what can we as leaders&nbsp;do to humanize our interactions,&nbsp;draw people&nbsp;to us, and build trust?</p><p>It comes down to one word: <em>curiosity.</em></p><p><a target=\"_blank\" href=\"https://greatergood.berkeley.edu/article/item/why_curious_people_have_better_relationships\">Research has found</a>&nbsp;that curious people are known for having&nbsp;better relationships, and other people are more easily attracted and feel socially closer to individuals who display curiosity.&nbsp;</p><p>Curiosity is a strong foundation for developing a growth mindset so you can keep learning. Research published in <a target=\"_blank\" href=\"https://hbr.org/2014/08/curiosity-is-as-important-as-intelligence\">Harvard Business Review </a>states that people with a higher curiosity quotient&nbsp;(CQ) are more inquisitive and generate more original ideas, and this thinking style&nbsp;leads to higher levels of knowledge acquisition over time.</p><p>Organizations will also benefit greatly from hiring future workers displaying curiosity. In one study <a target=\"_blank\" href=\"https://hbr.org/2018/09/the-business-case-for-curiosity\">published in HBR</a>, \"the most curious employees sought the most information from co-workers, and the information helped them in their jobs--for instance, it boosted their creativity in addressing customers' concerns.\"</p><p>From a leadership standpoint, by being willing to explore and ask questions with curiosity, you're able to see more clearly the nuances of a challenge and reach better outcomes.</p><p>But here's the thing. If you're in a bureaucratic environment, too often&nbsp;bureaucracy or the status quo drives us to stop being curious and asking questions, as we think we already have the answers. But by building your curiosity, and allowing others to do the same, we open ourselves up to new ideas that may solve complex problems at a much&nbsp;faster pace.</p><P><h2>Reverse mentoring</h2></P><p>To take your curiosity quotient to the next level, reverse-mentoring&nbsp;programs are emerging, as companies&nbsp;realize that top-down learning is not always appropriate.&nbsp;</p><p>In reverse mentoring, a junior team member enters into a professional friendship with someone more senior, and they exchange skills, knowledge, and understanding. For example, a younger team member might be more tech savvy, so encouraging a pairing with an older colleague or manager with less experience using technology can improve that manager's ability to connect with potential customers.</p><p>This is not a new idea. In the late 1990s, General Electric asked 500 of their top executives to seek out mentors from among new employees.</p><p>Reverse mentoring recognizes that there are skills gaps on both sides, and that each person can address their weaknesses with the help of the other's strengths. A younger team member can pass up-to-date skills and ideas up the corporate ladder, and someone older can become a mentor or coach to that person.</p><P><h2>Bill Gates's take on curiosity</h2></P><p dir=\"ltr\">In 2019,&nbsp;<a target=\"_blank\" href=\"https://www.lakesideschool.org/post-details/~board/news/post/bill-gates-73-delivers-ayrault-memorial-lecture?fbclid=IwAR2_K-QajYngfmUe56MfSrqD1L1PD05M8ukEhJ31CfCEwSL23Ida4KA3iWs\">Bill Gates spoke</a>&nbsp;to students, parents, and alumni&nbsp;at his high school alma mater in Seattle. One question posed to Gates is especially noteworthy for the next&nbsp;working generation: \"What are the skills today's students need to know to thrive in the world of 2030 and 2040?\"&nbsp;</p><p dir=\"ltr\">Gates stressed the critical importance of curiosity as a&nbsp;framework for acquiring knowledge.&nbsp;A growth mindset as the foundation and&nbsp;drive to stay curious and keep learning, said&nbsp;Gates, will help prepare future workers for the immense changes that will take place.&nbsp;</p></div></article></article></div></DIV>",
    "labels": "leadership"
  },
  {
    "description": "At GitHub we use GitHub to build our own products, and the new projects experience is no different. Check out how our team uses projects to build powerful project planning for developers.",
    "title": "How we’re using projects to build projects",
    "content": "<DIV id=\"readability-content\"><DIV class=\"page\" id=\"readability-page-1\"><div>\n  <div data-color-mode=\"dark\" data-light-theme=\"light\" data-dark-theme=\"dark_dimmed\">\n        <div>\n        <p>At GitHub we use GitHub to build our own products, and the new projects experience is no different. Check out how our team uses projects to build powerful project planning for developers. </p>      </div>\n                <div>\n              \n              <p><img srcset=\"https://proxy-prod.omnivore-image-cache.app/800x0,suuCmuT5xwOfzdgaO3fVGSeNO3KTXfx9mHOgvp18Ouj4/https://github.blog/wp-content/uploads/2022/05/blog-header-image.png?resize=800%2C425 800w,https://proxy-prod.omnivore-image-cache.app/1600x0,sVDjaxoIA80gU6NO2GTsfM0uzzfDE5frIn6vgGuwZlkY/https://github.blog/wp-content/uploads/2022/05/blog-header-image.png?resize=1400%2C742 1600w,\" src=\"https://proxy-prod.omnivore-image-cache.app/1600x850,sXQQ_Fu-Qj7G9b2BNzxS2WnFzUrAAlNbdAWzuXZpBfYQ/https://github.blog/wp-content/uploads/2022/05/blog-header-image.png?resize=1400%2C742\" width=\"1600\" height=\"850\" alt=\"How we’re using projects to build projects\">          </p></div>\n            </div>\n  \n  \n  <div>\n      \n  \n  \n  <main role=\"main\" id=\"post-64967\">\n    \n  <p>At GitHub, we use GitHub to build our own products, whether that be <a href=\"https://github.blog/2021-08-11-githubs-engineering-team-moved-codespaces/\">moving our entire Engineering team over to Codespaces for the majority of GitHub.com development</a>, or <a href=\"https://youtu.be/MW0V5Q9WJu4\">utilizing GitHub Actions to coordinate our GitHub Mobile releases</a>. And while GitHub Issues has been a part of the GitHub experience since the early days and is an integral part of how we work together as Hubbers internally, the <a href=\"https://github.blog/changelog/2021-06-23-whats-new-with-github-issues/\">addition of powerful project planning</a> has given us more opportunities to test out some of our most exciting products.</p>\n  <p>In this post, I’m going to share how we’ve been utilizing the new projects experience across our team (from an engineer like myself all the way to our VPs and team leads). We love working so closely with developers to ship requested features and updates (<a href=\"https://github.blog/changelog/label/issues/\">all of which roll up into the Changelogs you see</a>), and using the new projects helps us stay consistent in our shipping cadence.</p>\n  <h2>How we think about shipping</h2>\n  <p>Our core team consists of members of the product, engineering, design, and user research teams. We recognize that good ideas can come from anywhere. Our process is designed to inspire, surface, and implement those ideas, whether they come from users, individual contributors, managers, directors, or VPs. To get the proper alignment for this group, we’ve agreed on a few guiding principles that drive what our roadmap will look like:</p>\n  <p>💭 <strong>The pitch</strong>: When it comes to what we’re going to work on (outside of the big pieces of work on <a href=\"https://github.com/orgs/github/projects/4247/views/7\">our roadmap</a>) people within our team can pitch ideas in our team’s repository for upcoming cycles (which we define as 6-8 weeks of work, inclusive of planning, engineering work, and an unstructured passion project week); these can be features, fixes, or even maintenance work. Every pitch must clearly state the problem it’s solving and why it’s important for us to prioritize. Some features that have come from this process include <a href=\"https://github.blog/changelog/2021-10-27-the-new-github-issues-public-beta/\">live updates</a>, <a href=\"https://github.blog/changelog/2021-10-27-the-new-github-issues-public-beta/\">burn up charts for insights</a>, and more. Note: these are all the changes you see as a developer, but we also have a lot of pitches come in from my fellow engineers focused around the developer experience. For example, a couple successful pitches have included reducing our CI time to 10 minutes, and streamlining our release process by switching to a ring deployment model and adding ChatOps.</p>\n  <p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s5Vbp3oHU-5lN4RmCGCYCiNtbbX5uu9VVeuVqphS5y7s/https://github.blog/wp-content/uploads/2022/05/pitch-image-1.png\" loading=\"lazy\"></p>\n  <p>💡 In addition to using issues to propose and converse on pitches from the team, we use the new projects experience to track and manage all the pitches from the team so we can see them in an all-up table or board view.</p>\n  <p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s2ZZsfNudo3p_uarYERMhTcFovCFrLA3Wpx1mm4c4yYo/https://github.blog/wp-content/uploads/2022/05/pt-pitches-image-2.png\" loading=\"lazy\"></p>\n  <p>✂ <strong>Keep it small</strong>: We knew for ourselves, and for developers, that we didn’t want to lock them into a specific planning methodology and over-complicate a team’s planning and tracking process. For us, we wanted to plan shorter cycles for our team to increase our tempo and focus, so we opted for six-week cycles to break up and build features. Check out how we recommend getting started with this approach in a <a href=\"https://github.blog/2022-02-11-getting-started-with-project-planning-on-github/\">recent blog post</a>.</p>\n  <p>📬 <strong>Ship to learn</strong>: Similar to how we ship a lot of our products, we knew developers and customers were going to be heavily intertwined with each and every ship, giving us immediate feedback in both the private and public beta. Their <a href=\"https://github.com/github/feedback/discussions/categories/issues-feedback\">feedback</a> both influenced what we built and then how we iterated and continued to better the experience once something did ship. While there are so many people to thank, we’re extremely grateful for all our customers along the way for being our partners in building GitHub Issues into the place for developers to project plan.</p>\n  <h2>How we used projects to do it</h2>\n  <p>We love that the product we’re building doesn’t tool a specific project management methodology, but equips users with powerful primitives that they can compose into their preferred experiences and workflows. This allows for many people (not just us engineers) involved in building and developing products at GitHub (team leads, marketing, design, sales, etc.) the ability to use the product in a way that makes sense for them.</p>\n  <p>With the above principles in mind, once a pitch has been agreed upon to move forward on building, that pitch issue becomes a tracking issue in a project table or board that we convert into pieces of work that fit into an upcoming cycle. A great example of this was when we <a href=\"https://github.com/github/roadmap/issues/289\">updated the GitHub Issues icons</a> to lessen confusion among developers. This came in as a pitch from a designer on the team, and was soon accepted and moved into epic planning in which the team responsible began to track the individual pieces of work needed to make this happen.</p>\n  <p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sLSdRniKmxJ9XAB8DnPiACChCp6OO0-simUKvJ1psMRA/https://github.blog/wp-content/uploads/2022/05/issuereasonsfinal.png\" loading=\"lazy\"></p>\n  <h3>IC approach</h3>\n  <p>Let’s start with how my fellow engineers, individual contributors and I use projects for day-to-day development within cycles. From our perspective on any given day, we’re hyper-focused on tackling what issues and pull requests are assigned to us (fun fact: <a href=\"https://github.blog/changelog/2022-02-23-the-new-github-issues-february-23rd-update/\">we recently added</a> the <code class=\"hljs language-applescript language-avrasm\">assignee:<span class=\"hljs-keyword\">me</span></code> filter to make this even easier) in a given cycle, so we work from more <a href=\"https://docs.github.com/en/issues/trying-out-the-new-projects-experience/quickstart#creating-a-user-project\">individually scoped</a> project tables or boards that stem from the larger epic and iteration tracking. Because of this, we can easily zoom out from our individual tasks to see how our work fits into a given cycle, and then even zoom out more into how it fits into larger initiatives.</p>\n  <p>💡 In addition to scoping more specifically a given table or board, engineers across our organization utilize a personal project table or board to track all the things specific to themselves like what issues are assigned to them—even work not connected to a given cycle, like open source work.</p>\n  <p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,s1R7XOqsYXi3W6f8hof2w5gRLR8psyyv_-8ZPO8_AJ7A/https://github.blog/wp-content/uploads/2022/05/glorthopersonal-image-5.png\" loading=\"lazy\"></p>\n  <h3>EM approach</h3>\n  <p>If we pull back to engineering managers overseeing those smaller cycles, they’re focused on kicking off an accepted pitch’s work, breaking it first into cycles and then into smaller iterations in which they can assign out work. A given cycle’s table or board view allows the managers to have a whole look at all members of their team and look specifically at things that are important to them, like all the pull requests that are open and quickly seeing which engineers are assigned, what pull requests have been merged, deployed, etc.</p>\n  <p>💡 Check out what this looks like in our team board.</p>\n  <p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sVcuGdQEpoI11toC-Z9UyIWXkG34ijhQENt9zY9knio4/https://github.blog/wp-content/uploads/2022/05/backlog-image-6.png\" loading=\"lazy\"></p>\n  <h3>Team lead approach</h3>\n  <p>Now, if we put ourselves in the shoes of our team leads and Directors/VPs, we see that they’re using the new projects experience to primarily get the full picture of where product and feature development currently sit. They told me the main team roadmap and backlog is where they can get questions answered like:</p>\n  <ul>\n  <li>Which projects do we have in flight in which product area right now?</li>\n  <li>Who’s the key decision maker for this project?</li>\n  <li>Which engineers are working on which projects?</li>\n  <li>Which projects are at risk and need help (progress/status)?</li>\n  </ul>\n  <p>What’s great about this is that they can quickly glance at what’s in motion and then click into any cycles or status to get more context on open issues, pull requests, and how everything is connected.</p>\n  <p>💡 Outside of being able to check in on what’s being worked on and where the organization’s current focus is, our leads have found additional use cases that may not be applicable for an engineer like me. They use private projects for more sensitive tasks, like managing our team’s hiring, tracking upcoming start dates, making sure they’re staying on top of career development, organizational change management, and more.</p>\n  <h2>Wrap-up</h2>\n  \n  <p>This is how we as the planning and tracking team at GitHub are using the very product we’re building for you to build the new projects experience. There are many other teams across GitHub that utilize the new project tables and boards, but we hope this gives you a little bit of inspiration about how to think about project planning on GitHub and how to optimize for all the stakeholders involved in building and shipping products.</p>\n  <p>What’s great about project planning on GitHub is that our focus on powerful primitives approach to project management means that there is an unlimited amount of flexibility for you and your team to play around with, and likely many, many ways we haven’t even thought about how to use the product. So, <a href=\"https://github.com/github/feedback/discussions/categories/issues-feedback\">please let us know</a> how you’re using it and how we can improve the experience!</p>\n  \n        \n    </main>\n  \n  \n    </div>\n  \n    <section>\n      <h2>\n        Related posts    </h2>\n      <div>\n        <article id=\"term-post-64931\">\n    <div>\n        <p><a href=\"https://github.blog/2022-05-10-enhanced-2fa-experience-for-your-npm-account/\">\n        \n        <img srcset=\"https://proxy-prod.omnivore-image-cache.app/288x0,siSy8prTLLvckHFDe7xi8AaPBfnM07xmMjyiZZLaykdM/https://github.blog/wp-content/uploads/2021/02/npm-github.png?resize=288%2C179 288w,https://proxy-prod.omnivore-image-cache.app/512x0,sh_MeXq1rqkZDKJSoeb9MjueP8GZJvdO_dzL7clkvLWY/https://github.blog/wp-content/uploads/2021/02/npm-github.png?resize=512%2C318 512w,https://proxy-prod.omnivore-image-cache.app/708x0,szwc8YgUwCB20-rvftKYEJ5GnTTHapAPLNVpfpLHRXMQ/https://github.blog/wp-content/uploads/2021/02/npm-github.png?resize=708%2C440 708w,https://proxy-prod.omnivore-image-cache.app/932x0,sQmlho6klkcUzE9L5-EhK91fiEsLWkTrGKhi37cBKiPA/https://github.blog/wp-content/uploads/2021/02/npm-github.png?resize=932%2C579 932w,https://proxy-prod.omnivore-image-cache.app/1024x0,sNgZedscukSmFFomJEjieuAAtBKL2mNTfiU9lnzM91gs/https://github.blog/wp-content/uploads/2021/02/npm-github.png?resize=1024%2C630 1024w,\" src=\"https://proxy-prod.omnivore-image-cache.app/512x318,sHrEkQQumcGIRq0-6_H9wmlCajwIGxCRxicwzfqTKB7g/https://github.blog/wp-content/uploads/2021/02/npm-github.png?resize=512%2C318\" width=\"512\" height=\"318\" alt=\"Enhanced 2FA experience for your npm account\" loading=\"lazy\" decoding=\"async\"></a></p><h3><a href=\"https://github.blog/2022-05-10-enhanced-2fa-experience-for-your-npm-account/\">Enhanced 2FA experience for your npm account</a></h3><p>Late last year, in response to an unprecedented series of account takeovers resulting from the compromise of developer accounts without 2FA enabled, we committed to a variety of enhancements to…</p>\n      \n    </div>\n  </article>\n  <article id=\"term-post-64780\">\n    \n  </article>\n  <article id=\"term-post-64815\">\n    \n  </article>\n      </div>\n    </section>\n  </div></DIV></DIV>",
    "labels": "github"
  },
  {
    "description": "GitHub's new project experience is built with flexibility in mind. Here's how to get started with GitHub Issues and project planning.",
    "title": "Getting started with project planning on GitHub",
    "content": "<DIV class=\"page\" id=\"readability-page-1\"><div>\n  <div data-color-mode=\"dark\" data-light-theme=\"light\" data-dark-theme=\"dark_dimmed\">\n        <div>\n        <p>Stop context switching. Keep your team’s project planning next to your code.</p>      </div>\n                <div>\n              \n              <p><img srcset=\"https://proxy-prod.omnivore-image-cache.app/800x0,s3KNaeHSKc9oLK3Amf2AdhCF2ONrIawEuuiRFdoNYjM0/https://github.blog/wp-content/uploads/2022/02/GitHub-Issues-project-planning_banner.png?resize=800%2C425 800w,https://proxy-prod.omnivore-image-cache.app/1600x0,sISl_mULjipcA7Wjah762xUJZl90xPHE0SGHXEbChzBc/https://github.blog/wp-content/uploads/2022/02/GitHub-Issues-project-planning_banner.png?resize=1600%2C850 1600w,https://proxy-prod.omnivore-image-cache.app/3200x0,sKsLTzrXVHo-D4YzLFjYRZa0sVIcBKCvHccXdB9RxViU/https://github.blog/wp-content/uploads/2022/02/GitHub-Issues-project-planning_banner.png?resize=2400%2C1260 3200w,\" src=\"https://proxy-prod.omnivore-image-cache.app/1600x850,sUYM4Pv7ZNOHG06nHDJWIesKHytVjAf4XkV6K9nw3BgU/https://github.blog/wp-content/uploads/2022/02/GitHub-Issues-project-planning_banner.png?resize=1600%2C850\" width=\"1600\" height=\"850\" alt=\"Getting started with project planning on GitHub\">          </p></div>\n            </div>\n  \n  \n  <div>\n      \n  \n  \n  <main role=\"main\" id=\"post-63029\">\n    \n  <p>GitHub has long been the home for developers all over the world, and GitHub Issues has been the place where developers turn to kick off an idea, start a conversation, and track progress. As projects grew and became more complex, development teams often turned to dedicated planning and tracking tools to help them make sense of all that’s in-flight. However, if all this work is happening in GitHub, it probably makes sense to stop context switching and keep your team’s project planning right next to your code in GitHub.</p>\n  <p>The ability to efficiently plan and manage work on GitHub has been growing in capabilities and power in recent months. As your team takes on the new calendar year with a full roadmap of ideas to start building, we thought we’d give you some tips on how to get started. We’re going to take you through how to use the new projects experience to tackle one feature to start, and use that planning process and apply it to future pieces of work.</p>\n  <h2>Creating a new project 📝</h2>\n  <p>Once you’ve identified a specific feature to start utilizing the new projects experience, head over to your organization’s page, and you’ll see “Projects.” Once you click on it, you’ll see an option on the left-hand side for a “(beta)” experience. This option gives you both the table and board layouts and will allow you to switch between them with ease.</p>\n  <p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sGkqCK11NNBMd9FmFs-1apMdfDgt0n59GPirVkZ2RCPo/https://github.blog/wp-content/uploads/2022/02/create-new-project.gif\" alt=\"GIF showing how to create a new project\" loading=\"lazy\"></p>\n  <p>The beauty of the new projects experience is that it’s built with flexibility in mind. We don’t want to lock you into a specific planning methodology. We know that everyone works differently, and how you plan and manage work is unique to you.</p>\n  <p>So, with a blank slate in front of you, the best place to start is by adding GitHub Issues that are a part of the project you’re going to track for the feature your team is building. You can do this by using “#” and adding the issues you need. From our own experience, we’d recommend starting off with a project with a shorter timeline for delivery, like a six-week project deliverable. This will help you set a quick and repeatable tempo for your teams moving forward.</p>\n  <p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sqD4XOn3xsvhwRBuCZThZvZZyFepyrRHbWOprzomJBLo/https://github.blog/wp-content/uploads/2022/02/adding-issues.gif\" alt=\"GIF showing how to add issues to project\" loading=\"lazy\"></p>\n  <p>💡 All your tables and board will automatically update all the statuses of your issues and pull requests, updating new assignees, and more.</p>\n  <h2>Get organized 🗃</h2>\n  <p>Now comes our favorite part—organizing! Both the table and board view give you a lot of freedom when it comes to how you want to organize and customize your projects. Your default view is going to be your high-level plan, a table, or board layout with everything in it. Once you’ve got all the relevant issues and pull requests inputted, we’ll start to adjust and add new custom fields. This metadata helps classify your work items in all the different ways that are helpful for your team.</p>\n  <p>The initial layout will give you a few core fields that are typically important to track, such as title, assignees, status, etc. Also, if you’re looking to track a six-week deliverable as we do, it’s a good idea to start by adding an iteration field to track iterations weekly associated with your deliverable. Once you have those determined and properly linked to your issues, you can take a full look at what’s open, what’s being worked on, and even see what linked pull requests are associated with given pieces of work.</p>\n  <p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,sYbkv1lWFfM_RnM2GmVvGclPyyFFOU3oBB4Ve8cKPI0w/https://github.blog/wp-content/uploads/2022/02/customize-project.png\" alt=\"\" loading=\"lazy\"></p>\n  <p><a href=\"https://docs.github.com/en/issues/trying-out-the-new-projects-experience/customizing-your-project-views\">Check out even more ways you can get customizing here</a>. Also, <a href=\"https://github.blog/changelog/2021-12-02-the-new-github-issues-12-02-update/\">recently added</a>, is the ability to view any customized field in board view! 🎉</p>\n  <h2>Make it yours 👀</h2>\n  <p>From here, once you have your initial table/board set up, you can go even further in what you’re looking at by adding different views. Filters are great, but views give you ways to save different tabs so that it’s easy to maneuver to the specific parts of your project you care most about (like if you want to save a view that shows what individual teams are working on). Check out how we do this with our <a href=\"https://github.com/orgs/github/projects/4247/views/7\">public roadmap</a> where we list out different products so our customers can quickly see what’s upcoming for what they care about most.</p>\n  <p>A good first step for when you’re building out your plans on GitHub is to use the iteration field to create a new view. For us, this is important, because you can quickly see all that’s happening right now. To create a new view by iteration, you can either use the “+ New view” next to your first layout, or use the command palette: “Command” + “K” (for Mac) or “Ctrl” + “K” (for Windows/Linux). Hit the dropdown arrow in the new view’s tab, and under “Configuration” select “group by: iteration” to create a powerful planning view for your team.</p>\n  <p><img src=\"https://proxy-prod.omnivore-image-cache.app/0x0,safwNV9E4hxR_Rnqc7K4-P29_UyOH9sWgKNa-0uf75VY/https://github.blog/wp-content/uploads/2022/02/create-new-view.png\" alt=\"GIF showing how to create a new view\" loading=\"lazy\"></p>\n  <p>💡 When your project is looking good, but you realize there’s a new work item that needs to be added, you can open a draft issue directly from your project table or board. See some of the latest functionalities with draft issues <a href=\"https://github.blog/changelog/2021-12-16-the-new-github-issues-12-16-update/\">here</a>.</p>\n  <h2>Rescope, reuse, recycle 🔄</h2>\n  <p>The reason we recommend using the projects experience on GitHub to plan for shorter time frames is that you’ll be able to create shorter cycles with your team, increase your tempo, and release on a more consistent basis. We think these shorter cycles lead to more focus for teams (it has for us!) and are easily repeatable for other teams in your organization. Once your deliverable is complete, you close out a given project and can have that as an artifact your team and others within your organization can use moving forward.</p>\n  <p>Once your team is feeling comfortable, you can start to bring together these smaller cycles to ladder up to bigger objectives. We think approaching planning and tracking too far removed from the work can be the wrong way to approach it. If we can ensure that developers have a solution that feels natural and comfortable for them and is in shorter, more manageable cycles, it will flow seamlessly into your organization’s goals.</p>\n  <h2>Do you want to learn more?</h2>\n  <p>We hope this helps you get a head start on moving your project planning over to GitHub. If you’re interested in learning more or giving us feedback, check out these links:</p>\n  <ul>\n  <li><strong>Our latest ships</strong> (we’re always improving!): <a href=\"https://github.blog/changelog/label/issues/\">https://github.blog/changelog/label/issues/</a> </li>\n  <li><strong>GitHub Issues Docs</strong>: <a href=\"https://docs.github.com/en/issues\">https://docs.github.com/en/issues</a> (check out the <a href=\"https://docs.github.com/en/issues/trying-out-the-new-projects-experience/quickstart\">quickstart guide!</a>)</li>\n  <li><strong>Where to give us feedback</strong>: <a href=\"https://github.com/github/feedback/discussions/categories/issues-feedback\">https://github.com/github/feedback/discussions/categories/issues-feedback</a></li>\n  <li><strong>What’s coming on the roadmap</strong>: <a href=\"https://github.com/orgs/github/projects/4247/views/7\">https://github.com/orgs/github/projects/4247/views/7</a> </li>\n  </ul>\n  \n        \n    </main>\n  \n  \n    </div>\n  \n    <section>\n      <h2>\n        Related posts    </h2>\n      <div>\n        <article id=\"term-post-65023\">\n    <div>\n        <p><a href=\"https://github.blog/2022-05-19-math-support-in-markdown/\">\n        \n        <img srcset=\"https://proxy-prod.omnivore-image-cache.app/288x0,smxxEPQfz9amNMB_9dSopc4ppYC-rvFJRIc9vI9_--x8/https://github.blog/wp-content/uploads/2022/05/Math-Support-Social-2x.png?resize=288%2C179 288w,https://proxy-prod.omnivore-image-cache.app/512x0,scTWjttAuvT9gqv_htOmVeH6q0YUY7_N0WWjIP87izac/https://github.blog/wp-content/uploads/2022/05/Math-Support-Social-2x.png?resize=512%2C318 512w,https://proxy-prod.omnivore-image-cache.app/708x0,sZBcgZfCHLNS8__-49H51hbT1WwaoB--HWLZ-KoXSMbY/https://github.blog/wp-content/uploads/2022/05/Math-Support-Social-2x.png?resize=708%2C440 708w,https://proxy-prod.omnivore-image-cache.app/932x0,sqMgTInewo0UJfPlrZigr6aw8FWAFRLhi-IB6Gq0yygI/https://github.blog/wp-content/uploads/2022/05/Math-Support-Social-2x.png?resize=932%2C579 932w,https://proxy-prod.omnivore-image-cache.app/1024x0,suETBzcO8nfdY2SSeVg9WClTx2e5dI6aHXim__5wIrpw/https://github.blog/wp-content/uploads/2022/05/Math-Support-Social-2x.png?resize=1024%2C636 1024w,\" src=\"https://proxy-prod.omnivore-image-cache.app/512x318,sXdDv9yt4VzxECVmdwqzcGIHOzP17jvlbNJGy8NkdDcs/https://github.blog/wp-content/uploads/2022/05/Math-Support-Social-2x.png?resize=512%2C318\" width=\"512\" height=\"318\" alt=\"Example screenshot showing math support in markdown\" loading=\"lazy\" decoding=\"async\"></a></p><h3><a href=\"https://github.blog/2022-05-19-math-support-in-markdown/\">Math support in Markdown</a></h3><p>Mathematical expressions are key to information sharing amongst engineers, scientists, data scientists, and mathematicians. Today we are pleased to announce that math expressions can be rendered in Markdown on GitHub using $$ as a delimiter for code blocks with math content or the $ delimiter for inline math expressions.</p>\n      \n    </div>\n  </article>\n  <article id=\"term-post-65049\">\n    \n  </article>\n  <article id=\"term-post-64967\">\n    <div>\n        <p><a href=\"https://github.blog/2022-05-16-how-were-using-projects-to-build-projects/\">\n        \n        <img srcset=\"https://proxy-prod.omnivore-image-cache.app/288x0,s13oQtx3wrUlWJ7PWMeRr1pScTV8YyT_Y8Lpv9pKlyHk/https://github.blog/wp-content/uploads/2022/05/blog-header-image.png?resize=288%2C179 288w,https://proxy-prod.omnivore-image-cache.app/512x0,sPSq0DwRAXYOqHzxA3q25P5HM60Yl_VVPLwYmBF_NlWE/https://github.blog/wp-content/uploads/2022/05/blog-header-image.png?resize=512%2C318 512w,https://proxy-prod.omnivore-image-cache.app/708x0,sQTZNxrLrM4EYwdzD9-oHe2wZfPBUYpsf4Ed9il5RfWs/https://github.blog/wp-content/uploads/2022/05/blog-header-image.png?resize=708%2C440 708w,https://proxy-prod.omnivore-image-cache.app/932x0,skhF0yxRhBdg4LtGDxYt7uJX9LaR7OoD5-UDAjvLSDBo/https://github.blog/wp-content/uploads/2022/05/blog-header-image.png?resize=932%2C579 932w,https://proxy-prod.omnivore-image-cache.app/1024x0,sUU4BeH7V9A5TuzGmA55ze0vlm7mXW11A2WVfgYZtrwI/https://github.blog/wp-content/uploads/2022/05/blog-header-image.png?resize=1024%2C636 1024w,\" src=\"https://proxy-prod.omnivore-image-cache.app/512x318,s4TfTiemyUjyGHC-Sjc-uLfnXiMs-v5By4ID1fxBP0TI/https://github.blog/wp-content/uploads/2022/05/blog-header-image.png?resize=512%2C318\" width=\"512\" height=\"318\" alt=\"How we’re using projects to build projects\" loading=\"lazy\" decoding=\"async\"></a></p><h3><a href=\"https://github.blog/2022-05-16-how-were-using-projects-to-build-projects/\">How we’re using projects to build projects</a></h3><p>At GitHub we use GitHub to build our own products, and the new projects experience is no different. Check out how our team uses projects to build powerful project planning for developers. </p>\n      \n    </div>\n  </article>\n      </div>\n    </section>\n  </div></DIV>",
    "labels": "github"
  }
]
